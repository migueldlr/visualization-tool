(this.webpackJsonpdsviz=this.webpackJsonpdsviz||[]).push([[0],{23:function(t,e,i){},33:function(t,e,i){t.exports=i(44)},34:function(t,e,i){},44:function(t,e,i){"use strict";i.r(e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i(23);var s=i(15),h=i(16),a=i(2),n=i(3),l=i(4),r=i(1),o=i(5);i(34);function d(t,e){var i=document.createTextNode(t);if(e)e.appendChild(i);else{var s=document.createElement("td");s.appendChild(i),document.getElementById("AlgorithmSpecificControls").appendChild(s)}return i}function c(t,e,i){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("value",t),e&&s.setAttribute("checked","true");var h=document.createTextNode(t);if(i){var a=document.createElement("span");a.appendChild(s),a.appendChild(h),i.appendChild(a)}else{var n=document.createElement("td");n.appendChild(s),n.appendChild(h),document.getElementById("AlgorithmSpecificControls").appendChild(n)}return s}function u(t,e,i){for(var s=[],h=document.createElement("table"),a=0;a<t.length;a++){var n=document.createElement("tr"),l=document.createElement("td"),r=document.createElement("input");r.setAttribute("type","radio"),r.setAttribute("name",e),r.setAttribute("value",t[a]),l.appendChild(r),n.appendChild(l);var o=document.createTextNode(" "+t[a]);l.appendChild(o),h.appendChild(n),s.push(r)}if(i)i.appendChild(h);else{var d=document.createElement("td");d.appendChild(h),document.getElementById("AlgorithmSpecificControls").appendChild(d)}return s}function m(t,e,i){var s=document.createElement("input");if(s.setAttribute("type",t),s.setAttribute("value",e),i)i.appendChild(s);else{var h=document.createElement("td");h.appendChild(s),document.getElementById("AlgorithmSpecificControls").appendChild(h)}return s}function g(t,e){var i=document.createElement("div");if(i.setAttribute("class",t?"hgroup":"vgroup"),e)e.appendChild(i);else{var s=document.createElement("td");s.appendChild(i),document.getElementById("AlgorithmSpecificControls").appendChild(s)}return i}var p=function(){function t(e,i,s){Object(a.a)(this,t),null!=e&&(this.animationManager=e,e.addListener("AnimationStarted",this,this.disableUI),e.addListener("AnimationEnded",this,this.enableUI),e.addListener("AnimationUndo",this,this.undo),this.canvasWidth=i,this.canvasHeight=s,this.actionHistory=[],this.recordAnimation=!0,this.commands=[])}return Object(n.a)(t,[{key:"addCodeToCanvasBase",value:function(t,e,i,s,h,a){a="undefined"!==typeof a?a:0;var n,l,r=Array(t.length);for(n=0;n<t.length;n++)for(r[n]=new Array(t[n].length),l=0;l<t[n].length;l++)r[n][l]=this.nextIndex++,this.cmd("CreateLabel",r[n][l],t[n][l],e,i+n*s,0),this.cmd("SetForegroundColor",r[n][l],h),this.cmd("SetLayer",r[n][l],a),l>0&&this.cmd("AlignRight",r[n][l],r[n][l-1]);return r}},{key:"setCodeAlpha",value:function(t,e){for(var i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)this.cmd("SetAlpha",t[i][s],e)}},{key:"cmd",value:function(){if(this.recordAnimation){for(var t=arguments[0],e=1;e<arguments.length;e++)t=t+"<;>"+String(arguments[e]);this.commands.push(t)}}},{key:"clearHistory",value:function(){this.actionHistory=[]}},{key:"undo",value:function(){this.actionHistory.pop(),this.reset();var t=this.actionHistory.length;this.recordAnimation=!1;for(var e=0;e<t;e++)this.actionHistory[e][0](this.actionHistory[e][1]);this.recordAnimation=!0}},{key:"implementAction",value:function(t,e){var i=[t,e];this.actionHistory.push(i);var s=t(e);this.animationManager.StartNewAnimation(s)}},{key:"normalizeNumber",value:function(t,e){return/\D/.test(t)||""===t?t:("OOO0000"+t).substr(-e,e)}},{key:"returnSubmit",value:function(t,e,i,s){return void 0!==i&&(t.size=i),function(h){var a=0;if(window.event?a=h.keyCode:h.which&&(a=h.which),13===a&&null!=e)e();else{if(190===a||59===a||173===a||189===a)return!1;if((void 0!==i&&t.value.length>=i||s&&(a<48||a>57))&&!I(a))return!1}}}},{key:"sizeChanged",value:function(t,e){throw new Error("sizeChanged should be implemented in base class")}},{key:"disableUI",value:function(t){throw new Error("disableUI should be implemented in base class")}},{key:"enableUI",value:function(t){throw new Error("enableUI should be implemented in base class")}},{key:"reset",value:function(){throw new Error("reset should be implemented in base class")}}]),t}();function I(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}p.prototype.returnSubmitFloat=function(t,e,i){return void 0!==i&&(t.size=i),function(s){var h=0;if(window.event?h=s.keyCode:s.which&&(h=s.which),13!==h)return I(h)?void 0:109===h?void 0:(void 0!==i||t.value.length<i)&&h>=48&&h<=57?void 0:(void 0!==i||t.value.length<i)&&190===h&&-1===t.value.indexOf(".")&&void 0;e()}},p.prototype.addReturnSubmit=function(t,e){t.onkeydown=this.returnSubmit(t,e,4,!1)};var D=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).first_print_pos_y=s-2*e.PRINT_VERTICAL_GAP,h.print_max=i-10,h.startingX=i/2,h.addControls(),h.nextIndex=1,h.commands=[],h.edges=[],h.cmd("CreateLabel",0,"",e.EXPLANITORY_TEXT_X,e.EXPLANITORY_TEXT_Y,0),h.animationManager.StartNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){var t=this;this.controls=[],this.insertField=m("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4),this.controls.push(this.insertField),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),this.deleteField=m("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4),this.controls.push(this.deleteField),this.deleteButton=m("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),this.findField=m("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4),this.controls.push(this.findField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.printButton=m("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton);var e=u(["Predecessor","Successor"],"Predecessor/Successor");this.predButton=e[0],this.succButton=e[1],this.predButton.onclick=function(){return t.predSucc="pred"},this.succButton.onclick=function(){return t.predSucc="succ"},this.succButton.checked=!0,this.predSucc="succ"}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null,this.edges=[]}},{key:"insertCallback",value:function(){var t=this,e=this.insertField.value;""!==(e=this.normalizeNumber(e,4))&&(this.insertField.value="",this.implementAction((function(e){return t.add(e)}),e))}},{key:"deleteCallback",value:function(){var t=this,e=this.deleteField.value;""!==e&&(e=this.normalizeNumber(e,4),this.deleteField.value="",this.implementAction((function(e){return t.remove(e)}),e))}},{key:"findCallback",value:function(){var t=this.findField.value;""!==t&&(t=this.normalizeNumber(t,4),this.findField.value="",this.implementAction(this.findElement.bind(this),t))}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"sizeChanged",value:function(t){this.startingX=t/2}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd("CreateHighlightCircle",this.highlightID,e.HIGHLIGHT_COLOR,this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=e.FIRST_PRINT_POS_X,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd("Delete",this.highlightID),this.cmd("Step");for(var i=t;i<this.nextIndex;i++)this.cmd("Delete",i);this.nextIndex=this.highlightID}return this.commands}},{key:"printTreeRec",value:function(t){this.cmd("Step"),null!=t.left&&(this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"));var i=this.nextIndex++;this.cmd("CreateLabel",i,t.data,t.x,t.y),this.cmd("SetForegroundColor",i,e.PRINT_COLOR),this.cmd("Move",i,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd("Step"),this.xPosOfNextLabel+=e.PRINT_HORIZONTAL_GAP,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=e.FIRST_PRINT_POS_X,this.yPosOfNextLabel+=e.PRINT_VERTICAL_GAP),null!=t.right&&(this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"))}},{key:"findElement",value:function(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}},{key:"doFind",value:function(t,i){this.cmd("SetText",0,"Searchiing for "+i),null!=t?(this.cmd("SetHighlight",t.graphicID,1),t.data===i?(this.cmd("SetText",0,"Searching for "+i+" : "+i+" = "+i+" (Element found!)"),this.cmd("Step"),this.cmd("SetText",0,"Found:"+i),this.cmd("SetHighlight",t.graphicID,0)):t.data>i?(this.cmd("SetText",0,"Searching for "+i+" : "+i+" < "+t.data+" (look to left subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.left&&(this.cmd("CreateHighlightCircle",this.highlightID,e.HIGHLIGHT_COLOR,t.x,t.y),this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.doFind(t.left,i)):(this.cmd("SetText",0," Searching for "+i+" : "+i+" > "+t.data+" (look to right subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.right&&(this.cmd("CreateHighlightCircle",this.highlightID,e.HIGHLIGHT_COLOR,t.x,t.y),this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.doFind(t.right,i))):(this.cmd("SetText",0," Searching for "+i+" : < Empty Tree > (Element not found)"),this.cmd("Step"),this.cmd("SetText",0," Searching for "+i+" :  (Element not found)"))}},{key:"remakeTree",value:function(t){null!=t&&(null!=t.left&&(this.cmd("Connect",t.graphicID,t.left.graphicID,e.LINK_COLOR),this.remakeTree(t.left)),null!=t.right&&(this.cmd("Connect",t.graphicID,t.right.graphicID,e.LINK_COLOR),this.remakeTree(t.right)))}},{key:"add",value:function(t){return this.commands=[],this.cmd("SetText",0," Inserting "+t),this.treeRoot=this.addH(t,this.treeRoot),this.resizeTree(),this.commands}},{key:"addH",value:function(t,i){if(null==i){this.cmd("SetText",0,"Null found, inserting new node");var s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++;return this.cmd("CreateCircle",s,t,30,e.STARTING_Y),this.cmd("SetForegroundColor",s,e.FOREGROUND_COLOR),this.cmd("SetBackgroundColor",s,e.BACKGROUND_COLOR),this.cmd("CreateLabel",h,0,10,e.STARTING_Y-20),this.cmd("SetForegroundColor",h,e.HEIGHT_LABEL_COLOR),this.cmd("CreateLabel",a,0,50,e.STARTING_Y-20),this.cmd("SetForegroundColor",a,e.HEIGHT_LABEL_COLOR),this.cmd("Step"),this.cmd("SetText",0,""),new b(t,s,h,a,0,0)}return this.cmd("SetHighlight",i.graphicID,1),t<i.data?(this.cmd("SetText",0,"".concat(t," < ").concat(i.data,". Looking at left subtree")),this.cmd("Step"),i.left=this.addH(t,i.left),i.left.parent=i,this.resizeTree(),this.connectSmart(i.graphicID,i.left.graphicID),this.cmd("Step")):t>i.data?(this.cmd("SetText",0,"".concat(t," > ").concat(i.data,". Looking at right subtree")),this.cmd("Step"),i.right=this.addH(t,i.right),i.right.parent=i,this.resizeTree(),this.connectSmart(i.graphicID,i.right.graphicID),this.cmd("Step")):(this.cmd("SetText",0,"".concat(t," == ").concat(i.data,". Ignoring duplicate!")),this.cmd("Step")),i=this.balance(i),this.cmd("SetHighlight",i.graphicID,0),this.cmd("SetText",0,""),i}},{key:"connectSmart",value:function(t,i){return!this.edges.some((function(e){return e[0]===t&&e[1]===i}))&&(this.cmd("Connect",t,i,e.LINK_COLOR),this.edges.push([t,i]),!0)}},{key:"balance",value:function(t){return t.updateHeightAndBF(),this.cmd("SetText",t.heightLabelID,t.height),this.cmd("SetText",t.bfLabelID,t.bf),this.cmd("SetText",0,"Adjusting height and balance factor after recursive call"),this.cmd("Step"),t.bf<-1?(this.cmd("SetText",0,"Balance factor < -1"),this.cmd("SetTextColor",t.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step"),null!=t.right&&t.right.bf>0?(this.cmd("SetText",0,"Right child balance factor > 0"),this.cmd("SetTextColor",t.right.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step"),this.cmd("SetText",0,"Right-left rotation"),this.cmd("Step"),this.cmd("SetTextColor",t.right.bfLabelID,e.HEIGHT_LABEL_COLOR),t.right=this.singleRotateRight(t.right)):(null!=t.right?(this.cmd("SetText",0,"Right child balance factor <= 0"),this.cmd("SetTextColor",t.right.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step")):(this.cmd("SetText",0,"No right child"),this.cmd("Step")),this.cmd("SetText",0,"Left rotation"),this.cmd("Step")),this.cmd("SetTextColor",t.bfLabelID,e.HEIGHT_LABEL_COLOR),this.cmd("SetTextColor",t.right.bfLabelID,e.HEIGHT_LABEL_COLOR),t=this.singleRotateLeft(t)):t.bf>1&&(this.cmd("SetText",0,"Balance factor > 1"),this.cmd("SetTextColor",t.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step"),null!=t.left&&t.left.bf<0?(this.cmd("SetText",0,"Left child balance factor < 0"),this.cmd("SetTextColor",t.left.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step"),this.cmd("SetText",0,"Left-right rotation"),this.cmd("Step"),this.cmd("SetTextColor",t.left.bfLabelID,e.HEIGHT_LABEL_COLOR),t.left=this.singleRotateLeft(t.left)):(null!=t.left?(this.cmd("SetText",0,"Left child balance factor >= 0"),this.cmd("SetTextColor",t.left.bfLabelID,e.HIGHLIGHT_LABEL_COLOR),this.cmd("Step")):(this.cmd("SetText",0,"No left child"),this.cmd("Step")),this.cmd("SetText",0,"Left rotation"),this.cmd("Step"),this.cmd("SetTextColor",t.bfLabelID,e.HEIGHT_LABEL_COLOR)),this.cmd("SetTextColor",t.bfLabelID,e.HEIGHT_LABEL_COLOR),this.cmd("SetTextColor",t.left.bfLabelID,e.HEIGHT_LABEL_COLOR),t=this.singleRotateRight(t)),t}},{key:"singleRotateRight",value:function(t){var i=t,s=t.left,h=s.right;return this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,1),this.cmd("Step"),null!=h&&(this.cmd("Disconnect",s.graphicID,h.graphicID),this.cmd("Connect",i.graphicID,h.graphicID,e.LINK_COLOR),h.parent=i),this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",s.graphicID,i.graphicID,e.LINK_COLOR),s.parent=i.parent,this.treeRoot===i?this.treeRoot=s:(this.cmd("Disconnect",i.parent.graphicID,i.graphicID,e.LINK_COLOR),this.cmd("Connect",i.parent.graphicID,s.graphicID,e.LINK_COLOR),i.isLeftChild()?i.parent.left=s:i.parent.right=s),s.right=i,i.parent=s,i.left=h,this.cmd("SetHighlight",s.graphicID,0),this.cmd("SetHighlight",i.graphicID,0),i.updateHeightAndBF(),this.cmd("SetText",i.heightLabelID,i.height),this.cmd("SetText",i.bfLabelID,i.bf),s.updateHeightAndBF(),this.cmd("SetText",s.heightLabelID,s.height),this.cmd("SetText",s.bfLabelID,s.bf),this.resizeTree(),s}},{key:"singleRotateLeft",value:function(t){var i=t,s=t.right,h=s.left;return this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,1),this.cmd("Step"),null!=h&&(this.cmd("Disconnect",s.graphicID,h.graphicID),this.cmd("Connect",i.graphicID,h.graphicID,e.LINK_COLOR),h.parent=i),this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",s.graphicID,i.graphicID,e.LINK_COLOR),s.parent=i.parent,this.treeRoot===i?this.treeRoot=s:(this.cmd("Disconnect",i.parent.graphicID,i.graphicID,e.LINK_COLOR),this.cmd("Connect",i.parent.graphicID,s.graphicID,e.LINK_COLOR),i.isLeftChild()?i.parent.left=s:i.parent.right=s),s.left=i,i.parent=s,i.right=h,this.cmd("SetHighlight",i.graphicID,0),this.cmd("SetHighlight",s.graphicID,0),i.updateHeightAndBF(),this.cmd("SetText",i.heightLabelID,i.height),this.cmd("SetText",i.bfLabelID,i.bf),s.updateHeightAndBF(),this.cmd("SetText",s.heightLabelID,s.height),this.cmd("SetText",s.bfLabelID,s.bf),this.resizeTree(),s}},{key:"getHeight",value:function(t){return null==t?-1:t.height}},{key:"resetHeight",value:function(t){if(null!=t){var e=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1;t.height!==e&&(t.height=Math.max(this.getHeight(t.left),this.getHeight(t.right))+1,this.cmd("SetText",t.heightLabelID,e))}}},{key:"deleteNode",value:function(t){this.cmd("Delete",t.graphicID),this.cmd("Delete",t.heightLabelID),this.cmd("Delete",t.bfLabelID)}},{key:"remove",value:function(t){return this.commands=[],this.cmd("SetText",0,"Deleting ".concat(t)),this.cmd("Step"),this.cmd("SetText",0," "),this.highlightID=this.nextIndex++,this.treeRoot=this.removeH(this.treeRoot,t),this.resizeTree(),this.cmd("SetText",0,""),this.commands}},{key:"removeH",value:function(t,e){if(null!=t){if(this.cmd("SetHighlight",t.graphicID,1),e<t.data)this.cmd("SetText",0,"".concat(e," < ").concat(t.data,". Looking left")),this.cmd("Step"),t.left=this.removeH(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree());else if(e>t.data)this.cmd("SetText",0,"".concat(e," > ").concat(t.data,". Looking right")),this.cmd("Step"),t.right=this.removeH(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree());else{if(null==t.left&&null==t.right)return this.cmd("SetText",0,"Element to delete is a leaf node"),this.cmd("Step"),this.deleteNode(t),null;if(null==t.left)return this.cmd("SetText",0,"One-child case, replace with right child"),this.cmd("Step"),this.deleteNode(t),t.right;if(null==t.right)return this.cmd("SetText",0,"One-child case, replace with left child"),this.cmd("Step"),this.deleteNode(t),t.left;var i=[];"succ"===this.predSucc?(this.cmd("SetText",0,"Two-child case, replace data with successor"),this.cmd("Step"),t.right=this.removeSucc(t.right,i)):(this.cmd("SetText",0,"Two-child case, replace data with predecessor"),this.cmd("Step"),t.left=this.removePred(t.left,i)),t.data=i[0],this.cmd("SetText",t.graphicID,t.data)}return t=this.balance(t),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetText",0,""),t}this.cmd("SetText",0,"".concat(e," not found in the tree"))}},{key:"removeSucc",value:function(t,e){return this.cmd("SetHighlight",t.graphicID,1,"#0000ff"),this.cmd("Step"),null==t.left?(this.cmd("SetText",0,"No left child, replace with right child"),this.cmd("Step"),e.push(t.data),this.deleteNode(t),t.right):(this.cmd("SetText",0,"Left child exists, look left"),this.cmd("Step"),t.left=this.removeSucc(t.left,e),null!=t.left&&(t.left.parent=t,this.connectSmart(t.graphicID,t.left.graphicID),this.resizeTree()),t=this.balance(t),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetText",0,""),t)}},{key:"removePred",value:function(t,e){return this.cmd("SetHighlight",t.graphicID,1,"#0000ff"),this.cmd("Step"),null==t.right?(this.cmd("SetText",0,"No right child, replace with right child"),this.cmd("Step"),e.push(t.data),this.deleteNode(t),t.left):(this.cmd("SetText",0,"Right child exists, look right"),this.cmd("Step"),t.right=this.removePred(t.right,e),null!=t.right&&(t.right.parent=t,this.connectSmart(t.graphicID,t.right.graphicID),this.resizeTree()),t=this.balance(t),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetText",0,""),t)}},{key:"resizeTree",value:function(){if(null!=this.treeRoot){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,e.STARTING_Y,0),this.animateNewPositions(this.treeRoot),this.cmd("Step"))}}},{key:"setNewPositions",value:function(t,i,s,h){null!=t&&(t.y=s,-1===h?(i-=t.rightWidth,t.heightLabelX=i-20,t.bfLabelX=i+20):1===h?(i+=t.leftWidth,t.heightLabelX=i-20,t.bfLabelX=i+20):(t.heightLabelX=i-20,t.bfLabelX=i+20),t.x=i,t.heightLabelY=t.y-20,t.bfLabelY=t.y-20,this.setNewPositions(t.left,i,s+e.HEIGHT_DELTA,-1),this.setNewPositions(t.right,i,s+e.HEIGHT_DELTA,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd("Move",t.graphicID,t.x,t.y),this.cmd("Move",t.heightLabelID,t.heightLabelX,t.heightLabelY),this.cmd("Move",t.bfLabelID,t.bfLabelX,t.bfLabelY),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),e.WIDTH_DELTA/2),t.rightWidth=Math.max(this.resizeWidths(t.right),e.WIDTH_DELTA/2),t.leftWidth+t.rightWidth)}},{key:"clear",value:function(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}},{key:"recClear",value:function(t){null!=t&&(this.cmd("Delete",t.graphicID),this.cmd("Delete",t.heightLabelID),this.cmd("Delete",t.bfLabelID),this.recClear(t.left),this.recClear(t.right))}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),b=function(){function t(e,i,s,h,n,l){Object(a.a)(this,t),this.data=e,this.x=n,this.y=l,this.heightLabelID=s,this.bfLabelID=h,this.height=0,this.bf=0,this.graphicID=i,this.left=null,this.right=null,this.parent=null}return Object(n.a)(t,[{key:"updateHeightAndBF",value:function(){var t=function(t){return null==t?-1:t.height},e=t(this.left),i=t(this.right);this.height=Math.max(e,i)+1,this.bf=e-i}},{key:"isLeftChild",value:function(){return null==this.parent||this.parent.left===this}}]),t}();D.HIGHLIGHT_LABEL_COLOR="#FF0000",D.HIGHLIGHT_LINK_COLOR="#FF0000",D.HIGHLIGHT_COLOR="#007700",D.HEIGHT_LABEL_COLOR="#007700",D.LINK_COLOR="#00B000",D.HIGHLIGHT_CIRCLE_COLOR="#007700",D.FOREGROUND_COLOR="0x007700",D.BACKGROUND_COLOR="#DDFFDD",D.PRINT_COLOR=D.FOREGROUND_COLOR,D.WIDTH_DELTA=50,D.HEIGHT_DELTA=50,D.STARTING_Y=50,D.FIRST_PRINT_POS_X=50,D.PRINT_VERTICAL_GAP=20,D.PRINT_HORIZONTAL_GAP=50,D.EXPLANITORY_TEXT_X=10,D.EXPLANITORY_TEXT_Y=10;var f=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){var t=this;this.controls=[],d("Value"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addValueField),d("at index"),this.addIndexField=m("Text",""),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,(function(){return t.addIndexCallback()}),4,!0),this.controls.push(this.addIndexField),this.addIndexButton=m("Button","Add at Index"),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),d("or"),this.addFrontButton=m("Button","Add to Front"),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=m("Button","Add to Back"),this.addBackButton.onclick=function(){return t.addBackCallback()},this.controls.push(this.addBackButton),this.removeField=m("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,(function(){return t.removeIndexCallback()}),4,!0),this.controls.push(this.removeField),this.removeIndexButton=m("Button","Remove from Index"),this.removeIndexButton.onclick=function(){return t.removeIndexCallback()},this.controls.push(this.removeIndexButton),d("or"),this.removeFrontButton=m("Button","Remove from Front"),this.removeFrontButton.onclick=function(){return t.removeFrontCallback()},this.controls.push(this.removeFrontButton),this.removeBackButton=m("Button","Remove from Back"),this.removeBackButton.onclick=function(){return t.removeBackCallback()},this.controls.push(this.removeBackButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=function(){return t.clearCallback()},this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayData=new Array(10),this.arrayID=new Array(10),this.arrayLabelID=new Array(10);for(var t=0;t<10;t++)this.arrayData[t]=0,this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.size=0,this.commands=[];for(var e=0;e<10;e++){var i=e%15*50+100,s=130*Math.floor(e/15)+200;this.cmd("CreateRectangle",this.arrayID[e],"",50,50,i,s),this.cmd("CreateLabel",this.arrayLabelID[e],e,i,s+50),this.cmd("SetForegroundColor",this.arrayLabelID[e],"#0000FF")}this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.size=0;for(var t=0;t<10;t++)this.arrayData[t]=0,this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++}},{key:"addIndexCallback",value:function(){var t=this;if(""!==this.addValueField.value&&""!==this.addIndexField.value&&this.size<10){var e=this.addValueField.value,i=this.addIndexField.value;i>=0&&i<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction((function(e){return t.add(e)}),e+","+i))}}},{key:"addFrontCallback",value:function(){var t=this;if(""!==this.addValueField.value&&this.size<10){var e=this.addValueField.value;this.addValueField.value="",this.implementAction((function(e){return t.add(e)}),e+",0")}}},{key:"addBackCallback",value:function(){var t=this;if(""!==this.addValueField.value&&this.size<10){var e=this.addValueField.value;this.addValueField.value="",this.implementAction((function(e){return t.add(e)}),e+","+this.size)}}},{key:"removeIndexCallback",value:function(){var t=this;if(""!==this.removeField.value){var e=this.removeField.value;e>=0&&e<this.size&&(this.removeField.value="",this.implementAction((function(e){return t.remove(e)}),e))}}},{key:"removeFrontCallback",value:function(){var t=this;this.size>0&&this.implementAction((function(e){return t.remove(e)}),0)}},{key:"removeBackCallback",value:function(){var t=this;this.size>0&&this.implementAction((function(e){return t.remove(e)}),this.size-1)}},{key:"clearCallback",value:function(){var t=this;this.implementAction((function(){return t.clear()}),"")}},{key:"clear",value:function(){return this.commands=[],this.clearAll(),this.commands}},{key:"add",value:function(t){this.commands=[];for(var e=parseInt(t.split(",")[0]),i=parseInt(t.split(",")[1]),s=this.nextIndex++,h=this.nextIndex++,a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a];this.arrayData[i]=e,this.cmd("CreateLabel",s,"Adding Value: ",50,30),this.cmd("CreateLabel",h,e,120,30),this.cmd("Step");for(var n=this.size-1;n>=i;n--){var l=n%15*50+100,r=130*Math.floor(n/15)+200,o=this.nextIndex+n;this.cmd("CreateLabel",o,this.arrayData[n+1],l,r),this.cmd("Settext",this.arrayID[n],""),this.cmd("Move",o,l+50,r)}this.cmd("Step");for(var d=this.size-1;d>=i;d--){var c=this.nextIndex+d;this.cmd("Settext",this.arrayID[d+1],this.arrayData[d+1]),this.cmd("Delete",c)}this.cmd("Step"),this.nextIndex+=this.size-i,this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",120,30),this.cmd("Step");var u=parseInt(i)%15*50+100,m=130*Math.floor(parseInt(i)/15)+200;return this.cmd("Move",this.highlight1ID,u,m),this.cmd("Move",h,u,m),this.cmd("Step"),this.cmd("Settext",this.arrayID[i],e),this.cmd("Delete",h),this.cmd("Delete",this.highlight1ID),this.cmd("Step"),this.cmd("Delete",s),this.cmd("Step"),this.size=this.size+1,this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var e=this.nextIndex++,i=t%15*50+100,s=130*Math.floor(t/15)+200;this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",i,s),this.cmd("CreateLabel",e,this.arrayData[t],i,s),this.cmd("Settext",this.arrayID[t],""),this.cmd("Move",this.highlight1ID,i,s-100),this.cmd("Move",e,i,s-100),this.cmd("Step"),this.cmd("Delete",e),this.cmd("Delete",this.highlight1ID),this.cmd("Step");for(var h=t+1;h<this.size;h++){var a=h%15*50+100,n=130*Math.floor(h/15)+200,l=this.nextIndex+h;this.cmd("CreateLabel",l,this.arrayData[h],a,n),this.cmd("Settext",this.arrayID[h],""),this.cmd("Move",l,a-50,n)}this.cmd("Step");for(var r=t+1;r<this.size;r++){var o=this.nextIndex+r;this.cmd("Settext",this.arrayID[r-1],this.arrayData[r]),this.cmd("Delete",o)}this.cmd("Step");for(var d=t;d<this.size;d++)this.arrayData[d]=this.arrayData[d+1];return this.size=this.size-1,this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd("SetText",this.arrayID[t],"");return this.size=0,this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),v=i(7),x=[[!1,!0,!0,!1,!0,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0],[!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1],[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1,!1,!1,!1],[!1,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!1,!0,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!0,!1]],y=[[0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,.25,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-.25],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,.25,0,0,0,0,0,0,0,0,0,0,0,-.4,0,0]],S=[600,700,800,900,650,750,850,600,700,800,900,650,750,850,600,700,800,900],k=[50,50,50,50,150,150,150,250,250,250,250,350,350,350,450,450,450,450],C=[[!1,!0,!0,!0,!0,!1,!1,!1],[!0,!1,!0,!0,!1,!0,!0,!1],[!0,!0,!1,!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1,!0,!1,!0],[!0,!1,!0,!1,!1,!1,!0,!0],[!1,!0,!0,!0,!1,!1,!0,!0],[!1,!0,!0,!1,!0,!0,!1,!0],[!1,!1,!1,!0,!0,!0,!0,!1]],L=[[0,.001,0,.5,-.5,0,0,0],[0,0,0,.001,0,.001,-.2,0],[0,.001,0,0,0,.2,0,0],[-.5,0,0,0,0,.001,0,.5],[.5,0,0,0,0,0,0,-.5],[0,0,-.2,0,0,0,.001,.001],[0,.2,0,0,0,0,0,0],[0,0,0,-.5,.5,0,0,0]],T=[800,725,875,650,950,725,875,800],_=[25,125,125,225,225,325,325,425],E=function(t){function e(t,i,s,h,n){var o;return Object(a.a)(this,e),h=void 0===h||h,n=void 0!==n&&n,(o=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).nextIndex=0,o.currentLayer=1,o.isDAG=n,o.directed=h,o.currentLayer=1,o.addControls(),o.setup_small(),o}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(t){if(null==t&&(t=!0),this.newGraphButton=m("Button","New Graph"),this.newGraphButton.onclick=this.newGraphCallback.bind(this),t){var e=u(["Directed Graph","Undirected Graph"],"GraphType");this.directedGraphButton=e[0],this.directedGraphButton.onclick=this.directedGraphCallback.bind(this,!0),this.undirectedGraphButton=e[1],this.undirectedGraphButton.onclick=this.directedGraphCallback.bind(this,!1),this.directedGraphButton.checked=this.directed,this.undirectedGraphButton.checked=!this.directed}var i=u(["Small Graph","Large Graph"],"GraphSize");this.smallGraphButton=i[0],this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.largeGraphButton=i[1],this.largeGraphButton.onclick=this.largeGraphCallback.bind(this),this.smallGraphButton.checked=!0,i=u(["Logical Representation","Adjacency List Representation","Adjacency Matrix Representation"],"GraphRepresentation"),this.logicalButton=i[0],this.logicalButton.onclick=this.graphRepChangedCallback.bind(this,1),this.adjacencyListButton=i[1],this.adjacencyListButton.onclick=this.graphRepChangedCallback.bind(this,2),this.adjacencyMatrixButton=i[2],this.adjacencyMatrixButton.onclick=this.graphRepChangedCallback.bind(this,3),this.logicalButton.checked=!0}},{key:"directedGraphCallback",value:function(t){t!==this.directed&&(this.directed=t,this.animationManager.resetAll(),this.setup())}},{key:"smallGraphCallback",value:function(){8!==this.size&&(this.animationManager.resetAll(),this.setup_small())}},{key:"largeGraphCallback",value:function(){18!==this.size&&(this.animationManager.resetAll(),this.setup_large())}},{key:"newGraphCallback",value:function(){this.animationManager.resetAll(),this.setup()}},{key:"graphRepChangedCallback",value:function(t){this.animationManager.setAllLayers([0,t]),this.currentLayer=t}},{key:"recolorGraph",value:function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&this.setEdgeColor(t,e,"#000000")}},{key:"highlightEdge",value:function(t,e,i){this.cmd("SetHighlight",this.adj_list_edges[t][e],i),this.cmd("SetHighlight",this.adj_matrixID[t][e],i),this.cmd("SetEdgeHighlight",this.circleID[t],this.circleID[e],i),this.directed||this.cmd("SetEdgeHighlight",this.circleID[e],this.circleID[t],i)}},{key:"setEdgeColor",value:function(t,e,i){this.cmd("SetForegroundColor",this.adj_list_edges[t][e],i),this.cmd("SetTextColor",this.adj_matrixID[t][e],i),this.cmd("SetEdgeColor",this.circleID[t],this.circleID[e],i),this.directed||this.cmd("SetEdgeColor",this.circleID[e],this.circleID[t],i)}},{key:"clearEdges",value:function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++)this.adj_matrix[t][e]>=0&&this.cmd("Disconnect",this.circleID[t],this.circleID[e])}},{key:"rebuildEdges",value:function(){this.clearEdges(),this.buildEdges()}},{key:"buildEdges",value:function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++)if(this.adj_matrix[t][e]>=0){var i=this.showEdgeCosts?String(this.adj_matrix[t][e]):"";this.directed?this.cmd("Connect",this.circleID[t],this.circleID[e],"#000000",this.adjustCurveForDirectedEdges(this.curve[t][e],this.adj_matrix[e][t]>=0),1,i):t<e&&this.cmd("Connect",this.circleID[t],this.circleID[e],"#000000",this.curve[t][e],0,i)}}},{key:"setup_small",value:function(){this.allowed=C,this.curve=L,this.x_pos_logical=T,this.y_pos_logical=_,this.adj_matrix_x_start=700,this.adj_matrix_y_start=40,this.adj_matrix_width=30,this.adj_matrix_height=30,this.adj_list_x_start=600,this.adj_list_y_start=30,this.adj_list_elem_width=50,this.adj_list_elem_height=30,this.adj_list_height=36,this.adj_list_width=36,this.adj_list_spacing=10,this.size=8,this.setup()}},{key:"setup_large",value:function(){this.allowed=x,this.curve=y,this.x_pos_logical=S,this.y_pos_logical=k,this.adj_matrix_x_start=575,this.adj_matrix_y_start=30,this.adj_matrix_width=23,this.adj_matrix_height=23,this.adj_list_x_start=600,this.adj_list_y_start=30,this.adj_list_elem_width=50,this.adj_list_elem_height=26,this.adj_list_height=30,this.adj_list_width=30,this.adj_list_spacing=10,this.size=18,this.setup()}},{key:"adjustCurveForDirectedEdges",value:function(t,e){return!e||Math.abs(t)>.01?t:.1}},{key:"setup",value:function(){this.commands=[],this.circleID=new Array(this.size);for(var t=0;t<this.size;t++)this.circleID[t]=this.nextIndex++,this.cmd("CreateCircle",this.circleID[t],String.fromCharCode(65+t),this.x_pos_logical[t],this.y_pos_logical[t]),this.cmd("SetTextColor",this.circleID[t],"#0000FF",0),this.cmd("SetLayer",this.circleID[t],1);this.adj_matrix=new Array(this.size),this.adj_matrixID=new Array(this.size);for(var e=0;e<this.size;e++)this.adj_matrix[e]=new Array(this.size),this.adj_matrixID[e]=new Array(this.size);var i;if(i=8===this.size?this.directed?.4:.5:this.directed?.35:.6,this.directed){for(var s=0;s<this.size;s++)for(var h=0;h<this.size;h++)this.adj_matrixID[s][h]=this.nextIndex++,this.allowed[s][h]&&Math.random()<=i&&(s<h||Math.abs(this.curve[s][h])<.01||-1===this.adj_matrixID[h][s])&&(!this.isDAG||s<h)?this.showEdgeCosts?this.adj_matrix[s][h]=Math.floor(9*Math.random())+1:this.adj_matrix[s][h]=1:this.adj_matrix[s][h]=-1;this.buildEdges()}else{for(var a=0;a<this.size;a++)for(var n=a+1;n<this.size;n++)if(this.adj_matrixID[a][n]=this.nextIndex++,this.adj_matrixID[n][a]=this.nextIndex++,this.allowed[a][n]&&Math.random()<=i){this.showEdgeCosts?this.adj_matrix[a][n]=Math.floor(9*Math.random())+1:this.adj_matrix[a][n]=1,this.adj_matrix[n][a]=this.adj_matrix[a][n];var l=void 0;l=this.showEdgeCosts?String(this.adj_matrix[a][n]):"",this.cmd("Connect",this.circleID[a],this.circleID[n],"#000000",this.curve[a][n],0,l)}else this.adj_matrix[a][n]=-1,this.adj_matrix[n][a]=-1;this.buildEdges();for(var r=0;r<this.size;r++)this.adj_matrix[r][r]=-1}this.buildAdjList(),this.buildAdjMatrix(),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.clearHistory()}},{key:"resetAll",value:function(){}},{key:"buildAdjMatrix",value:function(){this.adj_matrix_index_x=new Array(this.size),this.adj_matrix_index_y=new Array(this.size);for(var t=0;t<this.size;t++){this.adj_matrix_index_x[t]=this.nextIndex++,this.adj_matrix_index_y[t]=this.nextIndex++,this.cmd("CreateLabel",this.adj_matrix_index_x[t],t,this.adj_matrix_x_start+t*this.adj_matrix_width,this.adj_matrix_y_start-this.adj_matrix_height),this.cmd("SetForegroundColor",this.adj_matrix_index_x[t],"#0000FF"),this.cmd("CreateLabel",this.adj_matrix_index_y[t],t,this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd("SetForegroundColor",this.adj_matrix_index_y[t],"#0000FF"),this.cmd("SetLayer",this.adj_matrix_index_x[t],3),this.cmd("SetLayer",this.adj_matrix_index_y[t],3);for(var e=0;e<this.size;e++){this.adj_matrixID[t][e]=this.nextIndex++;var i=void 0;i=this.adj_matrix[t][e]<0?"":String(this.adj_matrix[t][e]),this.cmd("CreateRectangle",this.adj_matrixID[t][e],i,this.adj_matrix_width,this.adj_matrix_height,this.adj_matrix_x_start+e*this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd("SetLayer",this.adj_matrixID[t][e],3)}}}},{key:"removeAdjList",value:function(){for(var t=0;t<this.size;t++){this.cmd("Delete",this.adj_list_list[t],"RAL1"),this.cmd("Delete",this.adj_list_index[t],"RAL2");for(var e=0;e<this.size;e++)this.adj_matrix[t][e]>0&&this.cmd("Delete",this.adj_list_edges[t][e],"RAL3")}}},{key:"buildAdjList",value:function(){this.adj_list_index=new Array(this.size),this.adj_list_list=new Array(this.size),this.adj_list_edges=new Array(this.size);for(var t=0;t<this.size;t++){this.adj_list_index[t]=this.nextIndex++,this.adj_list_edges[t]=new Array(this.size),this.adj_list_index[t]=this.nextIndex++,this.adj_list_list[t]=this.nextIndex++,this.cmd("CreateRectangle",this.adj_list_list[t],"",this.adj_list_width,this.adj_list_height,this.adj_list_x_start,this.adj_list_y_start+t*this.adj_list_height),this.cmd("SetLayer",this.adj_list_list[t],2),this.cmd("CreateLabel",this.adj_list_index[t],t,this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd("SetForegroundColor",this.adj_list_index[t],"#0000FF"),this.cmd("SetLayer",this.adj_list_index[t],2);for(var e=this.adj_list_list[t],i=this.adj_list_x_start+this.adj_list_width+this.adj_list_spacing,s=!1,h=0;h<this.size;h++)this.adj_matrix[t][h]>0&&(s=!0,this.adj_list_edges[t][h]=this.nextIndex++,this.cmd("CreateLinkedList",this.adj_list_edges[t][h],h,this.adj_list_elem_width,this.adj_list_elem_height,i,this.adj_list_y_start+t*this.adj_list_height,.25,0,1,2),this.cmd("SetNull",this.adj_list_edges[t][h],1),this.cmd("SetText",this.adj_list_edges[t][h],this.adj_matrix[t][h],1),this.cmd("SetTextColor",this.adj_list_edges[t][h],"#0000FF",0),this.cmd("SetLayer",this.adj_list_edges[t][h],2),i=i+this.adj_list_elem_width+this.adj_list_spacing,this.cmd("Connect",e,this.adj_list_edges[t][h]),this.cmd("SetNull",e,0),e=this.adj_list_edges[t][h]);s||this.cmd("SetNull",this.adj_list_list[t],1)}}},{key:"reset",value:function(){}},{key:"disableUI",value:function(){this.newGraphButton.disabled=!0,null!=this.directedGraphButton&&(this.directedGraphButton.disabled=!0),null!=this.undirectedGraphButton&&(this.undirectedGraphButton.disabled=!0),this.smallGraphButton.disabled=!0,this.largeGraphButton.disabled=!0}},{key:"enableUI",value:function(){this.newGraphButton.disabled=!1,null!=this.directedGraphButton&&(this.directedGraphButton.disabled=!1),null!=this.undirectedGraphButton&&(this.undirectedGraphButton.disabled=!1),this.smallGraphButton.disabled=!1,this.largeGraphButton.disabled=!1}}]),e}(p),F=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).showEdgeCosts=!1,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){d("Start Vertex: "),this.startField=m("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.startButton=m("Button","Run BFS"),this.startButton.onclick=this.startCallback.bind(this),Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this)}},{key:"setup",value:function(){Object(v.a)(Object(r.a)(e.prototype),"setup",this).call(this),this.messageID=[],this.commands=[],this.visitedID=new Array(this.size),this.visitedIndexID=new Array(this.size),this.parentID=new Array(this.size),this.parentIndexID=new Array(this.size);for(var t=0;t<this.size;t++)this.visitedID[t]=this.nextIndex++,this.visitedIndexID[t]=this.nextIndex++,this.parentID[t]=this.nextIndex++,this.parentIndexID[t]=this.nextIndex++,this.cmd("CreateRectangle",this.visitedID[t],"F",25,25,475,50+25*t),this.cmd("CreateLabel",this.visitedIndexID[t],String.fromCharCode(65+t),450,50+25*t),this.cmd("SetForegroundColor",this.visitedIndexID[t],"#0000FF"),this.cmd("CreateRectangle",this.parentID[t],"",25,25,400,50+25*t),this.cmd("CreateLabel",this.parentIndexID[t],String.fromCharCode(65+t),375,50+25*t),this.cmd("SetForegroundColor",this.parentIndexID[t],"#0000FF");this.cmd("CreateLabel",this.nextIndex++,"Parent",375,12.5,0),this.cmd("CreateLabel",this.nextIndex++,"Visited",450,12.5,0),this.cmd("CreateLabel",this.nextIndex++,"BFS Queue",30,20,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++}},{key:"startCallback",value:function(){var t;""!==this.startField.value&&(t=this.startField.value,this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)<this.size&&this.implementAction(this.doBFS.bind(this),t))}},{key:"doBFS",value:function(t){this.visited=new Array(this.size),this.commands=[],this.queue=new Array(this.size);var e=0,i=0,s=new Array(this.size),h=0;if(null!=this.messageID)for(var a=0;a<this.messageID.length;a++)this.cmd("Delete",this.messageID[a]);this.rebuildEdges(),this.messageID=[];for(var n=0;n<this.size;n++)this.cmd("SetText",this.visitedID[n],"F"),this.cmd("SetText",this.parentID[n],""),this.visited[n]=!1,s[n]=this.nextIndex++;var l=t;for(this.visited[l]=!0,this.queue[i]=l,this.cmd("CreateLabel",s[i],String.fromCharCode(65+l),30+30*h,50),h+=1,i=(i+1)%this.size;h>0;){l=this.queue[e],this.cmd("CreateHighlightCircle",this.highlightCircleL,"#000000",this.x_pos_logical[l],this.y_pos_logical[l]),this.cmd("SetLayer",this.highlightCircleL,1),this.cmd("CreateHighlightCircle",this.highlightCircleAL,"#000000",this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+l*this.adj_list_height),this.cmd("SetLayer",this.highlightCircleAL,2),this.cmd("CreateHighlightCircle",this.highlightCircleAM,"#000000",this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+l*this.adj_matrix_height),this.cmd("SetLayer",this.highlightCircleAM,3),this.cmd("SetTextColor",s[e],"#0000FF");for(var r=0;r<this.size;r++)this.adj_matrix[l][r]>0&&(this.highlightEdge(l,r,1),this.cmd("SetHighlight",this.visitedID[r],1),this.cmd("Step"),this.visited[r]?this.highlightEdge(l,r,0):(this.visited[r]=!0,this.cmd("SetText",this.visitedID[r],"T"),this.cmd("SetText",this.parentID[r],String.fromCharCode(65+l)),this.highlightEdge(l,r,0),this.cmd("Disconnect",this.circleID[l],this.circleID[r]),this.cmd("Connect",this.circleID[l],this.circleID[r],"#0000FF",this.curve[l][r],1,""),this.queue[i]=r,this.cmd("CreateLabel",s[i],String.fromCharCode(65+r),30+30*h,50),i=(i+1)%this.size,h+=1),this.cmd("SetHighlight",this.visitedID[r],0),this.cmd("Step"));this.cmd("Delete",s[e]),e=(e+1)%this.size,h-=1;for(var o=0;o<h;o++){var d=(o+e)%this.size;this.cmd("Move",s[d],30+30*o,50)}this.cmd("Delete",this.highlightCircleL),this.cmd("Delete",this.highlightCircleAM),this.cmd("Delete",this.highlightCircleAL)}return this.commands}},{key:"reset",value:function(){}},{key:"enableUI",value:function(t){this.startField.disabled=!1,this.startButton.disabled=!1,Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this,t)}},{key:"disableUI",value:function(t){this.startField.disabled=!0,this.startButton.disabled=!0,Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this,t)}}]),e}(E),A=20,O=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).startingX=i/2,h.first_print_pos_y=s-2*A,h.print_max=i-10,h.addControls(),h.nextIndex=0,h.commands=[],h.cmd("CreateLabel",0,"",20,10,0),h.nextIndex=1,h.animationManager.StartNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.insertField=m("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4),this.controls.push(this.insertField),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),this.deleteField=m("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4),this.controls.push(this.deleteField),this.deleteButton=m("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),this.findField=m("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4),this.controls.push(this.findField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.printButton=m("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==(t=this.normalizeNumber(t,4))&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),t))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t))}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd("CreateHighlightCircle",this.highlightID,"#007700",this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd("Delete",this.highlightID),this.cmd("Step");for(var e=t;e<this.nextIndex;e++)this.cmd("Delete",e);this.nextIndex=this.highlightID}return this.commands}},{key:"printTreeRec",value:function(t){this.cmd("Step"),null!=t.left&&(this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"));var e=this.nextIndex++;this.cmd("CreateLabel",e,t.data,t.x,t.y),this.cmd("SetForegroundColor",e,"#007700"),this.cmd("Move",e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd("Step"),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=A),null!=t.right&&(this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"))}},{key:"findCallback",value:function(){var t=this.normalizeNumber(this.findField.value,4);this.findField.value="",this.implementAction(this.findElement.bind(this),t)}},{key:"findElement",value:function(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t),this.commands}},{key:"doFind",value:function(t,e){this.cmd("SetText",0,"Searching for "+e),null!=t?(this.cmd("SetHighlight",t.graphicID,1),t.data===e?(this.cmd("SetText",0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd("Step"),this.cmd("SetText",0,"Found:"+e),this.cmd("SetHighlight",t.graphicID,0)):t.data>e?(this.cmd("SetText",0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.left&&(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.doFind(t.left,e)):(this.cmd("SetText",0,"Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.right&&(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.doFind(t.right,e))):(this.cmd("SetText",0,"Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd("Step"),this.cmd("SetText",0,"Searching for "+e+" :  (Element not found)"))}},{key:"insertElement",value:function(t){if(this.commands=[],this.cmd("SetText",0,"Inserting "+t),this.highlightID=this.nextIndex++,null==this.treeRoot)this.cmd("CreateCircle",this.nextIndex,t,this.startingX,50),this.cmd("SetForegroundColor",this.nextIndex,"#007700"),this.cmd("SetBackgroundColor",this.nextIndex,"#EEFFEE"),this.cmd("Step"),this.treeRoot=new j(t,this.nextIndex,this.startingX,50),this.nextIndex+=1;else{this.cmd("CreateCircle",this.nextIndex,t,100,100),this.cmd("SetForegroundColor",this.nextIndex,"#007700"),this.cmd("SetBackgroundColor",this.nextIndex,"#EEFFEE"),this.cmd("Step");var e=new j(t,this.nextIndex,100,100);this.nextIndex+=1,this.cmd("SetHighlight",e.graphicID,1),this.insert(e,this.treeRoot),this.resizeTree()}return this.cmd("SetText",0,""),this.commands}},{key:"insert",value:function(t,e){var i=!1;this.cmd("SetHighlight",e.graphicID,1),this.cmd("SetHighlight",t.graphicID,1),t.data<e.data?this.cmd("SetText",0,t.data+" < "+e.data+".  Looking at left subtree"):t.data>e.data?this.cmd("SetText",0,t.data+" > "+e.data+".  Looking at right subtree"):(this.cmd("SetText",0,t.data+" = "+e.data+". Ignoring duplicate"),i=!0),this.cmd("Step"),this.cmd("SetHighlight",e.graphicID,0),this.cmd("SetHighlight",t.graphicID,0),i?this.cmd("Delete",t.graphicID,0):t.data<e.data?null==e.left?(this.cmd("SetText",0,"Found null tree, inserting element"),this.cmd("SetHighlight",t.graphicID,0),e.left=t,t.parent=e,this.cmd("Connect",e.graphicID,t.graphicID,"#007700")):(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",e.x,e.y),this.cmd("Move",this.highlightID,e.left.x,e.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.insert(t,e.left)):null==e.right?(this.cmd("SetText",0,"Found null tree, inserting element"),this.cmd("SetHighlight",t.graphicID,0),e.right=t,t.parent=e,this.cmd("Connect",e.graphicID,t.graphicID,"#007700"),t.x=e.x+25,t.y=e.y+50,this.cmd("Move",t.graphicID,t.x,t.y)):(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",e.x,e.y),this.cmd("Move",this.highlightID,e.right.x,e.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.insert(t,e.right))}},{key:"deleteElement",value:function(t){return this.commands=[],this.cmd("SetText",0,"Deleting "+t),this.cmd("Step"),this.cmd("SetText",0,""),this.highlightID=this.nextIndex++,this.treeDelete(this.treeRoot,t),this.cmd("SetText",0,""),this.commands}},{key:"treeDelete",value:function(t,e){var i=!1;if(null!=t)if(null!=t.parent&&(i=t.parent.left===t),this.cmd("SetHighlight",t.graphicID,1),e<t.data?this.cmd("SetText",0,e+" < "+t.data+".  Looking at left subtree"):e>t.data?this.cmd("SetText",0,e+" > "+t.data+".  Looking at right subtree"):this.cmd("SetText",0,e+" == "+t.data+".  Found node to delete"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),e===t.data)if(null==t.left&&null==t.right)this.cmd("SetText",0,"Node to delete is a leaf.  Delete it."),this.cmd("Delete",t.graphicID),i&&null!=t.parent?t.parent.left=null:null!=t.parent?t.parent.right=null:this.treeRoot=null,this.resizeTree(),this.cmd("Step");else if(null==t.left)this.cmd("SetText",0,"Node to delete has no left child.  \nSet parent of deleted node to right child of deleted node."),null!=t.parent?(this.cmd("Disconnect",t.parent.graphicID,t.graphicID),this.cmd("Connect",t.parent.graphicID,t.right.graphicID,"#007700"),this.cmd("Step"),this.cmd("Delete",t.graphicID),i?t.parent.left=t.right:t.parent.right=t.right,t.right.parent=t.parent):(this.cmd("Delete",t.graphicID),this.treeRoot=t.right,this.treeRoot.parent=null),this.resizeTree();else if(null==t.right)this.cmd("SetText",0,"Node to delete has no right child.  \nSet parent of deleted node to left child of deleted node."),null!=t.parent?(this.cmd("Disconnect",t.parent.graphicID,t.graphicID),this.cmd("Connect",t.parent.graphicID,t.left.graphicID,"#007700"),this.cmd("Step"),this.cmd("Delete",t.graphicID),i?t.parent.left=t.left:t.parent.right=t.left,t.left.parent=t.parent):(this.cmd("Delete",t.graphicID),this.treeRoot=t.left,this.treeRoot.parent=null),this.resizeTree();else{this.cmd("SetText",0,"Node to delete has two childern.  \nFind largest node in left subtree."),this.highlightID=this.nextIndex,this.nextIndex+=1,this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y);var s=t;for(s=t.left,this.cmd("Move",this.highlightID,s.x,s.y),this.cmd("Step");null!=s.right;)s=s.right,this.cmd("Move",this.highlightID,s.x,s.y),this.cmd("Step");this.cmd("SetText",t.graphicID," ");var h=this.nextIndex;this.nextIndex+=1,this.cmd("CreateLabel",h,s.data,s.x,s.y),t.data=s.data,this.cmd("Move",h,t.x,t.y),this.cmd("SetText",0,"Copy largest value of left subtree into node to delete."),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("Delete",h),this.cmd("SetText",t.graphicID,t.data),this.cmd("Delete",this.highlightID),this.cmd("SetText",0,"Remove node whose value we copied."),null==s.left?(s.parent!==t?s.parent.right=null:t.left=null,this.cmd("Delete",s.graphicID),this.resizeTree()):(this.cmd("Disconnect",s.parent.graphicID,s.graphicID),this.cmd("Connect",s.parent.graphicID,s.left.graphicID,"#007700"),this.cmd("Step"),this.cmd("Delete",s.graphicID),s.parent!==t?(s.parent.right=s.left,s.left.parent=s.parent):(t.left=s.left,s.left.parent=t),this.resizeTree())}else e<t.data?(null!=t.left&&(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.treeDelete(t.left,e)):(null!=t.right&&(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID)),this.treeDelete(t.right,e));else this.cmd("SetText",0,"Elemet "+e+" not found, could not delete")}},{key:"resizeTree",value:function(){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,50,0),this.animateNewPositions(this.treeRoot),this.cmd("Step"))}},{key:"setNewPositions",value:function(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+50,-1),this.setNewPositions(t.right,e,i+50,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd("Move",t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),25),t.rightWidth=Math.max(this.resizeWidths(t.right),25),t.leftWidth+t.rightWidth)}},{key:"clear",value:function(){return this.commands=[],this.recClear(this.treeRoot),this.treeRoot=null,this.commands}},{key:"recClear",value:function(t){null!=t&&(this.cmd("Delete",t.graphicID),this.recClear(t.left),this.recClear(t.right))}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p);function j(t,e,i,s){this.data=t,this.x=i,this.y=s,this.graphicID=e,this.left=null,this.right=null,this.parent=null}var B=20,H=5,R=10,w=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).nextIndex=0,h.starting_x=i/2,h.preemptiveSplit=!1,h.addControls(),h.max_keys=3,h.min_keys=1,h.split_index=1,h.max_degree=4,h.messageID=h.nextIndex++,h.cmd("CreateLabel",h.messageID,"",H,R,0),h.moveLabel1ID=h.nextIndex++,h.moveLabel2ID=h.nextIndex++,h.animationManager.StartNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h.commands=[],h.first_print_pos_y=s-3*B,h.xPosOfNextLabel=100,h.yPosOfNextLabel=200,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.insertField=m("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4),this.controls.push(this.insertField),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.controls.push(this.insertButton),this.deleteField=m("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4),this.controls.push(this.deleteField),this.deleteButton=m("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.controls.push(this.deleteButton),this.findField=m("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4),this.controls.push(this.findField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.printButton=m("Button","Print"),this.printButton.onclick=this.printCallback.bind(this),this.controls.push(this.printButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"reset",value:function(){this.nextIndex=3,this.max_degree=4,this.max_keys=3,this.min_keys=1,this.split_index=1,this.treeRoot=null,this.ignoreInputs=!0,this.ignoreInputs=!1}},{key:"enableUI",value:function(){var t;for(t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"maxDegreeChangedHandler",value:function(t){this.max_degree!==t&&(this.implementAction(this.changeDegree.bind(this),t),this.animationManager.skipForward(),this.animationManager.clearHistory())}},{key:"insertCallback",value:function(){var t=this.normalizeNumber(this.insertField.value,4);""!==t&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),t))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(this.deleteField.value,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t))}},{key:"clearCallback",value:function(){this.implementAction(this.clearTree.bind(this),"")}},{key:"premtiveSplitCallback",value:function(){this.preemptiveSplit!==this.premptiveSplitBox.checked&&this.implementAction(this.changePreemtiveSplit.bind(this),this.premptiveSplitBox.checked)}},{key:"changePreemtiveSplit",value:function(t){return this.commands=[],this.cmd("Step"),this.preemptiveSplit=t,this.premptiveSplitBox.checked!==this.preemptiveSplit&&(this.premptiveSplitBox.checked=this.preemptiveSplit),this.commands}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this),"")}},{key:"printTree",value:function(){this.commands=[],this.cmd("SetText",this.messageID,"Printing tree");var t=this.nextIndex;this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd("Step");for(var e=t;e<this.nextIndex;e++)this.cmd("Delete",e);return this.nextIndex=t,this.cmd("SetText",this.messageID,""),this.commands}},{key:"printTreeRec",value:function(t){var e;if(this.cmd("SetHighlight",t.graphicID,1),t.isLeaf){for(var i=0;i<t.numKeys;i++)e=this.nextIndex++,this.cmd("CreateLabel",e,t.keys[i],this.getLabelX(t,i),t.y),this.cmd("SetForegroundColor",e,"#007700"),this.cmd("Move",e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd("Step"),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=B);this.cmd("SetHighlight",t.graphicID,0)}else{this.cmd("SetEdgeHighlight",t.graphicID,t.children[0].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[0].graphicID,0),this.printTreeRec(t.children[0]);for(var s=0;s<t.numKeys;s++)this.cmd("SetHighlight",t.graphicID,1),e=this.nextIndex++,this.cmd("CreateLabel",e,t.keys[s],this.getLabelX(t,s),t.y),this.cmd("SetForegroundColor",e,"#007700"),this.cmd("Move",e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd("Step"),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>990&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=B),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s+1].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s+1].graphicID,0),this.printTreeRec(t.children[s+1]);this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0)}}},{key:"clearTree",value:function(){return this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=3,this.commands}},{key:"deleteTree",value:function(t){if(null!=t){if(!t.isLeaf)for(var e=0;e<=t.numKeys;e++)this.cmd("Disconnect",t.graphicID,t.children[e].graphicID),this.deleteTree(t.children[e]);this.cmd("Delete",t.graphicID)}}},{key:"changeDegree",value:function(t){this.commands=[],this.deleteTree(this.treeRoot),this.treeRoot=null,this.nextIndex=3;var e=t;return this.ignoreInputs=!0,this.maxDegreeRadioButtons[e-4].checked=!0,this.ignoreInputs=!1,this.max_degree=e,this.max_keys=e-1,this.min_keys=Math.floor((e+1)/2)-1,this.split_index=Math.floor((e-1)/2),0===this.commands.length&&this.cmd("Step"),e%2!==0&&this.preemptiveSplit&&(this.preemptiveSplit=!1,this.premptiveSplitBox.checked=!1),this.commands}},{key:"findCallback",value:function(){var t=this.normalizeNumber(this.findField.value,4);this.findField.value="",this.implementAction(this.findElement.bind(this),t)}},{key:"findElement",value:function(t){return this.commands=[],this.cmd("SetText",this.messageID,"Finding "+t),this.findInTree(this.treeRoot,t),this.commands}},{key:"findInTree",value:function(t,e){if(null!=t){var i;for(this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),i=0;i<t.numKeys&&t.keys[i]<e;i++);i===t.numKeys?t.isLeaf?(this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetText",this.messageID,"Element "+e+" is not in the tree")):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,0),this.findInTree(t.children[t.numKeys],e)):t.keys[i]>e?t.isLeaf?(this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetText",this.messageID,"Element "+e+" is not in the tree")):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[i].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[i].graphicID,0),this.findInTree(t.children[i],e)):(this.cmd("SetTextColor",t.graphicID,"#FF0000",i),this.cmd("SetText",this.messageID,"Element "+e+" found"),this.cmd("Step"),this.cmd("SetTextColor",t.graphicID,"#007700",i),this.cmd("SetHighlight",t.graphicID,0),this.cmd("Step"))}else this.cmd("SetText",this.messageID,"Element "+e+" is not in the tree")}},{key:"insertElement",value:function(t){return this.commands=[],this.cmd("SetText",this.messageID,"Inserting "+t),this.cmd("Step"),null==this.treeRoot?(this.treeRoot=new P(this.nextIndex++,this.starting_x,30),this.cmd("CreateBTreeNode",this.treeRoot.graphicID,40,20,1,this.starting_x,30,"#EEFFEE","#007700"),this.treeRoot.keys[0]=t,this.cmd("SetText",this.treeRoot.graphicID,t,0)):(this.preemptiveSplit?(this.treeRoot.numKeys===this.max_keys&&(this.split(this.treeRoot),this.resizeTree(),this.cmd("Step")),this.insertNotFull(this.treeRoot,t)):this.insert(this.treeRoot,t),this.treeRoot.isLeaf||this.resizeTree()),this.cmd("SetText",this.messageID,""),this.commands}},{key:"insertNotFull",value:function(t,e){if(this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),t.isLeaf){this.cmd("SetText",this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd("SetNumElements",t.graphicID,t.numKeys);for(var i=t.numKeys-1;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd("SetText",t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd("SetText",t.graphicID,t.keys[i],i),this.cmd("SetHighlight",t.graphicID,0),this.resizeTree()}else{for(var s=0;s<t.numKeys&&t.keys[s]<e;)s++;if(this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,0),this.cmd("SetHighlight",t.graphicID,0),t.children[s].numKeys===this.max_keys){var h=this.split(t.children[s]);this.resizeTree(),this.cmd("Step"),this.insertNotFull(h,e)}else this.insertNotFull(t.children[s],e)}}},{key:"insert",value:function(t,e){if(this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),t.isLeaf){this.cmd("SetText",this.messageID,"Inserting "+e+".  Inserting into a leaf"),t.numKeys++,this.cmd("SetNumElements",t.graphicID,t.numKeys);for(var i=t.numKeys-1;i>0&&t.keys[i-1]>e;)t.keys[i]=t.keys[i-1],this.cmd("SetText",t.graphicID,t.keys[i],i),i--;t.keys[i]=e,this.cmd("SetText",t.graphicID,t.keys[i],i),this.cmd("SetHighlight",t.graphicID,0),this.resizeTree(),this.insertRepair(t)}else{for(var s=0;s<t.numKeys&&t.keys[s]<e;)s++;this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,0),this.cmd("SetHighlight",t.graphicID,0),this.insert(t.children[s],e)}}},{key:"insertRepair",value:function(t){if(!(t.numKeys<=this.max_keys))if(null!=t.parent){var e=this.split(t);this.insertRepair(e)}else this.treeRoot=this.split(t)}},{key:"split",value:function(t){this.cmd("SetText",this.messageID,"Node now contains too many keys.  Splittig ..."),this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0);var e=new P(this.nextIndex++,t.x+100,t.y);e.numKeys=t.numKeys-this.split_index-1;var i,s,h=t.keys[this.split_index];if(null!=t.parent){for(i=t.parent,s=0;s<i.numKeys+1&&i.children[s]!==t;s++);if(s===i.numKeys+1)throw new Error("Couldn't find which child we were!");this.cmd("SetNumElements",i.graphicID,i.numKeys+1);for(var a=i.numKeys;a>s;a--)i.children[a+1]=i.children[a],this.cmd("Disconnect",i.graphicID,i.children[a].graphicID),this.cmd("Connect",i.graphicID,i.children[a].graphicID,"#007700",0,0,"",a+1),i.keys[a]=i.keys[a-1],this.cmd("SetText",i.graphicID,i.keys[a],a);i.numKeys++,i.keys[s]=h,this.cmd("SetText",i.graphicID,"",s),this.moveLabel1ID=this.nextIndex++,this.cmd("CreateLabel",this.moveLabel1ID,h,this.getLabelX(t,this.split_index),t.y),this.cmd("SetForegroundColor",this.moveLabel1ID,"#007700"),this.cmd("Move",this.moveLabel1ID,this.getLabelX(i,s),i.y),i.children[s+1]=e,e.parent=i}this.cmd("CreateBTreeNode",e.graphicID,40,20,t.numKeys-this.split_index-1,t.x,t.y,"#EEFFEE","#007700");for(var n=this.split_index+1;n<t.numKeys+1;n++)e.children[n-this.split_index-1]=t.children[n],null!=t.children[n]&&(e.isLeaf=!1,this.cmd("Disconnect",t.graphicID,t.children[n].graphicID),this.cmd("Connect",e.graphicID,e.children[n-this.split_index-1].graphicID,"#007700",0,0,"",n-this.split_index-1),null!=t.children[n]&&(t.children[n].parent=e),t.children[n]=null);for(var l=this.split_index+1;l<t.numKeys;l++)e.keys[l-this.split_index-1]=t.keys[l],this.cmd("SetText",e.graphicID,e.keys[l-this.split_index-1],l-this.split_index-1);var r=t;r.numKeys=this.split_index;for(var o=this.split_index;o<t.numKeys;o++)this.cmd("SetText",t.graphicID,"",o);return this.cmd("SetNumElements",t.graphicID,this.split_index),null!=t.parent?(this.cmd("Connect",i.graphicID,e.graphicID,"#007700",0,0,"",s+1),this.resizeTree(),this.cmd("Step"),this.cmd("Delete",this.moveLabel1ID),this.cmd("SetText",i.graphicID,h,s),t.parent):(this.treeRoot=new P(this.nextIndex++,this.starting_x,30),this.cmd("CreateBTreeNode",this.treeRoot.graphicID,40,20,1,this.starting_x,30,"#EEFFEE","#007700"),this.treeRoot.keys[0]=h,this.cmd("SetText",this.treeRoot.graphicID,h,0),this.treeRoot.children[0]=r,this.treeRoot.children[1]=e,r.parent=this.treeRoot,e.parent=this.treeRoot,this.cmd("Connect",this.treeRoot.graphicID,r.graphicID,"#007700",0,0,"",0),this.cmd("Connect",this.treeRoot.graphicID,e.graphicID,"#007700",0,0,"",1),this.treeRoot.isLeaf=!1,this.treeRoot)}},{key:"deleteElement",value:function(t){return this.commands=[],this.cmd("SetText",0,"Deleting "+t),this.cmd("Step"),this.cmd("SetText",0,""),this.highlightID=this.nextIndex++,this.cmd("SetText",0,""),this.preemptiveSplit?this.doDeleteNotEmpty(this.treeRoot,t):this.doDelete(this.treeRoot,t),0===this.treeRoot.numKeys&&(this.cmd("Step"),this.cmd("Delete",this.treeRoot.graphicID),this.treeRoot=this.treeRoot.children[0],this.treeRoot.parent=null,this.resizeTree()),this.commands}},{key:"doDeleteNotEmpty",value:function(t,e){if(null!=t){var i,s;for(this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),s=0;s<t.numKeys&&t.keys[s]<e;s++);if(s===t.numKeys)t.isLeaf?this.cmd("SetHighlight",t.graphicID,0):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,0),t.children[t.numKeys].numKeys===this.min_keys?t.children[t.numKeys-1].numKeys>this.min_keys?(i=this.stealFromLeft(t.children[t.numKeys],t.numKeys),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[t.numKeys-1]),this.doDeleteNotEmpty(i,e)):this.doDeleteNotEmpty(t.children[t.numKeys],e));else if(t.keys[s]>e)t.isLeaf?this.cmd("SetHighlight",t.graphicID,0):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,0),t.children[s].numKeys>this.min_keys?this.doDeleteNotEmpty(t.children[s],e):t.children[s+1].numKeys>this.min_keys?(i=this.stealFromRight(t.children[s],s),this.doDeleteNotEmpty(i,e)):(i=this.mergeRight(t.children[s]),this.doDeleteNotEmpty(i,e)));else if(this.cmd("SetTextColor",t.graphicID,"FF0000",s),this.cmd("Step"),t.isLeaf){this.cmd("SetTextColor",t.graphicID,"#007700",s);for(var h=s;h<t.numKeys-1;h++)t.keys[h]=t.keys[h+1],this.cmd("SetText",t.graphicID,t.keys[h],h);t.numKeys--,this.cmd("SetText",t.graphicID,"",t.numKeys),this.cmd("SetNumElements",t.graphicID,t.numKeys),this.cmd("SetHighlight",t.graphicID,0),this.resizeTree(),this.cmd("SetText",this.messageID,"")}else{this.cmd("SetText",this.messageID,"Checking to see if tree to left of element to delete \nhas an extra key"),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s].graphicID,0);var a=t.children[s];if(t.children[s].numKeys===this.min_keys){if(this.cmd("SetText",this.messageID,"Tree to left of element to delete does not have an extra key.  \nLooking to the right ..."),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s+1].graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",t.graphicID,t.children[s+1].graphicID,0),t.children[s+1].numKeys===this.min_keys)return this.cmd("SetText",this.messageID,"Neither subtree has extra nodes.  Mergeing around the key to delete, \nand recursively deleting ..."),this.cmd("Step"),this.cmd("SetTextColor",t.graphicID,"#007700",s),i=this.mergeRight(t.children[s]),void this.doDeleteNotEmpty(i,e);this.cmd("SetText",this.messageID,"Tree to right of element to delete does have an extra key. \nFinding the smallest key in that subtree ..."),this.cmd("Step");for(var n=t.children[s+1];!n.isLeaf;)this.cmd("SetHighlight",n.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",n.graphicID,0),n=n.children[0].numKeys===this.min_keys?n.children[1].numKeys===this.min_keys?this.mergeRight(n.children[0]):this.stealFromRight(n.children[0],0):n.children[0];for(this.cmd("SetHighlight",n.graphicID,1),t.keys[s]=n.keys[0],this.cmd("SetTextColor",t.graphicID,"#007700",s),this.cmd("SetText",t.graphicID,"",s),this.cmd("SetText",n.graphicID,"",0),this.cmd("CreateLabel",this.moveLabel1ID,n.keys[0],this.getLabelX(n,0),n.y),this.cmd("Move",this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd("Step"),this.cmd("Delete",this.moveLabel1ID),this.cmd("SetText",t.graphicID,t.keys[s],s),s=1;s<n.numKeys;s++)n.keys[s-1]=n.keys[s],this.cmd("SetText",n.graphicID,n.keys[s-1],s-1);this.cmd("SetText",n.graphicID,"",n.numKeys-1),n.numKeys--,this.cmd("SetHighlight",n.graphicID,0),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetNumElements",n.graphicID,n.numKeys),this.resizeTree(),this.cmd("SetText",this.messageID,"")}else{for(this.cmd("SetText",this.messageID,"Tree to left of element to delete does have \nan extra key. Finding the largest key in that subtree ..."),this.cmd("Step");!a.isLeaf;)this.cmd("SetHighlight",a.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",a.graphicID,0),a.children[a.numKeys].numKeys===this.min_keys?(a.children[a.numKeys-1]>this.min_keys&&(a=this.stealFromLeft(a.children[a.numKeys],a.numKeys)),a=this.mergeRight(a.children[a.numKeys-1])):a=a.children[a.numKeys];this.cmd("SetHighlight",a.graphicID,1),t.keys[s]=a.keys[a.numKeys-1],this.cmd("SetTextColor",t.graphicID,"#007700",s),this.cmd("SetText",t.graphicID,"",s),this.cmd("SetText",a.graphicID,"",a.numKeys-1),this.cmd("CreateLabel",this.moveLabel1ID,t.keys[s],this.getLabelX(a,a.numKeys-1),a.y),this.cmd("Move",this.moveLabel1ID,this.getLabelX(t,s),t.y),this.cmd("Step"),this.cmd("Delete",this.moveLabel1ID),this.cmd("SetText",t.graphicID,t.keys[s],s),a.numKeys--,this.cmd("SetHighlight",a.graphicID,0),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetNumElements",a.graphicID,a.numKeys),this.resizeTree(),this.cmd("SetText",this.messageID,"")}}}}},{key:"doDelete",value:function(t,e){if(null!=t){var i;for(this.cmd("SetHighlight",t.graphicID,1),this.cmd("Step"),i=0;i<t.numKeys&&t.keys[i]<e;i++);if(i===t.numKeys)t.isLeaf?this.cmd("SetHighlight",t.graphicID,0):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[t.numKeys].graphicID,0),this.doDelete(t.children[t.numKeys],e));else if(t.keys[i]>e)t.isLeaf?this.cmd("SetHighlight",t.graphicID,0):(this.cmd("SetEdgeHighlight",t.graphicID,t.children[i].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetEdgeHighlight",t.graphicID,t.children[i].graphicID,0),this.doDelete(t.children[i],e));else if(this.cmd("SetTextColor",t.graphicID,"#FF0000",i),this.cmd("Step"),t.isLeaf){this.cmd("SetTextColor",t.graphicID,"#007700",i);for(var s=i;s<t.numKeys-1;s++)t.keys[s]=t.keys[s+1],this.cmd("SetText",t.graphicID,t.keys[s],s);t.numKeys--,this.cmd("SetText",t.graphicID,"",t.numKeys),this.cmd("SetNumElements",t.graphicID,t.numKeys),this.cmd("SetHighlight",t.graphicID,0),this.repairAfterDelete(t)}else{for(var h=t.children[i];!h.isLeaf;)this.cmd("SetHighlight",h.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",h.graphicID,0),h=h.children[h.numKeys];this.cmd("SetHighlight",h.graphicID,1),t.keys[i]=h.keys[h.numKeys-1],this.cmd("SetTextColor",t.graphicID,"#007700",i),this.cmd("SetText",t.graphicID,"",i),this.cmd("SetText",h.graphicID,"",h.numKeys-1),this.cmd("CreateLabel",this.moveLabel1ID,t.keys[i],this.getLabelX(h,h.numKeys-1),h.y),this.cmd("Move",this.moveLabel1ID,this.getLabelX(t,i),t.y),this.cmd("Step"),this.cmd("Delete",this.moveLabel1ID),this.cmd("SetText",t.graphicID,t.keys[i],i),h.numKeys--,this.cmd("SetHighlight",h.graphicID,0),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetNumElements",h.graphicID,h.numKeys),this.repairAfterDelete(h)}}}},{key:"mergeRight",value:function(t){this.cmd("SetText",this.messageID,"Merging node");var e=t.parent,i=0;for(i=0;e.children[i]!==t;i++);var s=e.children[i+1];this.cmd("SetHighlight",t.graphicID,1),this.cmd("SetHighlight",e.graphicID,1),this.cmd("SetHighlight",s.graphicID,1),this.cmd("Step"),this.cmd("SetNumElements",t.graphicID,t.numKeys+s.numKeys+1),t.x=(t.x+s.x)/2,this.cmd("SetPosition",t.graphicID,t.x,t.y),t.keys[t.numKeys]=e.keys[i];var h=t.numKeys;this.cmd("SetText",t.graphicID,"",t.numKeys),this.cmd("CreateLabel",this.moveLabel1ID,e.keys[i],this.getLabelX(e,i),e.y);for(var a=0;a<s.numKeys;a++)t.keys[t.numKeys+1+a]=s.keys[a],this.cmd("SetText",t.graphicID,t.keys[t.numKeys+1+a],t.numKeys+1+a),this.cmd("SetText",s.graphicID,"",a);if(!t.isLeaf)for(var n=0;n<=s.numKeys;n++)this.cmd("Disconnect",s.graphicID,s.children[n].graphicID),t.children[t.numKeys+1+n]=s.children[n],t.children[t.numKeys+1+n].parent=t,this.cmd("Connect",t.graphicID,t.children[t.numKeys+1+n].graphicID,"#007700",0,0,"",t.numKeys+1+n);this.cmd("Disconnect",e.graphicID,s.graphicID);for(var l=i+1;l<e.numKeys;l++)this.cmd("Disconnect",e.graphicID,e.children[l+1].graphicID),e.children[l]=e.children[l+1],this.cmd("Connect",e.graphicID,e.children[l].graphicID,"#007700",0,0,"",l),e.keys[l-1]=e.keys[l],this.cmd("SetText",e.graphicID,e.keys[l-1],l-1);return this.cmd("SetText",e.graphicID,"",e.numKeys-1),e.numKeys--,this.cmd("SetNumElements",e.graphicID,e.numKeys),this.cmd("SetHighlight",t.graphicID,0),this.cmd("SetHighlight",e.graphicID,0),this.cmd("Delete",s.graphicID),t.numKeys=t.numKeys+s.numKeys+1,this.cmd("Move",this.moveLabel1ID,this.getLabelX(t,h),t.y),this.cmd("Step"),this.cmd("Delete",this.moveLabel1ID),this.cmd("SetText",t.graphicID,t.keys[h],h),this.cmd("SetText",this.messageID,""),t}},{key:"stealFromRight",value:function(t,e){var i=t.parent;this.cmd("SetNumElements",t.graphicID,t.numKeys+1),this.cmd("SetText",this.messageID,"Stealing from right sibling");var s=i.children[e+1];t.numKeys++,this.cmd("SetNumElements",t.graphicID,t.numKeys),this.cmd("SetText",t.graphicID,"",t.numKeys-1),this.cmd("SetText",i.graphicID,"",e),this.cmd("SetText",s.graphicID,"",0);var h=this.nextIndex++,a=this.nextIndex++;if(this.cmd("CreateLabel",h,s.keys[0],this.getLabelX(s,0),s.y),this.cmd("CreateLabel",a,i.keys[e],this.getLabelX(i,e),i.y),this.cmd("SetForegroundColor",h,"#007700"),this.cmd("SetForegroundColor",a,"#007700"),this.cmd("Move",h,this.getLabelX(i,e),i.y),this.cmd("Move",a,this.getLabelX(t,t.numKeys-1),t.y),this.cmd("Step"),this.cmd("Delete",h),this.cmd("Delete",a),t.keys[t.numKeys-1]=i.keys[e],i.keys[e]=s.keys[0],this.cmd("SetText",t.graphicID,t.keys[t.numKeys-1],t.numKeys-1),this.cmd("SetText",i.graphicID,i.keys[e],e),!t.isLeaf){t.children[t.numKeys]=s.children[0],t.children[t.numKeys].parent=t,this.cmd("Disconnect",s.graphicID,s.children[0].graphicID),this.cmd("Connect",t.graphicID,t.children[t.numKeys].graphicID,"#007700",0,0,"",t.numKeys);for(var n=1;n<s.numKeys+1;n++)this.cmd("Disconnect",s.graphicID,s.children[n].graphicID),s.children[n-1]=s.children[n],this.cmd("Connect",s.graphicID,s.children[n-1].graphicID,"#007700",0,0,"",n-1)}for(var l=1;l<s.numKeys;l++)s.keys[l-1]=s.keys[l],this.cmd("SetText",s.graphicID,s.keys[l-1],l-1);return this.cmd("SetText",s.graphicID,"",s.numKeys-1),s.numKeys--,this.cmd("SetNumElements",s.graphicID,s.numKeys),this.resizeTree(),this.cmd("SetText",this.messageID,""),t}},{key:"stealFromLeft",value:function(t,e){var i=t.parent;t.numKeys++,this.cmd("SetNumElements",t.graphicID,t.numKeys),this.cmd("SetText",this.messageID,"Node has too few keys.  Stealing from left sibling.");for(var s=t.numKeys-1;s>0;s--)t.keys[s]=t.keys[s-1],this.cmd("SetText",t.graphicID,t.keys[s],s);var h=i.children[e-1];this.cmd("SetText",t.graphicID,"",0),this.cmd("SetText",i.graphicID,"",e-1),this.cmd("SetText",h.graphicID,"",h.numKeys-1);var a=this.nextIndex++,n=this.nextIndex++;if(this.cmd("CreateLabel",a,h.keys[h.numKeys-1],this.getLabelX(h,h.numKeys-1),h.y),this.cmd("CreateLabel",n,i.keys[e-1],this.getLabelX(i,e-1),i.y),this.cmd("SetForegroundColor",a,"#007700"),this.cmd("SetForegroundColor",n,"#007700"),this.cmd("Move",a,this.getLabelX(i,e-1),i.y),this.cmd("Move",n,this.getLabelX(t,0),t.y),this.cmd("Step"),this.cmd("Delete",a),this.cmd("Delete",n),!t.isLeaf){for(var l=t.numKeys;l>0;l--)this.cmd("Disconnect",t.graphicID,t.children[l-1].graphicID),t.children[l]=t.children[l-1],this.cmd("Connect",t.graphicID,t.children[l].graphicID,"#007700",0,0,"",l);t.children[0]=h.children[h.numKeys],this.cmd("Disconnect",h.graphicID,h.children[h.numKeys].graphicID),this.cmd("Connect",t.graphicID,t.children[0].graphicID,"#007700",0,0,"",0),h.children[h.numKeys]=null,t.children[0].parent=t}return t.keys[0]=i.keys[e-1],this.cmd("SetText",t.graphicID,t.keys[0],0),i.keys[e-1]=h.keys[h.numKeys-1],this.cmd("SetText",i.graphicID,i.keys[e-1],e-1),this.cmd("SetText",h.graphicID,"",h.numKeys-1),h.numKeys--,this.cmd("SetNumElements",h.graphicID,h.numKeys),this.resizeTree(),this.cmd("SetText",this.messageID,""),t}},{key:"repairAfterDelete",value:function(t){if(t.numKeys<this.min_keys)if(null==t.parent)0===t.numKeys&&(this.cmd("Step"),this.cmd("Delete",t.graphicID),this.treeRoot=t.children[0],null!=this.treeRoot&&(this.treeRoot.parent=null),this.resizeTree());else{var e,i,s=t.parent;for(e=0;s.children[e]!==t;e++);e>0&&s.children[e-1].numKeys>this.min_keys?this.stealFromLeft(t,e):e<s.numKeys&&s.children[e+1].numKeys>this.min_keys?this.stealFromRight(t,e):0===e?(i=this.mergeRight(t),this.repairAfterDelete(i.parent)):(i=this.mergeRight(s.children[e-1]),this.repairAfterDelete(i.parent))}}},{key:"getLabelX",value:function(t,e){return t.x-40*t.numKeys/2+20+40*e}},{key:"resizeTree",value:function(){this.resizeWidths(this.treeRoot),this.setNewPositions(this.treeRoot,this.starting_x,30),this.animateNewPositions(this.treeRoot)}},{key:"setNewPositions",value:function(t,e,i){if(null!=t&&(t.y=i,t.x=e,!t.isLeaf))for(var s=e-t.width/2,h=0,a=0;a<t.numKeys+1;a++)this.setNewPositions(t.children[a],s+h+t.widths[a]/2,i+50),h+=t.widths[a]}},{key:"animateNewPositions",value:function(t){if(null!=t){var e;for(e=0;e<t.numKeys+1;e++)this.animateNewPositions(t.children[e]);this.cmd("Move",t.graphicID,t.x,t.y)}}},{key:"resizeWidths",value:function(t){if(null==t)return 0;if(t.isLeaf){for(var e=0;e<t.numKeys+1;e++)t.widths[e]=0;return t.width=40*t.numKeys+3,t.width}for(var i=0,s=0;s<t.numKeys+1;s++)t.widths[s]=this.resizeWidths(t.children[s]),i+=t.widths[s];return i=Math.max(i,40*t.numKeys+3),t.width=i,i}}]),e}(p);function P(t,e,i){this.widths=[],this.keys=[],this.children=[],this.x=e,this.y=i,this.graphicID=t,this.numKeys=1,this.isLeaf=!0,this.parent=null,this.leftWidth=0,this.rightWidth=0}var N=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Text"),this.textField=m("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),d("Pattern"),this.patternField=m("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.textRowID=[],this.comparisonMatrixID=[],this.patternTableLableID=this.nextIndex++,this.patternTableCharacterID=[],this.patternTableIndexID=[],this.lastTableLabelID=this.nextIndex++,this.lastTableCharacterID=[],this.lastTableValueID=[]}},{key:"reset",value:function(){this.nextIndex=0}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this),"");var t=this.textField.value,e=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t+","+e)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"find",value:function(t){this.commands=[];var e,i,s=t.split(",")[0],h=t.split(",")[1];this.textRowID=new Array(s.length),this.comparisonMatrixID=new Array(s.length);for(var a=0;a<s.length;a++)this.comparisonMatrixID[a]=new Array(s.length);s.length<=14?this.cellSize=30:s.length<=17?this.cellSize=25:this.cellSize=20;for(var n=0;n<s.length;n++){var l=n*this.cellSize+100;this.textRowID[n]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex,s.charAt(n),this.cellSize,this.cellSize,l,30),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3")}for(var r=0;r<s.length;r++)for(var o=0;o<s.length;o++)e=o*this.cellSize+100,i=(r+1)*this.cellSize+30,this.comparisonMatrixID[r][o]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex++,"",this.cellSize,this.cellSize,e,i);var d=this.buildLastTable(s.length,h),c=this.nextIndex++,u=this.nextIndex++;this.cmd("CreateHighlightCircle",c,"#0000FF",100+(h.length-1)*this.cellSize,30,this.cellSize/2),this.cmd("CreateHighlightCircle",u,"#0000FF",100+(h.length-1)*this.cellSize,30+this.cellSize,this.cellSize/2);for(var m=0,g=h.length-1,p=0;m<=s.length-h.length;){for(var I=m;I<m+h.length;I++)this.cmd("SetText",this.comparisonMatrixID[p][I],h.charAt(I-m),e,i);for(this.cmd("Step");g>=0&&h.charAt(g)===s.charAt(m+g);)if(this.cmd("SetBackgroundColor",this.comparisonMatrixID[p][m+g],"#2ECC71"),g--,this.cmd("Step"),g>=0){var D=(m+g)*this.cellSize+100;this.cmd("Move",c,D,30);var b=(p+1)*this.cellSize+30;this.cmd("Move",u,D,b),this.cmd("Step")}if(-1===g)m++;else{this.cmd("SetBackgroundColor",this.comparisonMatrixID[p][m+g],"#E74C3C");var f=void 0;(f=s.charAt(m+g)in d?d[s.charAt(m+g)]:-1)<g?m+=g-f:m++}if(g=h.length-1,p++,m<=s.length-h.length){var v=(m+g)*this.cellSize+100;this.cmd("Move",c,v,30);var x=(p+1)*this.cellSize+30;this.cmd("Move",u,v,x),this.cmd("Step")}}return this.cmd("Delete",c),this.cmd("Delete",u),this.commands}},{key:"buildLastTable",value:function(t,e){var i=100+t*this.cellSize+10;this.cmd("CreateLabel",this.patternTableLableID,"Pattern:",i,100,0),this.cmd("CreateLabel",this.lastTableLabelID,"Last occurence table:",i,200,0);var s=100+t*this.cellSize+80;this.patternTableCharacterID=new Array(e.length),this.patternTableIndexID=new Array(e.length);for(var h=0;h<e.length;h++){var a=s+h*this.cellSize;this.patternTableCharacterID[h]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex++,e.charAt(h),this.cellSize,this.cellSize,a,100),this.patternTableIndexID[h]=this.nextIndex,this.cmd("CreateLabel",this.nextIndex++,h,a,100+this.cellSize)}for(var n={},l=0;l<e.length;l++)n[e.charAt(l)]=null;this.lastTableCharacterID=[],this.lastTableValueID=[],s=100+t*this.cellSize+140;var r=0;for(var o in n){var d=s+r*this.cellSize;this.lastTableCharacterID.push(this.nextIndex),this.cmd("CreateRectangle",this.nextIndex,o,this.cellSize,this.cellSize,d,200),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3"),n[o]=this.nextIndex,this.lastTableValueID.push(this.nextIndex),this.cmd("CreateRectangle",this.nextIndex++,"",this.cellSize,this.cellSize,d,200+this.cellSize),r++}var c=s+r*this.cellSize;this.lastTableCharacterID.push(this.nextIndex),this.cmd("CreateRectangle",this.nextIndex,"*",this.cellSize,this.cellSize,c,200),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3"),this.lastTableValueID.push(this.nextIndex),this.cmd("CreateRectangle",this.nextIndex++,"-1",this.cellSize,this.cellSize,c,200+this.cellSize);for(var u={},m=0;m<e.length;m++)u[e.charAt(m)]=m,this.cmd("SetText",n[e.charAt(m)],m);return u}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd("Delete",this.textRowID[t]);this.textRowID=[];for(var e=0;e<this.comparisonMatrixID.length;e++)for(var i=0;i<this.comparisonMatrixID.length;i++)this.cmd("Delete",this.comparisonMatrixID[e][i]);this.comparisonMatrixID=[],0!==this.patternTableCharacterID.length&&this.cmd("Delete",this.patternTableLableID);for(var s=0;s<this.patternTableCharacterID.length;s++)this.cmd("Delete",this.patternTableCharacterID[s]),this.cmd("Delete",this.patternTableIndexID[s]);this.patternTableCharacterID=[],this.patternTableIndexID=[],0!==this.lastTableCharacterID.length&&this.cmd("Delete",this.lastTableLabelID);for(var h=0;h<this.lastTableCharacterID.length;h++)this.cmd("Delete",this.lastTableCharacterID[h]),this.cmd("Delete",this.lastTableValueID[h]);return this.lastTableCharacterID=[],this.lastTableValueID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),M=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Text"),this.textField=m("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),d("Pattern"),this.patternField=m("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.textRowID=[],this.comparisonMatrixID=[]}},{key:"reset",value:function(){this.nextIndex=0}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this),"");var t=this.textField.value,e=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t+","+e)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"find",value:function(t){this.commands=[];var e,i,s=t.split(",")[0],h=t.split(",")[1];s.length<=14?this.cellSize=30:s.length<=17?this.cellSize=25:this.cellSize=20,this.textRowID=new Array(s.length),this.comparisonMatrixID=new Array(s.length);for(var a=0;a<s.length;a++)this.comparisonMatrixID[a]=new Array(s.length);for(var n=0;n<s.length;n++)e=n*this.cellSize+100,i=30,this.textRowID[n]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex,s.charAt(n),this.cellSize,this.cellSize,e,i),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3");for(var l=0;l<s.length;l++)for(var r=0;r<s.length;r++)e=r*this.cellSize+100,i=(l+1)*this.cellSize+30,this.comparisonMatrixID[l][r]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex++,"",this.cellSize,this.cellSize,e,i);var o=this.nextIndex++,d=this.nextIndex++;this.cmd("CreateHighlightCircle",o,"#0000FF",100,30,this.cellSize/2),this.cmd("CreateHighlightCircle",d,"#0000FF",100,30+this.cellSize,this.cellSize/2);for(var c=0,u=0,m=0;c<=s.length-h.length;){for(var g=c;g<c+h.length;g++)this.cmd("SetText",this.comparisonMatrixID[m][g],h.charAt(g-c),e,i);for(this.cmd("Step");u<h.length&&h.charAt(u)===s.charAt(c+u);)if(this.cmd("SetBackgroundColor",this.comparisonMatrixID[m][c+u],"#2ECC71"),u++,this.cmd("Step"),u!==h.length){var p=(c+u)*this.cellSize+100;this.cmd("Move",o,p,30);var I=(m+1)*this.cellSize+30;this.cmd("Move",d,p,I),this.cmd("Step")}if(u!==h.length&&this.cmd("SetBackgroundColor",this.comparisonMatrixID[m][c+u],"#E74C3C"),u=0,m++,++c<=s.length-h.length){var D=(c+u)*this.cellSize+100;this.cmd("Move",o,D,30);var b=(m+1)*this.cellSize+30;this.cmd("Move",d,D,b),this.cmd("Step")}}return this.cmd("Delete",o),this.cmd("Delete",d),this.commands}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd("Delete",this.textRowID[t]);this.textRowID=[];for(var e=0;e<this.comparisonMatrixID.length;e++)for(var i=0;i<this.comparisonMatrixID.length;i++)this.cmd("Delete",this.comparisonMatrixID[e][i]);return this.comparisonMatrixID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),z=!0,G=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),this.lastSwapCheckbox=c("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"toggleLastSwap",value:function(){z=!z}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,18);for(var e=this.arrayData.length,i=new Map,s=new Map,h=0;h<e;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,200)}this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",100,200),this.cmd("SetHighlight",this.iPointerID,1),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",150,200),this.cmd("SetHighlight",this.jPointerID,1),this.cmd("Step");var d=!0,c=this.arrayData.length-1,u=0;do{d=!0;for(var m=0;m<c;m++)this.movePointers(m,m+1),this.arrayData[m]>this.arrayData[m+1]&&(this.swap(m,m+1),d=!1,u=m);if(z?c=u:c--,!d){for(var g=c+1;g<this.arrayData.length;g++)this.cmd("SetBackgroundColor",this.arrayID[g],"#2ECC71");this.cmd("Step")}}while(!d);this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Step");for(var p=0;p<this.arrayData.length;p++)this.cmd("SetBackgroundColor",this.arrayID[p],"#2ECC71");return this.cmd("Step"),this.commands}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swap",value:function(t,e){this.cmd("SetForegroundColor",this.iPointerID,"#FF0000"),this.cmd("SetForegroundColor",this.jPointerID,"#FF0000");var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd("SetForegroundColor",this.iPointerID,"#0000FF"),this.cmd("SetForegroundColor",this.jPointerID,"#0000FF"),this.cmd("Step")}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),V=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.hashingIntegers=!0,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.insertField=m("Text",""),this.insertField.size=10,this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),10,!0),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.deleteField=m("Text",""),this.deleteField.size=10,this.deleteField.onkeydown=this.returnSubmit(this.insertField,this.deleteCallback.bind(this),10,!0),this.deleteButton=m("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.findField=m("Text",""),this.findField.size=10,this.findField.onkeydown=this.returnSubmit(this.insertField,this.findCallback.bind(this),10,!0),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this);var t=u(["Hash Integer","Hash Strings"],"HashType");this.hashIntegerButton=t[0],this.hashIntegerButton.onclick=this.changeHashTypeCallback.bind(this,!0),this.hashStringButton=t[1],this.hashStringButton.onclick=this.changeHashTypeCallback.bind(this,!1),this.hashIntegerButton.checked=!0}},{key:"changeHashTypeCallback",value:function(t){this.hashingIntegers!==t&&this.implementAction(this.changeHashType.bind(this),t)}},{key:"changeHashType",value:function(t){return this.hashingIntegers=t,this.hashingIntegers?(this.hashIntegerButton.checked=!0,this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),10,!0),this.deleteField.onkeydown=this.returnSubmit(this.insertField,this.deleteCallback.bind(this),10,!0),this.findField.onkeydown=this.returnSubmit(this.insertField,this.findCallback.bind(this),10,!0)):(this.hashStringButton.checked=!0,this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),10,!1),this.deleteField.onkeydown=this.returnSubmit(this.insertField,this.deleteCallback.bind(this),10,!1),this.findField.onkeydown=this.returnSubmit(this.insertField,this.findCallback.bind(this),10,!1)),this.resetAll()}},{key:"doHash",value:function(t){if(this.hashingIntegers){var e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++,h=parseInt(t)%this.table_size;return this.currHash=parseInt(t),this.cmd("CreateLabel",e,t+" % "+String(this.table_size)+" = ",300,30),this.cmd("CreateLabel",i,h,350,30),this.cmd("Step"),this.cmd("CreateHighlightCircle",s,"#0000FF",350,30),this.cmd("Move",s,this.indexXPos[h],this.indexYPos[h]),this.cmd("Step"),this.cmd("Delete",e),this.cmd("Delete",i),this.cmd("Delete",s),this.nextIndex-=3,h}var a=this.nextIndex++;this.cmd("CreateLabel",a,"Hashing:",10,45,0);for(var n=new Array(t.length),l=new Array(t.length),r=0;r<t.length;r++)n[r]=this.nextIndex++,l[r]=t.charAt(r),this.cmd("CreateLabel",n[r],l[r],60+7*r,45,0);for(var o=new Array(32),d=new Array(32),c=new Array(8),u=new Array(8),m=new Array(32),g=new Array(4),p=new Array(4),I=this.nextIndex++,D=this.nextIndex++,b=0;b<32;b++)d[b]=0,o[b]=this.nextIndex++,m[b]=this.nextIndex++;for(var f=0;f<8;f++)u[f]=this.nextIndex++;for(var v=0;v<4;v++)g[v]=this.nextIndex++;this.cmd("Step");for(var x=l.length-1;x>=0;x--){for(var y=0;y<32;y++)this.cmd("CreateLabel",o[y],d[y],200+7*y,10,0);this.cmd("Delete",n[x]);for(var S=l[x].charCodeAt(0),k=7;k>=0;k--)c[k]=S%2,S=Math.floor(S/2),this.cmd("CreateLabel",u[k],c[k],60+7*x,45,0),this.cmd("Move",u[k],200+7*(k+24),30);this.cmd("Step"),this.cmd("CreateRectangle",D,"",224,0,200,42,"left","bottom"),this.cmd("CreateLabel",I,"+",200,30,0),this.cmd("Step");for(var C=0,L=7;L>=0;L--)d[L+24]=d[L+24]+c[L]+C,d[L+24]>1?(d[L+24]=d[L+24]-2,C=1):C=0;for(var T=23;T>=0;T--)d[T]=d[T]+C,d[T]>1?(d[T]=d[T]-2,C=1):C=0;for(var _=0;_<32;_++)this.cmd("CreateLabel",m[_],d[_],200+7*_,50,0);this.cmd("Step");for(var E=0;E<8;E++)this.cmd("Delete",u[E]);this.cmd("Delete",D),this.cmd("Delete",I);for(var F=0;F<32;F++)this.cmd("Delete",o[F]),this.cmd("Move",m[F],200+7*F,10);if(this.cmd("Step"),x>0){for(var A=0;A<32;A++)this.cmd("Move",m[A],200+7*(A-4),10);this.cmd("Step");for(var O=0;O<28;O++)p[O]=d[O],d[O]=d[O+4];for(var j=0;j<4;j++)this.cmd("Move",m[j],200+7*(j+10),30),d[j+28]=0,this.cmd("CreateLabel",g[j],0,200+7*(j+28),10,0),p[j]&&(d[j+10]=1-d[j+10]);this.cmd("CreateRectangle",D,"",224,0,200,42,"left","bottom"),this.cmd("CreateLabel",I,"XOR",200,30,0),this.cmd("Step");for(var B=0;B<32;B++)this.cmd("CreateLabel",o[B],d[B],200+7*B,50,0);this.cmd("Step"),this.cmd("Delete",I),this.cmd("Delete",D);for(var H=0;H<32;H++)this.cmd("Delete",m[H]),this.cmd("Move",o[H],200+7*H,10);for(var R=0;R<4;R++)this.cmd("Delete",g[R]);this.cmd("Step");for(var w=0;w<32;w++)this.cmd("Delete",o[w])}else for(var P=0;P<32;P++)this.cmd("Delete",m[P])}this.cmd("Delete",a);for(var N=0;N<32;N++)this.cmd("CreateLabel",o[N],d[N],200+7*N,10,0);this.currHash=0;for(var M=0;M<32;M++)this.currHash=2*this.currHash+d[M];this.cmd("CreateLabel",a," = "+String(this.currHash),424,10,0),this.cmd("Step");for(var z=0;z<32;z++)this.cmd("Delete",o[z]);var G=this.nextIndex++;this.cmd("SetText",a,String(this.currHash)+" % "+String(this.table_size)+" = ");var V=this.currHash%this.table_size;this.cmd("CreateLabel",G,V,529,10,0),this.cmd("Step");var Y=this.nextIndex++;return this.cmd("CreateHighlightCircle",Y,"#0000FF",530,25),this.cmd("Move",Y,this.indexXPos[V],this.indexYPos[V]),this.cmd("Step"),this.cmd("Delete",Y),this.cmd("Delete",a),this.cmd("Delete",G),V}},{key:"resetAll",value:function(){return this.insertField.value="",this.deleteField.value="",this.findField.value="",[]}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==t&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),t))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t))}},{key:"findCallback",value:function(){var t=this.findField.value;""!==t&&(this.findField.value="",this.implementAction(this.findElement.bind(this),t))}},{key:"insertElement",value:function(){}},{key:"deleteElement",value:function(){}},{key:"findElement",value:function(){}},{key:"reset",value:function(){this.hashIntegerButton.checked=!0}},{key:"disableUI",value:function(){this.insertField.disabled=!0,this.insertButton.disabled=!0,this.deleteField.disabled=!0,this.deleteButton.disabled=!0,this.findField.disabled=!0,this.findButton.disabled=!0}},{key:"enableUI",value:function(){this.insertField.disabled=!1,this.insertButton.disabled=!1,this.deleteField.disabled=!1,this.deleteButton.disabled=!1,this.findField.disabled=!1,this.findButton.disabled=!1}}]),e}(p),Y=90,X=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).elements_per_row=Math.floor(i/Y),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this);var t=u(["Linear Probing: f(i) = i","Quadratic Probing: f(i) = i * i","Double Hashing: f(i) = i * hash2(elem)"],"CollisionStrategy");this.linearProblingButton=t[0],this.linearProblingButton.onclick=this.linearProbeCallback.bind(this),this.quadraticProbingButton=t[1],this.quadraticProbingButton.onclick=this.quadraticProbeCallback.bind(this),this.doubleHashingButton=t[2],this.doubleHashingButton.onclick=this.doubleHashingCallback.bind(this),this.linearProblingButton.checked=!0,this.currentHashingTypeButtonState=this.linearProblingButton}},{key:"changeProbeType",value:function(t){if(t===this.linearProblingButton){this.linearProblingButton.checked=!0,this.currentHashingTypeButtonState=this.linearProblingButton;for(var e=0;e<this.table_size;e++)this.skipDist[e]=e}else if(t===this.quadraticProbingButton){this.quadraticProbingButton.checked=!0,this.currentHashingTypeButtonState=this.quadraticProbingButton;for(var i=0;i<this.table_size;i++)this.skipDist[i]=i*i}else t===this.doubleHashingButton&&(this.doubleHashingButton.checked=!0,this.currentHashingTypeButtonState=this.doubleHashingButton);return this.commands=this.resetAll(),this.commands}},{key:"quadraticProbeCallback",value:function(){this.currentHashingTypeButtonState!==this.quadraticProbingButton&&this.implementAction(this.changeProbeType.bind(this),this.quadraticProbingButton)}},{key:"doubleHashingCallback",value:function(){this.currentHashingTypeButtonState!==this.doubleHashingButton&&this.implementAction(this.changeProbeType.bind(this),this.doubleHashingButton)}},{key:"linearProbeCallback",value:function(){this.currentHashingTypeButtonState!==this.linearProblingButton&&this.implementAction(this.changeProbeType.bind(this),this.linearProblingButton)}},{key:"insertElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Inserting element: "+String(t));var e=this.doHash(t);if(e=this.getEmptyIndex(e,t),this.cmd("SetText",this.ExplainLabel,""),-1!==e){var i=this.nextIndex++;this.cmd("CreateLabel",i,t,20,25),this.cmd("Move",i,this.indexXPos[e],this.indexYPos[e]-30),this.cmd("Step"),this.cmd("Delete",i),this.cmd("SetText",this.hashTableVisual[e],t),this.hashTableValues[e]=t,this.empty[e]=!1,this.deleted[e]=!1}return this.commands}},{key:"resetSkipDist",value:function(t,e){var i=7-this.currHash%7;this.cmd("CreateLabel",e,"hash2("+String(t)+") = 1 - "+String(this.currHash)+" % 7 = "+String(i),20,45,0),this.skipDist[0]=0;for(var s=1;s<this.table_size;s++)this.skipDist[s]=this.skipDist[s-1]+i}},{key:"getEmptyIndex",value:function(t,e){this.currentHashingTypeButtonState===this.doubleHashingButton&&this.resetSkipDist(e,this.nextIndex++);for(var i=-1,s=0;s<this.table_size;s++){var h=(t+this.skipDist[s])%this.table_size;if(this.cmd("SetHighlight",this.hashTableVisual[h],1),this.cmd("Step"),this.cmd("SetHighlight",this.hashTableVisual[h],0),this.empty[h]){i=h;break}}return this.currentHashingTypeButtonState===this.doubleHashingButton&&this.cmd("Delete",--this.nextIndex),i}},{key:"getElemIndex",value:function(t,e){this.currentHashingTypeButtonState===this.doubleHashingButton&&this.resetSkipDist(e,this.nextIndex++);for(var i=-1,s=0;s<this.table_size;s++){var h=(t+this.skipDist[s])%this.table_size;if(this.cmd("SetHighlight",this.hashTableVisual[h],1),this.cmd("Step"),this.cmd("SetHighlight",this.hashTableVisual[h],0),!this.empty[h]&&this.hashTableValues[h]===e){i=h;break}if(this.empty[h]&&!this.deleted[h])break}return this.currentHashingTypeButtonState===this.doubleHashingButton&&this.cmd("Delete",--this.nextIndex),i}},{key:"deleteElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t);var e=this.doHash(t);return(e=this.getElemIndex(e,t))>0?(this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),this.empty[e]=!0,this.deleted[e]=!0,this.cmd("SetText",this.hashTableVisual[e],"<deleted>")):this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t+"  Element not in table"),this.commands}},{key:"findElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t);var e=this.doHash(t);return-1!==this.getElemIndex(e,t)?this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t+"  Found!"):this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t+"  Not Found!"),this.commands}},{key:"setup",value:function(){this.table_size=29,this.skipDist=new Array(this.table_size),this.hashTableVisual=new Array(this.table_size),this.hashTableIndices=new Array(this.table_size),this.hashTableValues=new Array(this.table_size),this.indexXPos=new Array(this.table_size),this.indexYPos=new Array(this.table_size),this.empty=new Array(this.table_size),this.deleted=new Array(this.table_size),this.ExplainLabel=this.nextIndex++,this.commands=[];for(var t=0;t<this.table_size;t++){this.skipDist[t]=t;var e=this.nextIndex++;this.empty[t]=!0,this.deleted[t]=!1;var i=50+t%this.elements_per_row*Y,s=100+100*Math.floor(t/this.elements_per_row);this.cmd("CreateRectangle",e,"",Y,30,i,s),this.hashTableVisual[t]=e,e=this.nextIndex++,this.hashTableIndices[t]=e,this.indexXPos[t]=i,this.indexYPos[t]=s+30,this.cmd("CreateLabel",e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd("SetForegroundColor",e,"#0000FF")}this.cmd("CreateLabel",this.ExplainLabel,"",10,25,0),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.resetIndex=this.nextIndex}},{key:"resetAll",value:function(){this.commands=Object(v.a)(Object(r.a)(e.prototype),"resetAll",this).call(this);for(var t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1,this.cmd("SetText",this.hashTableVisual[t],"");return this.commands}},{key:"reset",value:function(){for(var t=0;t<this.table_size;t++)this.empty[t]=!0,this.deleted[t]=!1;this.nextIndex=this.resetIndex,Object(v.a)(Object(r.a)(e.prototype),"reset",this).call(this)}},{key:"resetCallback",value:function(){}},{key:"disableUI",value:function(){Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this),this.linearProblingButton.disabled=!0,this.quadraticProbingButton.disabled=!0,this.doubleHashingButton.disabled=!0}},{key:"enableUI",value:function(){Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this),this.linearProblingButton.disabled=!1,this.quadraticProbingButton.disabled=!1,this.doubleHashingButton.disabled=!1}}]),e}(V),U=!0,W=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),this.lastSwapCheckbox=c("Enable last swap optimization",!0),this.lastSwapCheckbox.onclick=this.toggleLastSwap.bind(this),this.controls.push(this.lastSwapCheckbox)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.clear();var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"toggleLastSwap",value:function(){U=!U}},{key:"clear",value:function(){this.arrayData=[],this.commands=[],this.displayData=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var e=this.arrayData.length,i=new Map,s=new Map,h=0;h<e;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,200)}this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",100,200),this.cmd("SetHighlight",this.iPointerID,1),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",150,200),this.cmd("SetHighlight",this.jPointerID,1),this.cmd("Step");var d=!0,c=0,u=this.arrayData.length-1,m=0;do{d=!0;for(var g=c;g<u;g++)this.movePointers(g,g+1),this.arrayData[g]>this.arrayData[g+1]&&(this.swap(g,g+1),d=!1,m=g);if(U?u=m:u--,!d){for(var p=u+1;p<this.arrayData.length;p++)this.cmd("SetBackgroundColor",this.arrayID[p],"#2ECC71");this.cmd("Step")}if(!d){d=!0;for(var I=u;I>c;I--)this.movePointers(I-1,I),+this.arrayData[I]<+this.arrayData[I-1]&&(this.swap(I,I-1),d=!1,m=I);if(U?c=m:c++,!d){for(var D=c-1;D>=0;D--)this.cmd("SetBackgroundColor",this.arrayID[D],"#2ECC71");this.cmd("Step")}}}while(!d);this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Step");for(var b=0;b<this.arrayData.length;b++)this.cmd("SetBackgroundColor",this.arrayID[b],"#2ECC71");return this.cmd("Step"),this.commands}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swap",value:function(t,e){this.cmd("SetForegroundColor",this.iPointerID,"#FF0000"),this.cmd("SetForegroundColor",this.jPointerID,"#FF0000");var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd("SetForegroundColor",this.iPointerID,"#0000FF"),this.cmd("SetForegroundColor",this.jPointerID,"#0000FF"),this.cmd("Step")}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),K=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).showEdgeCosts=!1,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){d("Start Vertex: "),this.startField=m("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startButton=m("Button","Run DFS"),this.startButton.onclick=this.startCallback.bind(this),Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this)}},{key:"setup",value:function(){Object(v.a)(Object(r.a)(e.prototype),"setup",this).call(this),this.messageID=[],this.commands=[],this.visitedID=new Array(this.size),this.visitedIndexID=new Array(this.size),this.parentID=new Array(this.size),this.parentIndexID=new Array(this.size);for(var t=0;t<this.size;t++)this.visitedID[t]=this.nextIndex++,this.visitedIndexID[t]=this.nextIndex++,this.parentID[t]=this.nextIndex++,this.parentIndexID[t]=this.nextIndex++,this.cmd("CreateRectangle",this.visitedID[t],"F",25,25,475,50+25*t),this.cmd("CreateLabel",this.visitedIndexID[t],String.fromCharCode(65+t),450,50+25*t),this.cmd("SetForegroundColor",this.visitedIndexID[t],"#0000FF"),this.cmd("CreateRectangle",this.parentID[t],"",25,25,400,50+25*t),this.cmd("CreateLabel",this.parentIndexID[t],String.fromCharCode(65+t),375,50+25*t),this.cmd("SetForegroundColor",this.parentIndexID[t],"#0000FF");this.cmd("CreateLabel",this.nextIndex++,"Parent",375,12.5,0),this.cmd("CreateLabel",this.nextIndex++,"Visited",450,12.5,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.highlightCircleL=this.nextIndex++,this.highlightCircleAL=this.nextIndex++,this.highlightCircleAM=this.nextIndex++}},{key:"startCallback",value:function(){if(""!==this.startField.value){var t=this.startField.value;this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)<this.size&&this.implementAction(this.doDFS.bind(this),t)}}},{key:"doDFS",value:function(t){if(this.visited=new Array(this.size),this.commands=[],null!=this.messageID)for(var e=0;e<this.messageID.length;e++)this.cmd("Delete",this.messageID[e]);this.rebuildEdges(),this.messageID=[];for(var i=0;i<this.size;i++)this.cmd("SetText",this.visitedID[i],"F"),this.cmd("SetText",this.parentID[i],""),this.visited[i]=!1;var s=t;return this.cmd("CreateHighlightCircle",this.highlightCircleL,"#000000",this.x_pos_logical[s],this.y_pos_logical[s]),this.cmd("SetLayer",this.highlightCircleL,1),this.cmd("CreateHighlightCircle",this.highlightCircleAL,"#000000",this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+s*this.adj_list_height),this.cmd("SetLayer",this.highlightCircleAL,2),this.cmd("CreateHighlightCircle",this.highlightCircleAM,"#000000",this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+s*this.adj_matrix_height),this.cmd("SetLayer",this.highlightCircleAM,3),this.messageY=30,this.dfsVisit(s,10),this.cmd("Delete",this.highlightCircleL),this.cmd("Delete",this.highlightCircleAL),this.cmd("Delete",this.highlightCircleAM),this.commands}},{key:"dfsVisit",value:function(t,e){var i=this.nextIndex++;if(this.messageID.push(i),this.cmd("CreateLabel",i,"DFS("+String.fromCharCode(65+t)+")",e,this.messageY,0),this.messageY=this.messageY+20,!this.visited[t]){this.visited[t]=!0,this.cmd("SetText",this.visitedID[t],"T"),this.cmd("Step");for(var s=0;s<this.size;s++)this.adj_matrix[t][s]>0&&(this.highlightEdge(t,s,1),this.cmd("SetHighlight",this.visitedID[s],1),this.visited[s]&&(i=this.nextIndex,this.cmd("CreateLabel",i,"Vertex "+String.fromCharCode(65+s)+" already visited.",e,this.messageY,0)),this.cmd("Step"),this.highlightEdge(t,s,0),this.cmd("SetHighlight",this.visitedID[s],0),this.visited[s]&&this.cmd("Delete",i),this.visited[s]||(this.cmd("Disconnect",this.circleID[t],this.circleID[s]),this.cmd("Connect",this.circleID[t],this.circleID[s],"#0000FF",this.curve[t][s],1,""),this.cmd("Move",this.highlightCircleL,this.x_pos_logical[s],this.y_pos_logical[s]),this.cmd("Move",this.highlightCircleAL,this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+s*this.adj_list_height),this.cmd("Move",this.highlightCircleAM,this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+s*this.adj_matrix_height),this.cmd("SetText",this.parentID[s],String.fromCharCode(65+t)),this.cmd("Step"),this.dfsVisit(s,e+20),i=this.nextIndex,this.cmd("CreateLabel",i,"Returning from recursive call: DFS("+String.fromCharCode(65+s)+")",e+20,this.messageY,0),this.cmd("Move",this.highlightCircleAL,this.adj_list_x_start-this.adj_list_width,this.adj_list_y_start+t*this.adj_list_height),this.cmd("Move",this.highlightCircleL,this.x_pos_logical[t],this.y_pos_logical[t]),this.cmd("Move",this.highlightCircleAM,this.adj_matrix_x_start-this.adj_matrix_width,this.adj_matrix_y_start+t*this.adj_matrix_height),this.cmd("Step"),this.cmd("Delete",i)),this.cmd("Step"))}}},{key:"reset",value:function(){}},{key:"enableUI",value:function(t){this.startField.disabled=!1,this.startButton.disabled=!1,Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this,t)}},{key:"disableUI",value:function(t){this.startField.disabled=!0,this.startButton.disabled=!0,Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this,t)}}]),e}(E),q=function(t){function e(t,i,s){var h,n,o;for(Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).nextIndex=0,h.addControls(),h.code=[["def ","LCS(S1, S2, x, y)",":"],["     if (","(x == -1) "," or ","(y == -1)",")"],["          return 0"],["     else if ","(S1[x] == S2[y])"],["          return 1 + ","LCS(S1, S2, x-1, y-1)"],["     else"],["          return max(","LCS(S1, S2, x-1, y)",",","LCS(S1, S2, x, y-1)",")"]],h.codeID=Array(h.code.length),n=0;n<h.code.length;n++)for(h.codeID[n]=new Array(h.code[n].length),o=0;o<h.code[n].length;o++)h.codeID[n][o]=h.nextIndex++,h.cmd("CreateLabel",h.codeID[n][o],h.code[n][o],e.CODE_START_X,e.CODE_START_Y+n*e.CODE_LINE_HEIGHT,0),h.cmd("SetForegroundColor",h.codeID[n][o],e.CODE_STANDARD_COLOR),o>0&&h.cmd("AlignRight",h.codeID[n][o],h.codeID[n][o-1]);return h.animationManager.StartNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h.initialIndex=h.nextIndex,h.oldIDs=[],h.commands=[],h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("S1:"),this.S1Field=m("Text",""),this.S1Field.onkeydown=this.returnSubmit(this.S1Field,this.emptyCallback.bind(this),e.MAX_SEQUENCE_LENGTH,!1),this.controls.push(this.S1Field),d("S2:"),this.S2Field=m("Text",""),this.S2Field.onkeydown=this.returnSubmit(this.S2Field,this.emptyCallback.bind(this),e.MAX_SEQUENCE_LENGTH,!1),this.controls.push(this.S2Field),this.recursiveButton=m("Button","LCS Recursive"),this.recursiveButton.onclick=this.recursiveCallback.bind(this),this.controls.push(this.recursiveButton),this.tableButton=m("Button","LCS Table"),this.tableButton.onclick=this.tableCallback.bind(this),this.controls.push(this.tableButton),this.memoizedButton=m("Button","LCS Memoized"),this.memoizedButton.onclick=this.memoizedCallback.bind(this),this.controls.push(this.memoizedButton)}},{key:"buildTable",value:function(t,i){var s,h,a=t.length,n=i.length;for(this.tableID=new Array(a+1),this.tableVals=new Array(a+1),this.tableXPos=new Array(a+1),this.tableYPos=new Array(a+1),this.S1TableID=new Array(a),s=0;s<=a;s++){s>0&&(this.S1TableID[s-1]=this.nextIndex++,this.cmd("CreateLabel",this.S1TableID[s-1],t.charAt(s-1),e.TABLE_START_X+s*e.TABLE_ELEM_WIDTH,e.TABLE_START_Y-2*e.TABLE_ELEM_HEIGHT),this.oldIDs.push(this.S1TableID[s-1]));var l=this.nextIndex++;this.oldIDs.push(l),this.cmd("CreateLabel",l,s-1,e.TABLE_START_X+s*e.TABLE_ELEM_WIDTH,e.TABLE_START_Y-1*e.TABLE_ELEM_HEIGHT),this.cmd("SetForegroundColor",l,"#0000FF")}for(this.S2TableID=new Array(n),s=0;s<=n;s++){s>0&&(this.S2TableID[s-1]=this.nextIndex++,this.cmd("CreateLabel",this.S2TableID[s-1],i.charAt(s-1),e.TABLE_START_X-2*e.TABLE_ELEM_WIDTH,e.TABLE_START_Y+s*e.TABLE_ELEM_HEIGHT),this.oldIDs.push(this.S2TableID[s-1]));var r=this.nextIndex++;this.oldIDs.push(r),this.cmd("CreateLabel",r,s-1,e.TABLE_START_X-1*e.TABLE_ELEM_WIDTH,e.TABLE_START_Y+s*e.TABLE_ELEM_HEIGHT),this.cmd("SetForegroundColor",r,"#0000FF")}for(s=0;s<=a;s++)for(this.tableID[s]=new Array(n+1),this.tableVals[s]=new Array(n+1),this.tableXPos[s]=new Array(n+1),this.tableYPos[s]=new Array(n+1),h=0;h<=n;h++)this.tableID[s][h]=this.nextIndex++,this.tableVals[s][h]=-1,this.oldIDs.push(this.tableID[s][h]),this.tableXPos[s][h]=e.TABLE_START_X+s*e.TABLE_ELEM_WIDTH,this.tableYPos[s][h]=e.TABLE_START_Y+h*e.TABLE_ELEM_HEIGHT,this.cmd("CreateRectangle",this.tableID[s][h],"",e.TABLE_ELEM_WIDTH,e.TABLE_ELEM_HEIGHT,this.tableXPos[s][h],this.tableYPos[s][h])}},{key:"clearOldIDs",value:function(){for(var t=0;t<this.oldIDs.length;t++)this.cmd("Delete",this.oldIDs[t]);this.oldIDs=[],this.nextIndex=this.initialIndex}},{key:"reset",value:function(){this.oldIDs=[],this.nextIndex=this.initialIndex}},{key:"emptyCallback",value:function(){this.implementAction(this.helpMessage.bind(this),"")}},{key:"recursiveCallback",value:function(){""!==this.S1Field.value&&""!==this.S2Field.value?this.implementAction(this.recursiveLCS.bind(this),this.S1Field.value+";"+this.S2Field.value):this.implementAction(this.helpMessage.bind(this),"")}},{key:"tableCallback",value:function(){""!==this.S1Field.value&&""!==this.S2Field.value?this.implementAction(this.tableLCS.bind(this),this.S1Field.value+";"+this.S2Field.value):this.implementAction(this.helpMessage.bind(this),"")}},{key:"memoizedCallback",value:function(){""!==this.S1Field.value&&""!==this.S2Field.value?this.implementAction(this.memoizedLCS.bind(this),this.S1Field.value+";"+this.S2Field.value):this.implementAction(this.helpMessage.bind(this),"")}},{key:"helpMessage",value:function(){this.commands=[],this.clearOldIDs();var t=this.nextIndex++;return this.oldIDs.push(t),this.cmd("CreateLabel",t,"Enter two sequences in the text fields.\nThen press the LCS Recursive, LCS Table, or LCS Memoized button",e.RECURSIVE_START_X,e.RECURSIVE_START_Y,0),this.commands}},{key:"recursiveLCS",value:function(t){this.commands=[];var i=t.split(";");this.clearOldIDs(),this.currentY=e.RECURSIVE_START_Y;var s=this.nextIndex++;this.oldIDs.push(s);var h=this.LCS(i[0],i[1],i[0].length-1,i[1].length-1,e.RECURSIVE_START_X,s);return this.cmd("SetText",s,"LCS("+i[0]+", "+i[1]+", "+String(i[0].length-1)+", "+String(i[1].length-1)+") = "+String(h)),this.commands}},{key:"LCS",value:function(t,i,s,h,a,n){var l=this.nextIndex++;if(this.cmd("CreateLabel",n,"LCS("+t+", "+i+", "+String(s)+", "+String(h)+")",a,this.currentY,0),this.cmd("CreateLabel",l,"        [LCS("+t.substring(0,s+1)+","+i.substring(0,h+1)+")]"),this.cmd("SetForegroundColor",l,"#3333FF"),this.cmd("AlignRight",l,n),this.cmd("SetForegroundColor",this.codeID[0][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[0][1],e.CODE_STANDARD_COLOR),-1===s||-1===h)return-1===s&&this.cmd("SetForegroundColor",this.codeID[1][1],e.CODE_HIGHLIGHT_COLOR),-1===h&&this.cmd("SetForegroundColor",this.codeID[1][3],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),-1===s&&this.cmd("SetForegroundColor",this.codeID[1][1],e.CODE_STANDARD_COLOR),-1===h&&this.cmd("SetForegroundColor",this.codeID[1][3],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[2][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetText",n,0),this.cmd("Delete",l),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[2][0],e.CODE_STANDARD_COLOR),0;if(this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_STANDARD_COLOR),t.charAt(s)===i.charAt(h)){this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_STANDARD_COLOR);var r=this.nextIndex++;this.currentY+=e.RECURSIVE_DELTA_Y;var o=this.LCS(t,i,s-1,h-1,a+e.RECURSIVE_DELTA_X,r);return this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_STANDARD_COLOR),this.cmd("Delete",r),this.cmd("SetText",n,o+1),this.cmd("Delete",l),this.cmd("step"),this.currentY-=e.RECURSIVE_DELTA_Y,o+1}var d=this.nextIndex++,c=this.nextIndex++;this.currentY+=e.RECURSIVE_DELTA_Y,this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_STANDARD_COLOR);var u=this.LCS(t,i,s-1,h,a+e.RECURSIVE_DELTA_X,d);this.currentY+=e.RECURSIVE_DELTA_Y,this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_STANDARD_COLOR);var m=this.LCS(t,i,s,h-1,a+e.RECURSIVE_DELTA_X,c);this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_STANDARD_COLOR),this.cmd("Delete",d),this.cmd("Delete",c),this.currentY-=2*e.RECURSIVE_DELTA_Y;var g=Math.max(u,m);return this.cmd("SetText",n,g),this.cmd("Delete",l),this.cmd("step"),g}},{key:"buildLCSFromTable",value:function(t,i){var s=this.tableVals.length-1,h=this.tableVals[0].length-1,a=[],n=this.nextIndex++;for(this.oldIDs.push(n),this.cmd("CreateLabel",n,"Sequence",e.SEQUENCE_START_X,e.SEQUENCE_START_Y-30,0),this.cmd("SetForegroundColor",n,"#003300");s>0&&h>0;)if(this.cmd("SetHighlight",this.tableID[s][h],1),this.cmd("Step"),this.cmd("SetHighlight",this.S1TableID[s-1],1),this.cmd("SetHighlight",this.S2TableID[h-1],1),this.cmd("Step"),this.cmd("SetHighlight",this.S1TableID[s-1],0),this.cmd("SetHighlight",this.S2TableID[h-1],0),this.cmd("SetHighlight",this.tableID[s][h],0),t.charAt(s-1)===i.charAt(h-1)){var l=this.nextIndex++;this.oldIDs.push(l),a.push(l),this.cmd("CreateLabel",l,t.charAt(s-1),e.TABLE_START_X+s*e.TABLE_ELEM_WIDTH,e.TABLE_START_Y-2*e.TABLE_ELEM_HEIGHT),this.cmd("SetForegroundColor",l,"#0000FF");for(var r=a.length-1;r>=0;r--)this.cmd("Move",a[r],e.SEQUENCE_START_X+(a.length-1-r)*e.SEQUENCE_DELTA_X,e.SEQUENCE_START_Y);s-=1,h-=1}else this.cmd("SetHighlight",this.tableID[s-1][h],1),this.cmd("SetHighlight",this.tableID[s][h-1],1),this.cmd("Step"),this.cmd("SetHighlight",this.tableID[s-1][h],0),this.cmd("SetHighlight",this.tableID[s][h-1],0),this.tableVals[s-1][h]>this.tableVals[s][h-1]?s-=1:h-=1}},{key:"tableLCS",value:function(t){this.commands=[],this.clearOldIDs();var i=t.split(";");this.buildTable(i[0],i[1]);var s,h,a=this.nextIndex++,n=i[0].length,l=i[1].length;for(s=0;s<=n;s++)this.cmd("SetText",this.tableID[s][0],"0"),this.tableVals[s][0]=0;for(s=0;s<=l;s++)this.cmd("SetText",this.tableID[0][s],"0"),this.tableVals[0][s]=0;for(this.cmd("Step"),h=0;h<l;h++)for(s=0;s<n;s++)this.cmd("SetHighlight",this.tableID[s+1][h+1],1),this.cmd("SetHighlight",this.S1TableID[s],1),this.cmd("SetHighlight",this.S2TableID[h],1),this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetHighlight",this.S1TableID[s],0),this.cmd("SetHighlight",this.S2TableID[h],0),this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_STANDARD_COLOR),i[0].charAt(s)===i[1].charAt(h)?(this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetHighlight",this.tableID[s+1-1][h+1-1],1),this.cmd("Step"),this.cmd("CreateLabel",a,this.tableVals[s][h]+1,this.tableXPos[s][h],this.tableYPos[s][h]),this.cmd("Move",a,this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Step"),this.cmd("Delete",a),this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_STANDARD_COLOR),this.cmd("SetHighlight",this.tableID[s+1-1][h+1-1],0),this.tableVals[s+1][h+1]=this.tableVals[s][h]+1,this.cmd("SetText",this.tableID[s+1][h+1],this.tableVals[s+1][h+1])):(this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetHighlight",this.tableID[s][h+1],1),this.cmd("SetHighlight",this.tableID[s+1][h],1),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_STANDARD_COLOR),this.tableVals[s][h+1]>this.tableVals[s+1][h]?(this.cmd("SetHighlight",this.tableID[s+1][h],0),this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_STANDARD_COLOR),this.tableVals[s+1][h+1]=this.tableVals[s][h+1],this.cmd("CreateLabel",a,this.tableVals[s][h+1],this.tableXPos[s][h+1],this.tableYPos[s][h+1])):(this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_STANDARD_COLOR),this.cmd("SetHighlight",this.tableID[s][h+1],0),this.tableVals[s+1][h+1]=this.tableVals[s+1][h],this.cmd("CreateLabel",a,this.tableVals[s+1][h],this.tableXPos[s+1][h],this.tableYPos[s+1][h])),this.cmd("Move",a,this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Step"),this.cmd("SetText",this.tableID[s+1][h+1],this.tableVals[s+1][h+1]),this.cmd("Delete",a),this.tableVals[s][h+1]>this.tableVals[s+1][h]?(this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_STANDARD_COLOR),this.cmd("SetHighlight",this.tableID[s][h+1],0)):(this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_STANDARD_COLOR),this.cmd("SetHighlight",this.tableID[s+1][h],0))),this.cmd("SetHighlight",this.tableID[s+1][h+1],0);return this.buildLCSFromTable(i[0],i[1]),this.commands}},{key:"LCSMem",value:function(t,i,s,h,a,n){var l=this.nextIndex++;if(this.cmd("CreateLabel",n,"LCS("+t+", "+i+", "+String(s)+", "+String(h)+")",a,this.currentY,0),this.cmd("CreateLabel",l,"        [LCS("+t.substring(0,s+1)+","+i.substring(0,h+1)+")]"),this.cmd("SetForegroundColor",l,"#3333FF"),this.cmd("AlignRight",l,n),this.cmd("SetForegroundColor",this.codeID[0][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[0][1],e.CODE_STANDARD_COLOR),-1!==this.tableVals[s+1][h+1]){var r=this.nextIndex++;return this.cmd("CreateLabel",r,this.tableVals[s+1][h+1],this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Move",r,a,this.currentY),this.cmd("SetText",n,""),this.cmd("Step"),this.cmd("Delete",r),this.cmd("SetText",n,this.tableVals[s+1][h+1]),this.cmd("Delete",l),this.cmd("Step"),this.tableVals[s+1][h+1]}if(-1===s||-1===h){-1===s&&this.cmd("SetForegroundColor",this.codeID[1][1],e.CODE_HIGHLIGHT_COLOR),-1===h&&this.cmd("SetForegroundColor",this.codeID[1][3],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),-1===s&&this.cmd("SetForegroundColor",this.codeID[1][1],e.CODE_STANDARD_COLOR),-1===h&&this.cmd("SetForegroundColor",this.codeID[1][3],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[2][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetText",n,0),this.cmd("Delete",l),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[2][0],e.CODE_STANDARD_COLOR);var o=this.nextIndex++;return this.cmd("CreateLabel",o,0,a,this.currentY),this.cmd("Move",o,this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Step"),this.cmd("Delete",o),this.tableVals[s+1][h+1]=0,this.cmd("SetText",this.tableID[s+1][h+1],0),0}if(this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[3][1],e.CODE_STANDARD_COLOR),t.charAt(s)===i.charAt(h)){this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[4][1],e.CODE_STANDARD_COLOR);var d=this.nextIndex++;this.currentY+=e.RECURSIVE_DELTA_Y;var c=this.LCSMem(t,i,s-1,h-1,a+e.RECURSIVE_DELTA_X,d);this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[4][0],e.CODE_STANDARD_COLOR),this.cmd("Delete",d),this.cmd("SetText",n,c+1),this.cmd("Delete",l),this.cmd("step"),this.currentY-=e.RECURSIVE_DELTA_Y;var u=this.nextIndex++;return this.cmd("CreateLabel",u,c+1,a,this.currentY),this.cmd("Move",u,this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Step"),this.cmd("Delete",u),this.tableVals[s+1][h+1]=c+1,this.cmd("SetText",this.tableID[s+1][h+1],c+1),c+1}var m=this.nextIndex++,g=this.nextIndex++;this.currentY+=e.RECURSIVE_DELTA_Y,this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][1],e.CODE_STANDARD_COLOR);var p=this.LCSMem(t,i,s-1,h,a+e.RECURSIVE_DELTA_X,m);this.currentY+=e.RECURSIVE_DELTA_Y,this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][3],e.CODE_STANDARD_COLOR);var I=this.LCSMem(t,i,s,h-1,a+e.RECURSIVE_DELTA_X,g);this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_HIGHLIGHT_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_HIGHLIGHT_COLOR),this.cmd("Step"),this.cmd("SetForegroundColor",this.codeID[6][0],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][2],e.CODE_STANDARD_COLOR),this.cmd("SetForegroundColor",this.codeID[6][4],e.CODE_STANDARD_COLOR),this.cmd("Delete",m),this.cmd("Delete",g),this.currentY-=2*e.RECURSIVE_DELTA_Y;var D=Math.max(p,I);this.cmd("SetText",n,D),this.cmd("Delete",l);var b=this.nextIndex++;return this.cmd("CreateLabel",b,D,a,this.currentY),this.cmd("Move",b,this.tableXPos[s+1][h+1],this.tableYPos[s+1][h+1]),this.cmd("Step"),this.cmd("Delete",b),this.tableVals[s+1][h+1]=D,this.cmd("SetText",this.tableID[s+1][h+1],D),this.cmd("step"),D}},{key:"memoizedLCS",value:function(t){this.commands=[],this.clearOldIDs();var i=t.split(";");this.buildTable(i[0],i[1]);var s=this.nextIndex++;this.currentY=e.RECURSIVE_START_Y,this.oldIDs.push(s);var h=this.LCSMem(i[0],i[1],i[0].length-1,i[1].length-1,e.RECURSIVE_START_X,s);return this.cmd("SetText",s,"LCS("+i[0]+", "+i[1]+", "+String(i[0].length-1)+", "+String(i[1].length-1)+") = "+String(h)),this.buildLCSFromTable(i[0],i[1]),this.commands}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}}]),e}(p);q.TABLE_ELEM_WIDTH=40,q.TABLE_ELEM_HEIGHT=30,q.TABLE_START_X=500,q.TABLE_START_Y=80,q.TABLE_DIFF_X=100,q.CODE_START_X=10,q.CODE_START_Y=10,q.CODE_LINE_HEIGHT=14,q.RECURSIVE_START_X=20,q.RECURSIVE_START_Y=120,q.RECURSIVE_DELTA_Y=14,q.RECURSIVE_DELTA_X=15,q.CODE_HIGHLIGHT_COLOR="#FF0000",q.CODE_STANDARD_COLOR="#000000",q.MAX_SEQUENCE_LENGTH=15,q.TABLE_INDEX_COLOR="#0000FF",q.CODE_RECURSIVE_1_COLOR="#339933",q.CODE_RECURSIVE_2_COLOR="#0099FF",q.SEQUENCE_START_X=30,q.SEQUENCE_START_Y=180,q.SEQUENCE_DELTA_X=10,q.MAX_VALUE=20,q.MESSAGE_ID=0;var J=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.addField=m("Text",""),this.addFirstButton=m("Button","Add First"),this.addLastButton=m("Button","Add Last"),this.addFirstButton.onclick=this.addFirstCallBack.bind(this),this.addLastButton.onclick=this.addLastCallback.bind(this),this.controls.push(this.addField),this.controls.push(this.addFirstButton),this.controls.push(this.addLastButton),this.removeFirstButton=m("Button","Remove First"),this.removeFirstButton.onclick=this.removeFirstCallback.bind(this),this.controls.push(this.removeFirstButton),this.removeLastButton=m("Button","Remove Last"),this.removeLastButton.onclick=this.removeLastCallback.bind(this),this.controls.push(this.removeLastButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(15),this.arrayLabelID=new Array(15);for(var t=0;t<15;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.frontID=this.nextIndex++;var e=this.nextIndex++;this.sizeID=this.nextIndex++;var i=this.nextIndex++;this.arrayData=new Array(15),this.front=0,this.size=0,this.leftoverLabelID=this.nextIndex++;for(var s=0;s<15;s++){var h=s%15*50+100,a=130*Math.floor(s/15)+200;this.cmd("CreateRectangle",this.arrayID[s],"",50,50,h,a),this.cmd("CreateLabel",this.arrayLabelID[s],s,h,a+50),this.cmd("SetForegroundColor",this.arrayLabelID[s],"#0000FF")}this.cmd("CreateLabel",e,"Front",130,100),this.cmd("CreateRectangle",this.frontID,0,50,50,180,100),this.cmd("CreateLabel",i,"Size",230,100),this.cmd("CreateRectangle",this.sizeID,0,50,50,280,100),this.cmd("CreateLabel",this.leftoverLabelID,"",50,30,!1),this.initialIndex=this.nextIndex,this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.top=0,this.front=0,this.size=0,this.arrayData=[],this.nextIndex=this.initialIndex}},{key:"addLastCallback",value:function(){if((this.size+1)%15!==this.front&&""!==this.addField.value){var t=this.addField.value;this.addField.value="",this.implementAction(this.addLast.bind(this),t)}}},{key:"removeFirstCallback",value:function(){0!==this.size&&this.implementAction(this.removeFirst.bind(this),"")}},{key:"removeLastCallback",value:function(){0!==this.size&&this.implementAction(this.removeLast.bind(this),"")}},{key:"addFirstCallBack",value:function(){if((this.front-1+15)%15!==this.size&&""!==this.addField.value){var t=this.addField.value;this.addField.value="",this.implementAction(this.addFirst.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"addLast",value:function(t){this.commands=[];var e=this.nextIndex++,i=this.nextIndex++,s=(this.front+this.size)%15;this.arrayData[s]=t,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",e,"Enqueuing Value: ",50,30),this.cmd("CreateLabel",i,t,120,30),this.cmd("Step"),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",280,100),this.cmd("Step");var h=s%15*50+100,a=130*Math.floor(s/15)+200;return this.cmd("Move",this.highlight1ID,h,a+50),this.cmd("Step"),this.cmd("Move",i,h,a),this.cmd("Step"),this.cmd("SetText",this.arrayID[s],t),this.cmd("Delete",i),this.cmd("Delete",this.highlight1ID),this.cmd("SetHighlight",this.sizeID,1),this.cmd("Step"),this.size=this.size+1,this.cmd("SetText",this.sizeID,this.size),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,0),this.cmd("Delete",e),this.commands}},{key:"addFirst",value:function(t){this.commands=[];var e=this.nextIndex++,i=(this.front-1+15)%15,s=i%15*50+100,h=130*Math.floor(i/15)+200;return this.arrayData[i]=t,this.cmd("CreateLabel",e,t,120,30),this.cmd("SetText",this.leftoverLabelID,""),this.cmd("SetPosition",this.leftoverLabelID,150,30),this.cmd("Step"),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("Step"),this.cmd("SetText",this.leftoverLabelID,"Adding ".concat(t," at index (").concat(this.front," - 1) % ").concat(15)),this.cmd("Step"),this.cmd("Move",this.highlight1ID,50*this.front+100,h+50),this.cmd("Step"),this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Step"),this.cmd("Move",e,s,h),this.cmd("Step"),this.cmd("SetText",this.arrayID[i],t),this.cmd("Step"),this.cmd("SetHighlight",this.frontID,1),this.cmd("Step"),this.cmd("SetText",this.frontID,i),this.cmd("Step"),this.cmd("SetHighlight",this.frontID,0),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,1),this.cmd("Step"),this.cmd("SetText",this.sizeID,this.size+1),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,0),this.cmd("Step"),this.cmd("Delete",e),this.cmd("Delete",this.highlight1ID),this.cmd("SetText",this.leftoverLabelID,""),this.front=i,this.size++,this.commands}},{key:"removeFirst",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"removeFirstd Value: ",50,30),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("Step");var i=this.front%15*50+100,s=130*Math.floor(this.front/15)+200;this.cmd("Move",this.highlight1ID,i,s+50),this.cmd("Step"),this.cmd("Delete",this.highlight1ID);var h=this.arrayData[this.front];return this.cmd("CreateLabel",e,h,i,s),this.cmd("Settext",this.arrayID[this.front],""),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("SetHighlight",this.frontID,1),this.cmd("Step"),this.front=(this.front+1)%15,this.cmd("SetText",this.frontID,this.front),this.cmd("Step"),this.cmd("SetHighlight",this.frontID,0),this.cmd("SetText",this.leftoverLabelID,"removeFirstd Value: "+h),this.cmd("Delete",t),this.cmd("Delete",e),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,1),this.cmd("Step"),this.size--,this.cmd("SetText",this.sizeID,this.size),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,0),this.cmd("Step"),this.cmd("SetText",this.leftoverLabelID,""),this.adjustIfEmpty(),this.commands}},{key:"removeLast",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++,i=(this.front+this.size-1+15)%15;this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"Removed Value: ",50,30),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("CreateHighlightCircle",this.highlight2ID,"#0000FF",280,100),this.cmd("Step");var s=i%15*50+100,h=130*Math.floor(i/15)+200;this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Move",this.highlight2ID,s,h+50),this.cmd("Step"),this.cmd("Delete",this.highlight1ID),this.cmd("Delete",this.highlight2ID);var a=this.arrayData[i];return this.cmd("CreateLabel",e,a,s,h),this.cmd("Settext",this.arrayID[i],""),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("SetText",this.leftoverLabelID,"Removed Value: "+a),this.cmd("Delete",t),this.cmd("Delete",e),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,1),this.cmd("Step"),this.cmd("SetText",this.sizeID,this.size-1),this.cmd("Step"),this.cmd("SetHighlight",this.sizeID,0),this.cmd("Step"),this.cmd("SetText",this.leftoverLabelID,""),this.size--,this.adjustIfEmpty(),this.commands}},{key:"adjustIfEmpty",value:function(){0===this.size&&(this.cmd("SetText",this.leftoverLabelID,"size = 0, set front to 0"),this.front=0,this.cmd("Step"),this.cmd("SetHighlight",this.frontID,1),this.cmd("Step"),this.cmd("SetText",this.frontID,0),this.cmd("Step"),this.cmd("SetHighlight",this.frontID,0),this.cmd("SetText",this.leftoverLabelID,""))}},{key:"clearAll",value:function(){this.commands=[],this.cmd("SetText",this.leftoverLabelID,"");for(var t=0;t<15;t++)this.cmd("SetText",this.arrayID[t],"");return this.front=0,this.size=0,this.cmd("SetText",this.frontID,"0"),this.cmd("SetText",this.sizeID,"0"),this.commands}}]),e}(p),Q=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Value"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addValueField),this.addFrontButton=m("Button","Add to Front"),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=m("Button","Add to Back"),this.addBackButton.onclick=this.addBackCallback.bind(this),this.controls.push(this.addBackButton),d("or"),this.removeFrontButton=m("Button","Remove from Front"),this.removeFrontButton.onclick=this.removeFrontCallback.bind(this),this.controls.push(this.removeFrontButton),this.removeBackButton=m("Button","Remove from Back"),this.removeBackButton.onclick=this.removeBackCallback.bind(this),this.controls.push(this.removeBackButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){var t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t+","+e))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+",0")}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+","+this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"add",value:function(t){this.commands=[];for(var e=parseInt(t.split(",")[0]),i=parseInt(t.split(",")[1]),s=this.nextIndex++,h=this.nextIndex++,a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a],this.linkedListElemID[a+1]=this.linkedListElemID[a];return this.arrayData[i]=e,this.linkedListElemID[i]=this.nextIndex++,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateDoublyLinkedList",this.linkedListElemID[i],"",100,30,200,50,.25,1),this.cmd("CreateLabel",s,"Adding Value: ",50,30),this.cmd("CreateLabel",h,e,120,30),this.cmd("Step"),this.cmd("Move",h,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[i],e),this.cmd("Delete",h),0===i&&this.cmd("SetPrevNull",this.linkedListElemID[i],1),i===this.size&&this.cmd("SetNextNull",this.linkedListElemID[i],1),0!==this.size&&(0===i?(this.cmd("SetPrevNull",this.linkedListElemID[i+1],0),this.cmd("ConnectNext",this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd("ConnectPrev",this.linkedListElemID[i+1],this.linkedListElemID[i])):i===this.size?(this.cmd("SetNextNull",this.linkedListElemID[i-1],0),this.cmd("ConnectNext",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("ConnectPrev",this.linkedListElemID[i],this.linkedListElemID[i-1])):(this.cmd("Disconnect",this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd("Disconnect",this.linkedListElemID[i+1],this.linkedListElemID[i-1]),this.cmd("ConnectNext",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("ConnectPrev",this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd("ConnectNext",this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd("ConnectPrev",this.linkedListElemID[i+1],this.linkedListElemID[i]))),this.cmd("Step"),this.size=this.size+1,this.resetNodePositions(),this.cmd("Delete",s),this.cmd("Step"),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var e=this.nextIndex++,i=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,"");var s=100+150*t;if(this.cmd("CreateLabel",e,"Removing Value: ",50,30),this.cmd("CreateLabel",i,this.arrayData[t],s,200),this.cmd("Move",i,120,30),this.cmd("Step"),1!==this.size)if(0===t)this.cmd("Disconnect",this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd("SetPrevNull",this.linkedListElemID[t+1],1);else if(t===this.size-1)this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("SetNextNull",this.linkedListElemID[t-1],1);else{var h=t%8*150+100;this.cmd("Move",this.linkedListElemID[t],h,140),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("Disconnect",this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd("ConnectNext",this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd("ConnectPrev",this.linkedListElemID[t+1],this.linkedListElemID[t-1])}this.cmd("Step"),this.cmd("Delete",this.linkedListElemID[t]);for(var a=t;a<this.size;a++)this.arrayData[a]=this.arrayData[a+1],this.linkedListElemID[a]=this.linkedListElemID[a+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd("Delete",i),this.cmd("Delete",e),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var e=t%8*150+100,i=100*Math.floor(t/8)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.size=0,this.commands}}]),e}(p),Z=function(t){function e(t,i,s,h){var n;return Object(a.a)(this,e),(n=Object(l.a)(this,Object(r.a)(e).call(this,t,s,h,!1,!1))).runningDijkstra=i,n.showEdgeCosts=!0,n}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){d("Start Vertex: "),this.startField=m("Text",""),this.startField.onkeydown=this.returnSubmit(this.startField,this.startCallback.bind(this),1,!1),this.startField.size=2,this.runningDijkstra?this.startButton=m("Button","Run Dijkstra"):this.startButton=m("Button","Run Prim"),this.startButton.onclick=this.startCallback.bind(this),Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this,this.runningDijkstra)}},{key:"setup",value:function(){this.message1ID=this.nextIndex++,Object(v.a)(Object(r.a)(e.prototype),"setup",this).call(this),this.commands=[],this.cmd("CreateLabel",this.message1ID,"",20,10,0),this.vertexID=new Array(this.size),this.knownID=new Array(this.size),this.distanceID=new Array(this.size),this.pathID=new Array(this.size),this.known=new Array(this.size),this.distance=new Array(this.size),this.path=new Array(this.size),this.messageID=null;for(var t=0;t<this.size;t++)this.vertexID[t]=this.nextIndex++,this.knownID[t]=this.nextIndex++,this.distanceID[t]=this.nextIndex++,this.pathID[t]=this.nextIndex++,this.cmd("CreateRectangle",this.vertexID[t],String.fromCharCode(65+t),50,25,50,80+25*t),this.cmd("CreateRectangle",this.knownID[t],"",50,25,100,80+25*t),this.cmd("CreateRectangle",this.distanceID[t],"",50,25,150,80+25*t),this.cmd("CreateRectangle",this.pathID[t],"",50,25,200,80+25*t),this.cmd("SetTextColor",this.vertexID[t],"#0000FF");this.cmd("CreateLabel",this.nextIndex++,"Vertex",50,55),this.cmd("CreateLabel",this.nextIndex++,"Visited",100,55),this.cmd("CreateLabel",this.nextIndex++,"Cost",150,55),this.cmd("CreateLabel",this.nextIndex++,"Path",200,55),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.comparisonMessageID=this.nextIndex++}},{key:"findCheapestUnknown",value:function(){var t=-1;this.cmd("SetText",this.message1ID,"Finding Cheapest Uknown Vertex");for(var e=0;e<this.size;e++)this.known[e]||this.cmd("SetHighlight",this.distanceID[e],1),!this.known[e]&&-1!==this.distance[e]&&(-1===t||this.distance[e]<this.distance[t])&&(t=e);this.cmd("Step");for(var i=0;i<this.size;i++)this.known[i]||this.cmd("SetHighlight",this.distanceID[i],0);return t}},{key:"doDijkstraPrim",value:function(t){this.commands=[],this.runningDijkstra||this.recolorGraph();for(var e=t,i=0;i<this.size;i++)this.known[i]=!1,this.distance[i]=-1,this.path[i]=-1,this.cmd("SetText",this.knownID[i],"F"),this.cmd("SetText",this.distanceID[i],"INF"),this.cmd("SetText",this.pathID[i],"-1"),this.cmd("SetTextColor",this.knownID[i],"#000000");if(null!=this.messageID)for(var s=0;s<this.messageID.length;s++)this.cmd("Delete",this.messageID[s]);this.messageID=[],this.distance[e]=0,this.cmd("SetText",this.distanceID[e],0);for(var h=0;h<this.size&&!((e=this.findCheapestUnknown())<0);h++){this.cmd("SetText",this.message1ID,"Cheapest Unknown Vertex: "+String.fromCharCode(65+e)),this.cmd("SetHighlight",this.distanceID[e],1),this.cmd("SetHighlight",this.circleID[e],1),this.cmd("Step"),this.cmd("SetHighlight",this.distanceID[e],0),this.cmd("SetText",this.message1ID,"Setting known field to True"),this.cmd("SetHighlight",this.knownID[e],1),this.known[e]=!0,this.cmd("SetText",this.knownID[e],"T"),this.cmd("SetTextColor",this.knownID[e],"#AAAAAA"),this.cmd("Step"),this.cmd("SetHighlight",this.knownID[e],0),this.cmd("SetText",this.message1ID,"Updating neighbors of vertex "+String.fromCharCode(65+e));for(var a=0;a<this.size;a++)if(this.adj_matrix[e][a]>=0){if(this.highlightEdge(e,a,1),this.known[a])this.cmd("CreateLabel",this.comparisonMessageID,"Vertex "+String.fromCharCode(65+a)+" known",300,80+25*a),this.cmd("SetHighlight",this.knownID[a],1);else{this.cmd("SetHighlight",this.distanceID[e],1),this.cmd("SetHighlight",this.distanceID[a],1);var n=String(this.distance[a]);this.distance[a]<0&&(n="INF"),this.runningDijkstra?this.distance[a]<0||this.distance[a]>this.distance[e]+this.adj_matrix[e][a]?this.cmd("CreateLabel",this.comparisonMessageID,n+" > "+String(this.distance[e])+" + "+String(this.adj_matrix[e][a]),265,80+25*a):this.cmd("CreateLabel",this.comparisonMessageID,"!("+String(this.distance[a])+" > "+String(this.distance[e])+" + "+String(this.adj_matrix[e][a])+")",265,80+25*a):this.distance[a]<0||this.distance[a]>this.adj_matrix[e][a]?this.cmd("CreateLabel",this.comparisonMessageID,n+" > "+String(this.adj_matrix[e][a]),265,80+25*a):this.cmd("CreateLabel",this.comparisonMessageID,"!("+String(this.distance[a])+" > "+String(this.adj_matrix[e][a])+")",265,80+25*a)}if(this.cmd("Step"),this.cmd("Delete",this.comparisonMessageID),this.highlightEdge(e,a,0),this.known[a])this.cmd("SetHighlight",this.knownID[a],0);else{this.cmd("SetHighlight",this.distanceID[e],0),this.cmd("SetHighlight",this.distanceID[a],0);var l=void 0;l=this.runningDijkstra?this.distance[e]+this.adj_matrix[e][a]:this.adj_matrix[e][a],(this.distance[a]<0||this.distance[a]>l)&&(this.distance[a]=l,this.path[a]=e,this.cmd("SetText",this.distanceID[a],this.distance[a]),this.cmd("SetText",this.pathID[a],this.path[a]))}}this.cmd("SetHighlight",this.circleID[e],0)}return this.runningDijkstra?(this.cmd("SetText",this.message1ID,"Finding Paths in Table"),this.createPaths()):(this.cmd("SetText",this.message1ID,"Creating tree from table"),this.highlightTree()),this.cmd("SetText",this.message1ID,""),this.commands}},{key:"createPaths",value:function(){for(var t=0;t<this.size;t++){var e=this.nextIndex++;if(this.distance[t]<0)this.cmd("CreateLabel",e,"No Path",265,80+25*t),this.messageID.push(e);else{this.cmd("CreateLabel",e,String.fromCharCode(65+t),265,80+25*t),this.messageID.push(e);for(var i=[e],s=t;s>=0;){if(this.cmd("SetHighlight",this.pathID[s],1),this.cmd("Step"),-1!==this.path[s]){e=this.nextIndex++,this.cmd("CreateLabel",e,String.fromCharCode(65+this.path[s]),200,80+25*s),this.cmd("Move",e,265,80+25*t),this.messageID.push(e);for(var h=i.length-1;h>=0;h--)this.cmd("Move",i[h],265+17*(i.length-h),80+25*t);this.cmd("Step"),i.push(e)}this.cmd("SetHighlight",this.pathID[s],0),s=this.path[s]}}}}},{key:"highlightTree",value:function(){for(var t=0;t<this.size;t++)this.path[t]>=0&&(this.cmd("SetHighlight",this.vertexID[t],1),this.cmd("SetHighlight",this.pathID[t],1),this.highlightEdge(t,this.path[t],1),this.highlightEdge(this.path[t],t,1),this.cmd("Step"),this.cmd("SetHighlight",this.vertexID[t],0),this.cmd("SetHighlight",this.pathID[t],0),this.highlightEdge(t,this.path[t],0),this.highlightEdge(this.path[t],t,0),this.setEdgeColor(t,this.path[t],"#FF0000"),this.setEdgeColor(this.path[t],t,"#FF0000"))}},{key:"reset",value:function(){this.messageID=[]}},{key:"startCallback",value:function(){var t;""!==this.startField.value&&(t=this.startField.value,this.startField.value="",(t=t.toUpperCase().charCodeAt(0)-65)<this.size&&this.implementAction(this.doDijkstraPrim.bind(this),t))}},{key:"enableUI",value:function(t){this.startField.disabled=!1,this.startButton.disabled=!1,Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this,t)}},{key:"disableUI",value:function(t){this.startField.disabled=!0,this.startButton.disabled=!0,Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this,t)}}]),e}(E),$=function(t){function e(t,i,s){return Object(a.a)(this,e),Object(l.a)(this,Object(r.a)(e).call(this,t,!0,i,s))}return Object(o.a)(e,t),e}(Z),tt=function(t){function e(t,i,s){return Object(a.a)(this,e),Object(l.a)(this,Object(r.a)(e).call(this,t,!1,i,s))}return Object(o.a)(e,t),e}(Z),et=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Value"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addValueField),d("at index"),this.addIndexField=m("Text",""),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addIndexField),this.addIndexButton=m("Button","Add at Index"),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),d("or"),this.addFrontButton=m("Button","Add to Front"),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=m("Button","Add to Back"),this.addBackButton.onclick=this.addBackCallback.bind(this),this.controls.push(this.addBackButton),this.removeField=m("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeIndexCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeIndexButton=m("Button","Remove from Index"),this.removeIndexButton.onclick=this.removeIndexCallback.bind(this),this.controls.push(this.removeIndexButton),d("or"),this.removeFrontButton=m("Button","Remove from Front"),this.removeFrontButton.onclick=this.removeFrontCallback.bind(this),this.controls.push(this.removeFrontButton),this.removeBackButton=m("Button","Remove from Back"),this.removeBackButton.onclick=this.removeBackCallback.bind(this),this.controls.push(this.removeBackButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){var t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t+","+e))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+",0")}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+","+this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"add",value:function(t){this.commands=[];for(var e=parseInt(t.split(",")[0]),i=parseInt(t.split(",")[1]),s=this.nextIndex++,h=this.nextIndex++,a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a],this.linkedListElemID[a+1]=this.linkedListElemID[a];return this.arrayData[i]=e,this.linkedListElemID[i]=this.nextIndex++,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateDoublyLinkedList",this.linkedListElemID[i],"",100,30,200,50,.25,1),this.cmd("CreateLabel",s,"Adding Value: ",50,30),this.cmd("CreateLabel",h,e,120,30),this.cmd("Step"),this.cmd("Move",h,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[i],e),this.cmd("Delete",h),0===i&&this.cmd("SetPrevNull",this.linkedListElemID[i],1),i===this.size&&this.cmd("SetNextNull",this.linkedListElemID[i],1),0!==this.size&&(0===i?(this.cmd("SetPrevNull",this.linkedListElemID[i+1],0),this.cmd("ConnectNext",this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd("ConnectPrev",this.linkedListElemID[i+1],this.linkedListElemID[i])):i===this.size?(this.cmd("SetNextNull",this.linkedListElemID[i-1],0),this.cmd("ConnectNext",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("ConnectPrev",this.linkedListElemID[i],this.linkedListElemID[i-1])):(this.cmd("Disconnect",this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd("Disconnect",this.linkedListElemID[i+1],this.linkedListElemID[i-1]),this.cmd("ConnectNext",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("ConnectPrev",this.linkedListElemID[i],this.linkedListElemID[i-1]),this.cmd("ConnectNext",this.linkedListElemID[i],this.linkedListElemID[i+1]),this.cmd("ConnectPrev",this.linkedListElemID[i+1],this.linkedListElemID[i]))),this.cmd("Step"),this.size=this.size+1,this.resetNodePositions(),this.cmd("Delete",s),this.cmd("Step"),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var e=this.nextIndex++,i=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,"");var s=100+150*t;if(this.cmd("CreateLabel",e,"Removing Value: ",50,30),this.cmd("CreateLabel",i,this.arrayData[t],s,200),this.cmd("Move",i,120,30),this.cmd("Step"),1!==this.size)if(0===t)this.cmd("Disconnect",this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd("SetPrevNull",this.linkedListElemID[t+1],1);else if(t===this.size-1)this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("SetNextNull",this.linkedListElemID[t-1],1);else{var h=t%8*150+100;this.cmd("Move",this.linkedListElemID[t],h,140),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("Disconnect",this.linkedListElemID[t+1],this.linkedListElemID[t]),this.cmd("ConnectNext",this.linkedListElemID[t-1],this.linkedListElemID[t+1]),this.cmd("ConnectPrev",this.linkedListElemID[t+1],this.linkedListElemID[t-1])}this.cmd("Step"),this.cmd("Delete",this.linkedListElemID[t]);for(var a=t;a<this.size;a++)this.arrayData[a]=this.arrayData[a+1],this.linkedListElemID[a]=this.linkedListElemID[a+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd("Delete",i),this.cmd("Delete",e),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var e=t%8*150+100,i=100*Math.floor(t/8)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.size=0,this.commands}}]),e}(p),it=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s,!0,!1))).showEdgeCosts=!0,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.startButton=m("Button","Run Floyd-Warshall"),this.startButton.onclick=this.startCallback.bind(this),Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this),this.smallGraphButton.onclick=this.smallGraphCallback.bind(this),this.largeGraphButton.onclick=this.largeGraphCallback.bind(this)}},{key:"reset",value:function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++)this.costTable[t][e]=this.adj_matrix[t][e],this.costTable[t][e]>=0?this.pathTable[t][e]=t:this.pathTable[t][e]=-1}},{key:"smallGraphCallback",value:function(){8!==this.size&&(this.animationManager.resetAll(),this.animationManager.setAllLayers([0,this.currentLayer]),this.logicalButton.disabled=!1,this.adjacencyListButton.disabled=!1,this.adjacencyMatrixButton.disabled=!1,this.setup_small())}},{key:"largeGraphCallback",value:function(){18!==this.size&&(this.animationManager.resetAll(),this.logicalButton.disabled=!0,this.adjacencyListButton.disabled=!0,this.adjacencyMatrixButton.disabled=!0,this.setup_large())}},{key:"getCostLabel",value:function(t,e){return e=void 0!==e&&e,t>=0?String(t):8===this.size||e?"INF":""}},{key:"setup_small",value:function(){this.cost_table_width=e.SMALL_COST_TABLE_WIDTH,this.cost_table_height=e.SMALL_COST_TABLE_HEIGHT,this.cost_table_start_x=e.SMALL_COST_TABLE_START_X,this.cost_table_start_y=e.SMALL_COST_TABLE_START_Y,this.path_table_width=e.SMALL_PATH_TABLE_WIDTH,this.path_table_height=e.SMALL_PATH_TABLE_HEIGHT,this.path_table_start_x=e.SMALL_PATH_TABLE_START_X,this.path_table_start_y=e.SMALL_PATH_TABLE_START_Y,this.node_1_x_pos=e.SMALL_NODE_1_X_POS,this.node_1_y_pos=e.SMALL_NODE_1_Y_POS,this.node_2_x_pos=e.SMALL_NODE_2_X_POS,this.node_2_y_pos=e.SMALL_NODE_2_Y_POS,this.node_3_x_pos=e.SMALL_NODE_3_X_POS,this.node_3_y_pos=e.SMALL_NODE_3_Y_POS,this.message_x=e.SMALL_MESSAGE_X,this.message_y=e.SMALL_MESSAGE_Y,Object(v.a)(Object(r.a)(e.prototype),"setup_small",this).call(this)}},{key:"setup_large",value:function(){this.cost_table_width=e.LARGE_COST_TABLE_WIDTH,this.cost_table_height=e.LARGE_COST_TABLE_HEIGHT,this.cost_table_start_x=e.LARGE_COST_TABLE_START_X,this.cost_table_start_y=e.LARGE_COST_TABLE_START_Y,this.path_table_width=e.LARGE_PATH_TABLE_WIDTH,this.path_table_height=e.LARGE_PATH_TABLE_HEIGHT,this.path_table_start_x=e.LARGE_PATH_TABLE_START_X,this.path_table_start_y=e.LARGE_PATH_TABLE_START_Y,this.node_1_x_pos=e.LARGE_NODE_1_X_POS,this.node_1_y_pos=e.LARGE_NODE_1_Y_POS,this.node_2_x_pos=e.LARGE_NODE_2_X_POS,this.node_2_y_pos=e.LARGE_NODE_2_Y_POS,this.node_3_x_pos=e.LARGE_NODE_3_X_POS,this.node_3_y_pos=e.LARGE_NODE_3_Y_POS,this.message_x=e.LARGE_MESSAGE_X,this.message_y=e.LARGE_MESSAGE_Y,Object(v.a)(Object(r.a)(e.prototype),"setup_large",this).call(this)}},{key:"setup",value:function(){var t;for(Object(v.a)(Object(r.a)(e.prototype),"setup",this).call(this),this.commands=[],this.costTable=new Array(this.size),this.pathTable=new Array(this.size),this.costTableID=new Array(this.size),this.pathTableID=new Array(this.size),this.pathIndexXID=new Array(this.size),this.pathIndexYID=new Array(this.size),this.costIndexXID=new Array(this.size),this.costIndexYID=new Array(this.size),this.node1ID=this.nextIndex++,this.node2ID=this.nextIndex++,this.node3ID=this.nextIndex++,t=0;t<this.size;t++)this.costTable[t]=new Array(this.size),this.pathTable[t]=new Array(this.size),this.costTableID[t]=new Array(this.size),this.pathTableID[t]=new Array(this.size);var i=this.nextIndex++,s=this.nextIndex++;for(this.cmd("CreateLabel",i,"Cost Table",this.cost_table_start_x,this.cost_table_start_y-2*this.cost_table_height,0),this.cmd("CreateLabel",s,"Path Table",this.path_table_start_x,this.path_table_start_y-2*this.path_table_height,0),t=0;t<this.size;t++){this.pathIndexXID[t]=this.nextIndex++,this.pathIndexYID[t]=this.nextIndex++,this.costIndexXID[t]=this.nextIndex++,this.costIndexYID[t]=this.nextIndex++,this.cmd("CreateLabel",this.pathIndexXID[t],t,this.path_table_start_x+t*this.path_table_width,this.path_table_start_y-this.path_table_height),this.cmd("SetTextColor",this.pathIndexXID[t],"#0000FF"),this.cmd("CreateLabel",this.pathIndexYID[t],t,this.path_table_start_x-this.path_table_width,this.path_table_start_y+t*this.path_table_height),this.cmd("SetTextColor",this.pathIndexYID[t],"#0000FF"),this.cmd("CreateLabel",this.costIndexXID[t],t,this.cost_table_start_x+t*this.cost_table_width,this.cost_table_start_y-this.cost_table_height),this.cmd("SetTextColor",this.costIndexXID[t],"#0000FF"),this.cmd("CreateLabel",this.costIndexYID[t],t,this.cost_table_start_x-this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd("SetTextColor",this.costIndexYID[t],"#0000FF");for(var h=0;h<this.size;h++)this.costTable[t][h]=this.adj_matrix[t][h],this.costTable[t][h]>=0?this.pathTable[t][h]=t:this.pathTable[t][h]=-1,this.costTableID[t][h]=this.nextIndex++,this.pathTableID[t][h]=this.nextIndex++,this.cmd("CreateRectangle",this.costTableID[t][h],this.getCostLabel(this.costTable[t][h],!0),this.cost_table_width,this.cost_table_height,this.cost_table_start_x+h*this.cost_table_width,this.cost_table_start_y+t*this.cost_table_height),this.cmd("CreateRectangle",this.pathTableID[t][h],this.pathTable[t][h],this.path_table_width,this.path_table_height,this.path_table_start_x+h*this.path_table_width,this.path_table_start_y+t*this.path_table_height)}this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),18===this.size&&this.animationManager.setAllLayers([0])}},{key:"startCallback",value:function(){this.implementAction(this.doFloydWarshall.bind(this),"")}},{key:"doFloydWarshall",value:function(){this.commands=[];var t=this.nextIndex,e=this.nextIndex++,i=this.nextIndex++,s=this.nextIndex++;this.cmd("CreateCircle",this.node1ID,"",this.node_1_x_pos,this.node_1_y_pos),this.cmd("CreateCircle",this.node2ID,"",this.node_2_x_pos,this.node_2_y_pos),this.cmd("CreateCircle",this.node3ID,"",this.node_3_x_pos,this.node_3_y_pos),this.cmd("CreateLabel",e,"",this.message_x,this.message_y,0);for(var h=0;h<this.size;h++)for(var a=0;a<this.size;a++)for(var n=0;n<this.size;n++)a!==n&&n!==h&&a!==h&&(this.cmd("SetText",this.node1ID,a),this.cmd("SetText",this.node2ID,h),this.cmd("SetText",this.node3ID,n),this.cmd("Connect",this.node1ID,this.node2ID,"#009999",-.1,1,this.getCostLabel(this.costTable[a][h],!0)),this.cmd("Connect",this.node2ID,this.node3ID,"#9900CC",-.1,1,this.getCostLabel(this.costTable[h][n],!0)),this.cmd("Connect",this.node1ID,this.node3ID,"#CC0000",0,1,this.getCostLabel(this.costTable[a][n],!0)),this.cmd("SetHighlight",this.costTableID[a][h],1),this.cmd("SetHighlight",this.costTableID[h][n],1),this.cmd("SetHighlight",this.costTableID[a][n],1),this.cmd("SetTextColor",this.costTableID[a][h],"#009999"),this.cmd("SetTextColor",this.costTableID[h][n],"#9900CC"),this.cmd("SetTextColor",this.costTableID[a][n],"#CC0000"),this.costTable[a][h]>=0&&this.costTable[h][n]>=0&&(this.costTable[a][n]<0||this.costTable[a][h]+this.costTable[h][n]<this.costTable[a][n])?(this.cmd("SetText",e,this.getCostLabel(this.costTable[a][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[a][n],!0)),this.cmd("Step"),this.costTable[a][n]=this.costTable[a][h]+this.costTable[h][n],this.cmd("SetText",this.pathTableID[a][n],""),this.cmd("SetText",this.costTableID[a][n],""),this.cmd("CreateLabel",i,this.pathTable[h][n],this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+h*this.path_table_height),this.cmd("Move",i,this.path_table_start_x+n*this.path_table_width,this.path_table_start_y+a*this.path_table_height),this.cmd("CreateLabel",s,this.costTable[a][n],this.message_x,this.message_y),this.cmd("SetHighlight",s,1),this.cmd("Move",s,this.cost_table_start_x+n*this.cost_table_width,this.cost_table_start_y+a*this.cost_table_height),this.pathTable[a][n]=this.pathTable[h][n],this.cmd("Step"),this.cmd("SetText",this.costTableID[a][n],this.costTable[a][n]),this.cmd("SetText",this.pathTableID[a][n],this.pathTable[a][n]),this.cmd("Delete",i),this.cmd("Delete",s)):(this.cmd("SetText",e,"!("+this.getCostLabel(this.costTable[a][h],!0)+" + "+this.getCostLabel(this.costTable[h][n],!0)+" < "+this.getCostLabel(this.costTable[a][n],!0)+")"),this.cmd("Step")),this.cmd("SetTextColor",this.costTableID[a][h],"#000000"),this.cmd("SetTextColor",this.costTableID[h][n],"#000000"),this.cmd("SetTextColor",this.costTableID[a][n],"#000000"),this.cmd("Disconnect",this.node1ID,this.node2ID),this.cmd("Disconnect",this.node2ID,this.node3ID),this.cmd("Disconnect",this.node1ID,this.node3ID),this.cmd("SetHighlight",this.costTableID[a][h],0),this.cmd("SetHighlight",this.costTableID[h][n],0),this.cmd("SetHighlight",this.costTableID[a][n],0));return this.cmd("Delete",this.node1ID),this.cmd("Delete",this.node2ID),this.cmd("Delete",this.node3ID),this.cmd("Delete",e),this.nextIndex=t,this.commands}},{key:"enableUI",value:function(t){this.startButton.disabled=!1,Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this,t)}},{key:"disableUI",value:function(t){this.startButton.disabled=!0,Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this,t)}}]),e}(E);it.SMALL_COST_TABLE_WIDTH=30,it.SMALL_COST_TABLE_HEIGHT=30,it.SMALL_COST_TABLE_START_X=40,it.SMALL_COST_TABLE_START_Y=70,it.SMALL_PATH_TABLE_WIDTH=30,it.SMALL_PATH_TABLE_HEIGHT=30,it.SMALL_PATH_TABLE_START_X=330,it.SMALL_PATH_TABLE_START_Y=70,it.SMALL_NODE_1_X_POS=50,it.SMALL_NODE_1_Y_POS=400,it.SMALL_NODE_2_X_POS=150,it.SMALL_NODE_2_Y_POS=350,it.SMALL_NODE_3_X_POS=250,it.SMALL_NODE_3_Y_POS=400,it.SMALL_MESSAGE_X=400,it.SMALL_MESSAGE_Y=350,it.LARGE_COST_TABLE_WIDTH=20,it.LARGE_COST_TABLE_HEIGHT=20,it.LARGE_COST_TABLE_START_X=40,it.LARGE_COST_TABLE_START_Y=50,it.LARGE_PATH_TABLE_WIDTH=20,it.LARGE_PATH_TABLE_HEIGHT=20,it.LARGE_PATH_TABLE_START_X=500,it.LARGE_PATH_TABLE_START_Y=50,it.LARGE_NODE_1_X_POS=50,it.LARGE_NODE_1_Y_POS=500,it.LARGE_NODE_2_X_POS=150,it.LARGE_NODE_2_Y_POS=450,it.LARGE_NODE_3_X_POS=250,it.LARGE_NODE_3_Y_POS=500,it.LARGE_MESSAGE_X=300,it.LARGE_MESSAGE_Y=450;var st=function(t){function e(t){var i;return Object(a.a)(this,e),(i=Object(l.a)(this,Object(r.a)(e).call(this,t))).addControls(),i.nextIndex=0,i.HeapXPositions=[0,450,250,650,150,350,550,750,100,200,300,400,500,600,700,800,75,125,175,225,275,325,375,425,475,525,575,625,675,725,775,825],i.HeapYPositions=[0,100,170,170,240,240,240,240,310,310,310,310,310,310,310,310,380,380,380,380,380,380,380,380,380,380,380,380,380,380,380,380],i.commands=[],i.createArray(),i}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.insertField=m("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4,!0),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.removeSmallestButton=m("Button","Remove Smallest"),this.removeSmallestButton.onclick=this.removeSmallestCallback.bind(this),this.clearHeapButton=m("Button","Clear Heap"),this.clearHeapButton.onclick=this.clearCallback.bind(this),this.buildHeapButton=m("Button","BuildHeap"),this.buildHeapButton.onclick=this.buildHeapCallback.bind(this)}},{key:"createArray",value:function(){this.arrayData=new Array(32),this.arrayLabels=new Array(32),this.arrayRects=new Array(32),this.circleObjs=new Array(32),this.ArrayXPositions=new Array(32),this.currentHeapSize=0;for(var t=0;t<32;t++)this.ArrayXPositions[t]=30+30*t,this.arrayLabels[t]=this.nextIndex++,this.arrayRects[t]=this.nextIndex++,this.circleObjs[t]=this.nextIndex++,this.cmd("CreateRectangle",this.arrayRects[t],"",30,25,this.ArrayXPositions[t],50),this.cmd("CreateLabel",this.arrayLabels[t],t,this.ArrayXPositions[t],70),this.cmd("SetForegroundColor",this.arrayLabels[t],"#0000FF");this.cmd("SetText",this.arrayRects[0],"-INF"),this.swapLabel1=this.nextIndex++,this.swapLabel2=this.nextIndex++,this.swapLabel3=this.nextIndex++,this.swapLabel4=this.nextIndex++,this.descriptLabel1=this.nextIndex++,this.descriptLabel2=this.nextIndex++,this.cmd("CreateLabel",this.descriptLabel1,"",20,10,0),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"insertCallback",value:function(){var t=this.normalizeNumber(this.insertField.value,4);""!==t&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),t))}},{key:"clearCallback",value:function(){this.commands=[],this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){for(;this.currentHeapSize>0;)this.cmd("Delete",this.circleObjs[this.currentHeapSize]),this.cmd("SetText",this.arrayRects[this.currentHeapSize],""),this.currentHeapSize--;return this.commands}},{key:"reset",value:function(){this.currentHeapSize=0}},{key:"removeSmallestCallback",value:function(){this.implementAction(this.removeSmallest.bind(this),"")}},{key:"swap",value:function(t,e){this.cmd("SetText",this.arrayRects[t],""),this.cmd("SetText",this.arrayRects[e],""),this.cmd("SetText",this.circleObjs[t],""),this.cmd("SetText",this.circleObjs[e],""),this.cmd("CreateLabel",this.swapLabel1,this.arrayData[t],this.ArrayXPositions[t],50),this.cmd("CreateLabel",this.swapLabel2,this.arrayData[e],this.ArrayXPositions[e],50),this.cmd("CreateLabel",this.swapLabel3,this.arrayData[t],this.HeapXPositions[t],this.HeapYPositions[t]),this.cmd("CreateLabel",this.swapLabel4,this.arrayData[e],this.HeapXPositions[e],this.HeapYPositions[e]),this.cmd("Move",this.swapLabel1,this.ArrayXPositions[e],50),this.cmd("Move",this.swapLabel2,this.ArrayXPositions[t],50),this.cmd("Move",this.swapLabel3,this.HeapXPositions[e],this.HeapYPositions[e]),this.cmd("Move",this.swapLabel4,this.HeapXPositions[t],this.HeapYPositions[t]);var i=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=i,this.cmd("Step"),this.cmd("SetText",this.arrayRects[t],this.arrayData[t]),this.cmd("SetText",this.arrayRects[e],this.arrayData[e]),this.cmd("SetText",this.circleObjs[t],this.arrayData[t]),this.cmd("SetText",this.circleObjs[e],this.arrayData[e]),this.cmd("Delete",this.swapLabel1),this.cmd("Delete",this.swapLabel2),this.cmd("Delete",this.swapLabel3),this.cmd("Delete",this.swapLabel4)}},{key:"setIndexHighlight",value:function(t,e){this.cmd("SetHighlight",this.circleObjs[t],e),this.cmd("SetHighlight",this.arrayRects[t],e)}},{key:"pushDown",value:function(t){for(var e;2*t<=this.currentHeapSize;){if(e=2*t,2*t+1<=this.currentHeapSize&&(this.setIndexHighlight(2*t,1),this.setIndexHighlight(2*t+1,1),this.cmd("Step"),this.setIndexHighlight(2*t,0),this.setIndexHighlight(2*t+1,0),this.arrayData[2*t+1]<this.arrayData[2*t]&&(e=2*t+1)),this.setIndexHighlight(t,1),this.setIndexHighlight(e,1),this.cmd("Step"),this.setIndexHighlight(t,0),this.setIndexHighlight(e,0),!(this.arrayData[e]<this.arrayData[t]))return;this.swap(e,t),t=e}}},{key:"removeSmallest",value:function(){return this.commands=[],this.cmd("SetText",this.descriptLabel1,""),0===this.currentHeapSize?(this.cmd("SetText",this.descriptLabel1,"Heap is empty, cannot remove smallest element"),this.commands):(this.cmd("SetText",this.descriptLabel1,"Removing element:"),this.cmd("CreateLabel",this.descriptLabel2,this.arrayData[1],this.HeapXPositions[1],this.HeapYPositions[1],0),this.cmd("SetText",this.circleObjs[1],""),this.cmd("Move",this.descriptLabel2,120,40),this.cmd("Step"),this.cmd("Delete",this.descriptLabel2),this.cmd("SetText",this.descriptLabel1,"Removing element: "+this.arrayData[1]),this.arrayData[1]="",this.currentHeapSize>1?(this.cmd("SetText",this.arrayRects[1],""),this.cmd("SetText",this.arrayRects[this.currentHeapSize],""),this.swap(1,this.currentHeapSize),this.cmd("Delete",this.circleObjs[this.currentHeapSize]),this.currentHeapSize--,this.pushDown(1)):(this.cmd("SetText",this.arrayRects[1],""),this.cmd("Delete",this.circleObjs[this.currentHeapSize]),this.currentHeapSize--),this.commands)}},{key:"buildHeapCallback",value:function(){this.implementAction(this.buildHeap.bind(this),"")}},{key:"buildHeap",value:function(){this.commands=[],this.clear();for(var t=1;t<32;t++)this.arrayData[t]=this.normalizeNumber(String(32-t),4),this.cmd("CreateCircle",this.circleObjs[t],this.arrayData[t],this.HeapXPositions[t],this.HeapYPositions[t]),this.cmd("SetText",this.arrayRects[t],this.arrayData[t]),t>1&&this.cmd("Connect",this.circleObjs[Math.floor(t/2)],this.circleObjs[t]);this.cmd("Step"),this.currentHeapSize=31;for(var e=this.currentHeapSize;e>0;)this.pushDown(e),e-=1;return this.commands}},{key:"insertElement",value:function(t){if(this.commands=[],this.currentHeapSize>=31)return this.cmd("SetText",this.descriptLabel1,"Heap Full!"),this.commands;this.cmd("SetText",this.descriptLabel1,"Inserting Element: "+t),this.cmd("Step"),this.cmd("SetText",this.descriptLabel1,"Inserting Element: "),this.currentHeapSize++,this.arrayData[this.currentHeapSize]=t,this.cmd("CreateCircle",this.circleObjs[this.currentHeapSize],"",this.HeapXPositions[this.currentHeapSize],this.HeapYPositions[this.currentHeapSize]),this.cmd("CreateLabel",this.descriptLabel2,t,120,45,1),this.currentHeapSize>1&&this.cmd("Connect",this.circleObjs[Math.floor(this.currentHeapSize/2)],this.circleObjs[this.currentHeapSize]),this.cmd("Move",this.descriptLabel2,this.HeapXPositions[this.currentHeapSize],this.HeapYPositions[this.currentHeapSize]),this.cmd("Step"),this.cmd("SetText",this.circleObjs[this.currentHeapSize],t),this.cmd("delete",this.descriptLabel2),this.cmd("SetText",this.arrayRects[this.currentHeapSize],t);var e=this.currentHeapSize,i=Math.floor(e/2);for(e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd("Step"),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));e>1&&this.arrayData[e]<this.arrayData[i];)this.swap(e,i),e=i,i=Math.floor(i/2),e>1&&(this.setIndexHighlight(e,1),this.setIndexHighlight(i,1),this.cmd("Step"),this.setIndexHighlight(e,0),this.setIndexHighlight(i,0));return this.cmd("SetText",this.descriptLabel1,""),this.commands}},{key:"disableUI",value:function(){this.insertField.disabled=!0,this.insertButton.disabled=!0,this.removeSmallestButton.disabled=!0,this.clearHeapButton.disabled=!0,this.buildHeapButton.disabled=!0}},{key:"enableUI",value:function(){this.insertField.disabled=!1,this.insertButton.disabled=!1,this.removeSmallestButton.disabled=!1,this.clearHeapButton.disabled=!1,this.buildHeapButton.disabled=!1}}]),e}(p),ht=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma seperated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var e=this.arrayData.length,i=new Map,s=new Map,h=0;h<e;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,200)}this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",100,200),this.cmd("SetHighlight",this.iPointerID,1),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",150,200),this.cmd("SetHighlight",this.jPointerID,1),this.cmd("Step");for(var d=1;d<this.arrayData.length;d++){for(var c=d;c>=1&&(this.movePointers(c-1,c),this.arrayData[c]<this.arrayData[c-1]);c--)this.swap(c,c-1);1===d&&this.cmd("SetBackgroundColor",this.arrayID[0],"#2ECC71"),this.cmd("SetBackgroundColor",this.arrayID[d],"#2ECC71"),this.cmd("Step")}return this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Step"),this.commands}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swap",value:function(t,e){this.cmd("SetForegroundColor",this.iPointerID,"#FF0000"),this.cmd("SetForegroundColor",this.jPointerID,"#FF0000");var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd("SetForegroundColor",this.iPointerID,"#0000FF"),this.cmd("SetForegroundColor",this.jPointerID,"#0000FF"),this.cmd("Step")}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),at=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Text"),this.textField=m("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),d("Pattern"),this.patternField=m("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.textRowID=[],this.comparisonMatrixID=[],this.failureTableLabelID=this.nextIndex++,this.failureTableCharacterID=[],this.failureTableValueID=[]}},{key:"reset",value:function(){this.nextIndex=0}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this),"");var t=this.textField.value,e=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t+","+e)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"find",value:function(t){this.commands=[];var e,i,s=t.split(",")[0],h=t.split(",")[1];s.length<=14?this.cellSize=30:s.length<=17?this.cellSize=25:this.cellSize=20,this.textRowID=new Array(s.length),this.comparisonMatrixID=new Array(s.length);for(var a=0;a<s.length;a++)this.comparisonMatrixID[a]=new Array(s.length);for(var n=0;n<s.length;n++)e=n*this.cellSize+100,i=30,this.textRowID[n]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex,s.charAt(n),this.cellSize,this.cellSize,e,i),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3");for(var l=0;l<s.length;l++)for(var r=0;r<s.length;r++)e=r*this.cellSize+100,i=(l+1)*this.cellSize+30,this.comparisonMatrixID[l][r]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex++,"",this.cellSize,this.cellSize,e,i);var o=this.buildFailureTable(s.length,h),d=this.nextIndex++,c=this.nextIndex++;this.cmd("CreateHighlightCircle",d,"#0000FF",100,30,this.cellSize/2),this.cmd("CreateHighlightCircle",c,"#0000FF",100,30+this.cellSize,this.cellSize/2);for(var u=0,m=0,g=0;u<=s.length-h.length;){for(var p=u;p<u+h.length;p++)this.cmd("SetText",this.comparisonMatrixID[g][p],h.charAt(p-u),e,i);for(this.cmd("Step");m<h.length&&h.charAt(m)===s.charAt(u+m);)this.cmd("SetBackgroundColor",this.comparisonMatrixID[g][u+m],"#2ECC71"),m++,this.cmd("Step"),m<h.length&&(e=(u+m)*this.cellSize+100,this.cmd("Move",d,e,30),i=(g+1)*this.cellSize+30,this.cmd("Move",c,e,i),this.cmd("Step"));if(0===m)this.cmd("SetBackgroundColor",this.comparisonMatrixID[g][u],"#E74C3C"),u++;else{m!==h.length&&this.cmd("SetBackgroundColor",this.comparisonMatrixID[g][u+m],"#E74C3C");var I=o[m-1];u+=m-I,m=I}g++,u<=s.length-h.length&&(e=(u+m)*this.cellSize+100,this.cmd("Move",d,e,30),i=(g+1)*this.cellSize+30,this.cmd("Move",c,e,i),this.cmd("Step"))}return this.cmd("Delete",d),this.cmd("Delete",c),this.commands}},{key:"buildFailureTable",value:function(t,e){var i=100+t*this.cellSize+10;this.cmd("CreateLabel",this.failureTableLabelID,"Failure table:",i,100,0);var s=100+t*this.cellSize+100;this.failureTableCharacterID=new Array(e.length),this.failureTableValueID=new Array(e.length);for(var h=0;h<e.length;h++){var a=s+h*this.cellSize;this.failureTableCharacterID[h]=this.nextIndex++,this.cmd("CreateRectangle",this.failureTableCharacterID[h],e.charAt(h),this.cellSize,this.cellSize,a,100),this.cmd("SetBackgroundColor",this.failureTableCharacterID[h],"#D3D3D3"),this.failureTableValueID[h]=this.nextIndex++,this.cmd("CreateRectangle",this.failureTableValueID[h],"",this.cellSize,this.cellSize,a,100+this.cellSize)}this.cmd("Step");var n=this.nextIndex++,l=this.nextIndex++;this.cmd("CreateHighlightCircle",n,"#0000FF",s,100,this.cellSize/2),this.cmd("CreateHighlightCircle",l,"#FF0000",s+this.cellSize,100,this.cellSize/2),this.cmd("SetText",this.failureTableValueID[0],0),this.cmd("Step");var r=[];r[0]=0;for(var o=0,d=1;d<e.length;)e.charAt(o)===e.charAt(d)?(o++,r[d]=o,this.cmd("SetText",this.failureTableValueID[d],o),++d<e.length&&(this.cmd("Move",n,s+o*this.cellSize,100),this.cmd("Move",l,s+d*this.cellSize,100)),this.cmd("Step")):0===o?(r[d]=o,this.cmd("SetText",this.failureTableValueID[d],o),++d<e.length&&this.cmd("Move",l,s+d*this.cellSize,100),this.cmd("Step")):(o=r[o-1],this.cmd("Move",n,s+o*this.cellSize,100),this.cmd("Step"));return this.cmd("Delete",n),this.cmd("Delete",l),r}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.textRowID.length;t++)this.cmd("Delete",this.textRowID[t]);this.textRowID=[];for(var e=0;e<this.comparisonMatrixID.length;e++)for(var i=0;i<this.comparisonMatrixID.length;i++)this.cmd("Delete",this.comparisonMatrixID[e][i]);this.comparisonMatrixID=[],0!==this.failureTableValueID.length&&this.cmd("Delete",this.failureTableLabelID);for(var s=0;s<this.failureTableCharacterID.length;s++)this.cmd("Delete",this.failureTableCharacterID[s]),this.cmd("Delete",this.failureTableValueID[s]);return this.failureTableCharacterID=[],this.failureTableValueID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),nt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s,!1,!1))).showEdgeCosts=!0,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.startButton=m("Button","Run Kruskal"),this.startButton.onclick=this.startCallback.bind(this),Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this,!1)}},{key:"setup",value:function(){var t;for(Object(v.a)(Object(r.a)(e.prototype),"setup",this).call(this),this.messageID=[],this.commands=[],this.setID=new Array(this.size),this.setIndexID=new Array(this.size),this.setData=new Array(this.size),t=0;t<this.size;t++)this.setID[t]=this.nextIndex++,this.setIndexID[t]=this.nextIndex++,this.cmd("CreateRectangle",this.setID[t],"-1",e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_ELEM_HEIGHT,e.SET_ARRAY_START_X,e.SET_ARRAY_START_Y+t*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("CreateLabel",this.setIndexID[t],t,e.SET_ARRAY_START_X-e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_START_Y+t*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("SetForegroundColor",this.setIndexID[t],"#0000FF");this.cmd("CreateLabel",this.nextIndex++,"Disjoint Set",e.SET_ARRAY_START_X-1*e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_START_Y-1.5*e.SET_ARRAY_ELEM_HEIGHT,0),this.animationManager.setAllLayers([0,this.currentLayer]),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"startCallback",value:function(){this.implementAction(this.doKruskal.bind(this),"")}},{key:"disjointSetFind",value:function(t,i){for(this.cmd("SetTextColor",this.setID[t],"#FF0000"),this.cmd("Step");this.setData[t]>=0;)this.cmd("SetTextColor",this.setID[t],"#000000"),this.cmd("Move",i,e.SET_ARRAY_START_X-e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_START_Y+this.setData[t]*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Step"),t=this.setData[t],this.cmd("SetTextColor",this.setID[t],"#FF0000"),this.cmd("Step");return this.cmd("SetTextColor",this.setID[t],"#000000"),t}},{key:"doKruskal",value:function(){var t,i,s;for(this.commands=[],this.edgesListLeftID=[],this.edgesListRightID=[],this.edgesListLeft=[],this.edgesListRight=[],t=0;t<this.size;t++)this.setData[t]=-1,this.cmd("SetText",this.setID[t],"-1");for(this.recolorGraph(),t=0;t<this.size;t++)for(i=t+1;i<this.size;i++)this.adj_matrix[t][i]>=0&&(this.edgesListLeftID.push(this.nextIndex++),this.edgesListRightID.push(this.nextIndex++),s=this.edgesListLeftID.length-1,this.edgesListLeft.push(t),this.edgesListRight.push(i),this.cmd("CreateLabel",this.edgesListLeftID[s],t,e.EDGE_LIST_START_X+Math.floor(s/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+s%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT),this.cmd("CreateLabel",this.edgesListRightID[s],i,e.EDGE_LIST_START_X+e.EDGE_LIST_ELEM_WIDTH+Math.floor(s/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+s%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT),this.cmd("Connect",this.edgesListLeftID[s],this.edgesListRightID[s],"#000000",0,0,this.adj_matrix[t][i]));this.cmd("Step");var h,a,n,l,r=this.edgesListLeftID.length;for(t=1;t<r;t++){for(h=this.edgesListLeftID[t],a=this.edgesListRightID[t],n=this.edgesListLeft[t],l=this.edgesListRight[t],i=t;i>0&&this.adj_matrix[this.edgesListLeft[i-1]][this.edgesListRight[i-1]]>this.adj_matrix[n][l];)this.edgesListLeft[i]=this.edgesListLeft[i-1],this.edgesListRight[i]=this.edgesListRight[i-1],this.edgesListLeftID[i]=this.edgesListLeftID[i-1],this.edgesListRightID[i]=this.edgesListRightID[i-1],i-=1;this.edgesListLeft[i]=n,this.edgesListRight[i]=l,this.edgesListLeftID[i]=h,this.edgesListRightID[i]=a}for(t=0;t<r;t++)this.cmd("Move",this.edgesListLeftID[t],e.EDGE_LIST_START_X+Math.floor(t/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+t%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT),this.cmd("Move",this.edgesListRightID[t],e.EDGE_LIST_START_X+e.EDGE_LIST_ELEM_WIDTH+Math.floor(t/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+t%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT);this.cmd("Step");var o=this.nextIndex++,d=this.nextIndex++,c=this.nextIndex++,u=this.nextIndex++,m=this.nextIndex++,g=this.nextIndex++,p=0,I=0;for(this.cmd("CreateLabel",o,"",e.FIND_LABEL_1_X,e.FIND_LABEL_1_Y,0),this.cmd("CreateLabel",d,"",e.FIND_LABEL_2_X,e.FIND_LABEL_2_Y,0);p<this.size-1&&I<r;){this.cmd("SetEdgeHighlight",this.edgesListLeftID[I],this.edgesListRightID[I],1),this.highlightEdge(this.edgesListLeft[I],this.edgesListRight[I],1),this.highlightEdge(this.edgesListRight[I],this.edgesListLeft[I],1),this.cmd("SetText",o,"find("+String(this.edgesListLeft[I])+") = "),this.cmd("CreateHighlightCircle",c,e.HIGHLIGHT_CIRCLE_COLOR_1,e.EDGE_LIST_START_X+Math.floor(I/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+I%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT,15),this.cmd("Move",c,e.SET_ARRAY_START_X-e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_START_Y+this.edgesListLeft[I]*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Step");var D=this.disjointSetFind(this.edgesListLeft[I],c);this.cmd("SetText",o,"find("+String(this.edgesListLeft[I])+") = "+String(D)),this.cmd("SetText",d,"find("+String(this.edgesListRight[I])+") = "),this.cmd("CreateHighlightCircle",u,e.HIGHLIGHT_CIRCLE_COLOR_2,e.EDGE_LIST_START_X+e.EDGE_LIST_ELEM_WIDTH+Math.floor(I/e.EDGE_LIST_MAX_PER_COLUMN)*e.EDGE_LIST_COLUMN_WIDTH,e.EDGE_LIST_START_Y+I%e.EDGE_LIST_MAX_PER_COLUMN*e.EDGE_LIST_ELEM_HEIGHT,15),this.cmd("Move",u,e.SET_ARRAY_START_X-e.SET_ARRAY_ELEM_WIDTH,e.SET_ARRAY_START_Y+this.edgesListRight[I]*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Step");var b=this.disjointSetFind(this.edgesListRight[I],u);this.cmd("SetText",d,"find("+String(this.edgesListRight[I])+") = "+String(b)),this.cmd("Step"),D!==b?(this.cmd("CreateLabel",g,"Vertices in different trees.  Add edge to tree: Union("+String(D)+","+String(b)+")",e.MESSAGE_LABEL_X,e.MESSAGE_LABEL_Y,0),this.cmd("Step"),this.highlightEdge(this.edgesListLeft[I],this.edgesListRight[I],1),this.highlightEdge(this.edgesListRight[I],this.edgesListLeft[I],1),p++,this.setEdgeColor(this.edgesListLeft[I],this.edgesListRight[I],"#FF0000"),this.setEdgeColor(this.edgesListRight[I],this.edgesListLeft[I],"#FF0000"),this.setData[D]<this.setData[b]?(this.cmd("SetText",this.setID[b],""),this.cmd("CreateLabel",m,this.setData[b],e.SET_ARRAY_START_X,e.SET_ARRAY_START_Y+b*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Move",m,e.SET_ARRAY_START_X,e.SET_ARRAY_START_Y+D*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Step"),this.cmd("Delete",m),this.setData[D]=this.setData[D]+this.setData[b],this.setData[b]=D):(this.cmd("SetText",this.setID[D],""),this.cmd("CreateLabel",m,this.setData[D],e.SET_ARRAY_START_X,e.SET_ARRAY_START_Y+D*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Move",m,e.SET_ARRAY_START_X,e.SET_ARRAY_START_Y+b*e.SET_ARRAY_ELEM_HEIGHT),this.cmd("Step"),this.cmd("Delete",m),this.setData[b]=this.setData[b]+this.setData[D],this.setData[D]=b),this.cmd("SetText",this.setID[D],this.setData[D]),this.cmd("SetText",this.setID[b],this.setData[b])):(this.cmd("CreateLabel",g,"Vertices in the same tree.  Skip edge",e.MESSAGE_LABEL_X,e.MESSAGE_LABEL_Y,0),this.cmd("Step")),this.highlightEdge(this.edgesListLeft[I],this.edgesListRight[I],0),this.highlightEdge(this.edgesListRight[I],this.edgesListLeft[I],0),this.cmd("Delete",g),this.cmd("Delete",c),this.cmd("Delete",u),this.cmd("Delete",this.edgesListLeftID[I]),this.cmd("Delete",this.edgesListRightID[I]),this.cmd("SetText",o,""),this.cmd("SetText",d,""),I++}return this.cmd("Delete",o),this.cmd("Delete",d),this.commands}},{key:"reset",value:function(){this.messageID=[]}},{key:"enableUI",value:function(t){this.startButton.disabled=!1,Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this,t)}},{key:"disableUI",value:function(t){this.startButton.disabled=!0,Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this,t)}}]),e}(E);nt.HIGHLIGHT_CIRCLE_COLOR="#000000",nt.SET_ARRAY_ELEM_WIDTH=25,nt.SET_ARRAY_ELEM_HEIGHT=25,nt.SET_ARRAY_START_X=50,nt.SET_ARRAY_START_Y=130,nt.EDGE_LIST_ELEM_WIDTH=40,nt.EDGE_LIST_ELEM_HEIGHT=40,nt.EDGE_LIST_COLUMN_WIDTH=100,nt.EDGE_LIST_MAX_PER_COLUMN=10,nt.EDGE_LIST_START_X=150,nt.EDGE_LIST_START_Y=130,nt.FIND_LABEL_1_X=30,nt.FIND_LABEL_2_X=100,nt.FIND_LABEL_1_Y=30,nt.FIND_LABEL_2_Y=nt.FIND_LABEL_1_Y,nt.MESSAGE_LABEL_X=30,nt.MESSAGE_LABEL_Y=50,nt.HIGHLIGHT_CIRCLE_COLOR_1="#FFAAAA",nt.HIGHLIGHT_CIRCLE_COLOR_2="#FF0000";var lt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 9 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.infoLabelID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.arrayDisplay=[],this.bucketsData=[],this.bucketsID=[],this.bucketsDisplay=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,9);for(var e=this.arrayData.length,i=new Map,s=new Map,h=0;h<e;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.arrayDisplay[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,70)}this.bucketsData=[],this.bucketsID=[];for(var d=0;d<10;d++){this.bucketsData[d]=[],this.bucketsID[d]=[],this.bucketsDisplay[d]=[],this.bucketsID[d].push(this.nextIndex++);var c=50*d+100;this.cmd("CreateRectangle",this.bucketsID[d],d,50,20,c,140),this.cmd("SetBackgroundColor",this.bucketsID[d],"#D3D3D3")}this.cmd("CreateLabel",this.infoLabelID,"Searching for number with greatest magnitude",75,20,0),this.cmd("CreateHighlightCircle",this.iPointerID,"#FF0000",100,70),this.cmd("SetHighlight",this.iPointerID,1),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",150,70),this.cmd("SetHighlight",this.jPointerID,1),this.cmd("SetBackgroundColor",this.arrayID[0],"#FFFF00"),this.cmd("Step");for(var u=0,m=1;m<this.arrayData.length;m++)this.movePointers(u,m),this.arrayData[m]>this.arrayData[u]&&(this.cmd("SetBackgroundColor",this.arrayID[u],"#FFFFFF"),this.cmd("Step"),u=m,this.movePointers(u,m),this.cmd("SetBackgroundColor",this.arrayID[u],"#FFFF00"),this.cmd("Step"));this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Step");var g=Math.floor(Math.log10(this.arrayData[u]))+1;g=g||1;var p=this.arrayData[u];this.cmd("SetText",this.infoLabelID,p+" has greatest magnitude, number of digits is "+g),this.cmd("Step"),this.cmd("SetBackgroundColor",this.arrayID[u],"#FFFFFF");for(var I=0;I<g;I++){this.cmd("SetText",this.infoLabelID,"Getting digits at position "+(I+1)),this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",100,70),this.cmd("SetHighlight",this.iPointerID,1);for(var D=0;D<this.arrayData.length;D++){this.cmd("Move",this.iPointerID,100+50*D,70),this.cmd("Step");var b=this.nextIndex++,f=this.arrayData[D],v=this.arrayDisplay[D],x=this.nthDigit(f,I);this.bucketsID[x].push(b),this.bucketsData[x].push(f),this.bucketsDisplay[x].push(v);var y=this.bucketsData[x].length;this.cmd("CreateRectangle",b,v,50,20,100+50*x,140+20*y+15*y),this.cmd("Connect",this.bucketsID[x][this.bucketsID[x].length-2],b,0,0,1,"",2),this.cmd("Step")}this.cmd("Delete",this.iPointerID),this.cmd("Step");for(var S=0,k=0;k<10;k++)for(var C=this.bucketsID[k],L=this.bucketsData[k],T=this.bucketsDisplay[k];L.length;){var _=this.nextIndex++,E=C.splice(1,1)[0],F=L.shift(),A=T.shift();if(this.cmd("CreateLabel",_,A,100+50*k,175),this.cmd("Move",_,100+50*S,70),this.cmd("Step"),this.cmd("SetText",this.arrayID[S],A),this.cmd("Delete",_),this.cmd("Step"),this.cmd("Delete",E),L.length){this.cmd("Connect",C[0],C[1]);for(var O=1;O<C.length;O++)this.cmd("Move",C[O],100+50*k,140+20*O+15*O);this.cmd("Step")}this.arrayData[S]=F,this.arrayDisplay[S]=A,S++}}return this.cmd("Delete",this.infoLabelID),this.commands}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,70);var s=50*e+100;this.cmd("Move",this.jPointerID,s,70),this.cmd("Step")}},{key:"swap",value:function(t,e){var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,70);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,70),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,70),this.cmd("Move",h,s,70),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n}},{key:"nthDigit",value:function(t,e){return t=Math.floor(t/Math.pow(10,e)),t%=10}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),rt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Value"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addValueField),d("at index"),this.addIndexField=m("Text",""),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addIndexField),this.addIndexButton=m("Button","Add at Index"),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),d("or"),this.addFrontButton=m("Button","Add to Front"),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=m("Button","Add to Back"),this.addBackButton.onclick=this.addBackCallback.bind(this),this.controls.push(this.addBackButton),this.removeField=m("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeIndexCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeIndexButton=m("Button","Remove from Index"),this.removeIndexButton.onclick=this.removeIndexCallback.bind(this),this.controls.push(this.removeIndexButton),d("or"),this.removeFrontButton=m("Button","Remove from Front"),this.removeFrontButton.onclick=this.removeFrontCallback.bind(this),this.controls.push(this.removeFrontButton),this.removeBackButton=m("Button","Remove from Back"),this.removeBackButton.onclick=this.removeBackCallback.bind(this),this.controls.push(this.removeBackButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32),this.arrayData=new Array(32),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value){var t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t+","+e))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+",0")}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+","+this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"add",value:function(t){this.commands=[];for(var e=parseInt(t.split(",")[0]),i=parseInt(t.split(",")[1]),s=this.nextIndex++,h=this.nextIndex++,a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a],this.linkedListElemID[a+1]=this.linkedListElemID[a];return this.arrayData[i]=e,this.linkedListElemID[i]=this.nextIndex++,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLinkedList",this.linkedListElemID[i],"",70,30,200,50,.25,0,1,1),this.cmd("CreateLabel",s,"Adding Value: ",50,30),this.cmd("CreateLabel",h,e,120,30),this.cmd("Step"),this.cmd("Move",h,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[i],e),this.cmd("Delete",h),i===this.size&&this.cmd("SetNull",this.linkedListElemID[i],1),0!==this.size&&(0===i?this.cmd("Connect",this.linkedListElemID[i],this.linkedListElemID[i+1]):i===this.size?(this.cmd("SetNull",this.linkedListElemID[i-1],0),this.cmd("Connect",this.linkedListElemID[i-1],this.linkedListElemID[i])):(this.cmd("Disconnect",this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd("Connect",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("Connect",this.linkedListElemID[i],this.linkedListElemID[i+1]))),this.cmd("Step"),this.size=this.size+1,this.resetNodePositions(),this.cmd("Delete",s),this.cmd("Step"),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var e=this.nextIndex++,i=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,"");var s=100+100*t;if(this.cmd("CreateLabel",e,"Removing Value: ",50,30),this.cmd("CreateLabel",i,this.arrayData[t],s,200),this.cmd("Move",i,120,30),this.cmd("Step"),1!==this.size)if(0===t);else if(t===this.size-1)this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("SetNull",this.linkedListElemID[t-1],1);else{var h=t%8*100+100;this.cmd("Move",this.linkedListElemID[t],h,140),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("Connect",this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd("Step"),this.cmd("Delete",this.linkedListElemID[t]);for(var a=t;a<this.size;a++)this.arrayData[a]=this.arrayData[a+1],this.linkedListElemID[a]=this.linkedListElemID[a+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd("Delete",i),this.cmd("Delete",e),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var e=t%8*100+100,i=100*Math.floor(t/8)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.size=0,this.commands}}]),e}(p),ot=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 12 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.kPointerID=0}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.displayData=[],this.arrayID=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,12),this.displayData=new Array(this.arrayData.length);for(var e=new Map,i=new Map,s=0;s<this.arrayData.length;s++){var h=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;h>0&&i.set(this.arrayData[s],"A"),e.set(this.arrayData[s],h+1)}for(var a=0;a<this.arrayData.length;a++){this.arrayData[a]=parseInt(this.arrayData[a]);var n=50*a+120;this.arrayID.push(this.nextIndex);var l=this.arrayData[a].toString();if(i.has(this.arrayData[a])){var r=i.get(this.arrayData[a]);l+=r,i.set(this.arrayData[a],String.fromCharCode(r.charCodeAt(0)+1))}this.displayData[a]=l,this.cmd("CreateRectangle",this.nextIndex++,l,50,50,n,50)}if(this.cmd("Step"),1!==this.arrayData.length){var o=Math.ceil((this.arrayData.length-1)/2);this.leftHelper(0,o-1,-15,0,1),this.rightHelper(o,this.arrayData.length-1,15,0,1),this.merge(0,this.arrayData.length-1,o,0,0,-15,15,this.arrayID)}else this.cmd("SetBackgroundColor",this.arrayID[0],"#2ECC71"),this.cmd("Step");return this.commands}},{key:"leftHelper",value:function(t,e,i,s,h){if(!(t>e)){var a=this.drawArrayAndCopy(t,e,i,s,h);if(t!==e){var n=Math.ceil((t+e)/2),l=h<2?30:14;this.leftHelper(t,n-1,i-l,i,h+1),this.leftHelper(n,e,i,i,h+1),this.merge(t,e,n,h,i,i-l,i,a)}else this.cmd("SetBackgroundColor",a[t],"#2ECC71"),this.cmd("Step")}}},{key:"rightHelper",value:function(t,e,i,s,h){if(!(t>e)){var a=this.drawArrayAndCopy(t,e,i,s,h);if(t!==e){var n=Math.ceil((t+e)/2),l=h<2?30:14;this.rightHelper(t,n-1,i,i,h+1),this.rightHelper(n,e,i+l,i,h+1),this.merge(t,e,n,h,i,i,i+l,a)}else this.cmd("SetBackgroundColor",a[t],"#2ECC71"),this.cmd("Step")}}},{key:"drawArrayAndCopy",value:function(t,e,i,s,h){for(var a=[],n=t;n<=e;n++){var l=50*n+120+i,r=50+80*h;a[n]=this.nextIndex,this.arrayID.push(this.nextIndex),this.cmd("CreateRectangle",this.nextIndex++,"",50,50,l,r)}this.cmd("Step");for(var o=t;o<=e;o++)this.copyData(o,o,s,i,h-1,h,this.displayData[o],a[o],-1);return a}},{key:"merge",value:function(t,e,i,s,h,a,n,l){for(var r=new Array(this.arrayData.length),o=new Array(this.arrayData.length),d=t;d<=e;d++)r[d]=this.arrayData[d],o[d]=this.displayData[d];var c=50+80*(s+1),u=this.nextIndex++,m=50*t+120+a;this.cmd("CreateHighlightCircle",u,"#0000FF",m,c);var g=this.nextIndex++,p=50*i+120+n;this.cmd("CreateHighlightCircle",g,"#0000FF",p,c);var I=this.nextIndex++,D=50*t+120+h,b=50+80*s;this.cmd("CreateHighlightCircle",I,"#0000FF",D,b),this.cmd("Step");for(var f=t,v=i,x=t;f<i&&v<=e;)r[f]<=r[v]?(this.copyData(f,x,a,h,s+1,s,o[f],l[x],u),this.arrayData[x]=r[f],this.displayData[x]=o[f],x++,this.movePointer(x,s,h,I),++f<i&&this.movePointer(f,s+1,a,u)):(this.copyData(v,x,n,h,s+1,s,o[v],l[x],g),this.arrayData[x]=r[v],this.displayData[x]=o[f],x++,this.movePointer(x,s,h,I),++v<=e&&this.movePointer(v,s+1,n,g)),this.cmd("Step");for(;f<i;)this.copyData(f,x,a,h,s+1,s,o[f],l[x],u),this.arrayData[x]=r[f],this.displayData[x]=o[f],f++,++x<=e&&(this.movePointer(f,s+1,a,u),this.movePointer(x,s,h,I));for(;v<=e;)this.copyData(v,x,n,h,s+1,s,o[v],l[x],g),this.arrayData[x]=r[v],this.displayData[x]=o[v],v++,++x<=e&&(this.movePointer(v,s+1,n,g),this.movePointer(x,s,h,I));this.cmd("Delete",u),this.cmd("Delete",g),this.cmd("Delete",I),this.cmd("Step")}},{key:"copyData",value:function(t,e,i,s,h,a,n,l,r){-1!==r&&(this.cmd("SetForegroundColor",r,"#FF0000"),this.cmd("Step"));var o=50*t+120+i,d=50+80*h,c=this.nextIndex++;this.cmd("CreateLabel",c,n,o,d);var u=50*e+120+s,m=50+80*a;this.cmd("Move",c,u,m),this.cmd("Step"),this.cmd("SetText",l,n),this.cmd("Delete",c),-1!==r&&(this.cmd("SetBackgroundColor",l,"#2ECC71"),this.cmd("SetForegroundColor",r,"#0000FF"),this.cmd("Step"))}},{key:"movePointer",value:function(t,e,i,s){var h=50*t+120+i,a=50+80*e;this.cmd("Move",s,h,a)}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),dt=70,ct=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).nextIndex=0,h.POINTER_ARRAY_ELEM_Y=s-dt,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){Object(v.a)(Object(r.a)(e.prototype),"addControls",this).call(this)}},{key:"insertElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Inserting element: "+String(t));var e=this.doHash(t),i=new ut(t,this.nextIndex++,100,75);this.cmd("CreateLinkedList",i.graphicID,t,65,30,100,75);var s=!1;if(null!=this.hashTableValues[e]){this.cmd("SetText",this.ExplainLabel,"Searching for duplicates of "+t);var h=this.nextIndex++,a=this.hashTableValues[e];for(this.cmd("CreateLabel",h,"",10,40,0);null!=a&&!s;)this.cmd("SetHighlight",a.graphicID,1),a.data===t?(this.cmd("SetText",h,a.data+"=="+t),s=!0):this.cmd("SetText",h,a.data+"!="+t),this.cmd("Step"),this.cmd("SetHighlight",a.graphicID,0),a=a.next;this.cmd("Delete",h),this.nextIndex--}else this.cmd("SetNull",i.graphicID,1),this.cmd("SetNull",this.hashTableVisual[e],0);return s?(this.cmd("SetText",this.ExplainLabel,"Duplicate of  "+t+"  found!"),this.cmd("Delete",i.graphicID),this.cmd("Step")):(this.cmd("SetText",this.ExplainLabel,"Duplicate of  "+t+"  not found!"),this.cmd("Step"),null!=this.hashTableValues[e]&&(this.cmd("connect",i.graphicID,this.hashTableValues[e].graphicID),this.cmd("disconnect",this.hashTableVisual[e],this.hashTableValues[e].graphicID)),this.cmd("connect",this.hashTableVisual[e],i.graphicID),i.next=this.hashTableValues[e],this.hashTableValues[e]=i,this.repositionList(e)),this.cmd("SetText",this.ExplainLabel,""),this.commands}},{key:"repositionList",value:function(t){for(var e=50+t*dt,i=this.POINTER_ARRAY_ELEM_Y-50,s=this.hashTableValues[t];null!=s;)s.x=e,s.y=i,this.cmd("Move",s.graphicID,s.x,s.y),i-=50,s=s.next}},{key:"deleteElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t);var e=this.doHash(t);if(null==this.hashTableValues[e])return this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t+"  Element not in table"),this.commands;if(this.cmd("SetHighlight",this.hashTableValues[e].graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",this.hashTableValues[e].graphicID,0),this.hashTableValues[e].data===t)return null!=this.hashTableValues[e].next?this.cmd("Connect",this.hashTableVisual[e],this.hashTableValues[e].next.graphicID):this.cmd("SetNull",this.hashTableVisual[e],1),this.cmd("Delete",this.hashTableValues[e].graphicID),this.hashTableValues[e]=this.hashTableValues[e].next,this.repositionList(e),this.commands;for(var i=this.hashTableValues[e],s=this.hashTableValues[e].next,h=!1;null!=s&&!h;)this.cmd("SetHighlight",s.graphicID,1),this.cmd("Step"),this.cmd("SetHighlight",s.graphicID,0),s.data===t?(h=!0,this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t+"  Element deleted"),null!=s.next?this.cmd("Connect",i.graphicID,s.next.graphicID):this.cmd("SetNull",i.graphicID,1),i.next=i.next.next,this.cmd("Delete",s.graphicID),this.repositionList(e)):(i=s,s=s.next);return h||this.cmd("SetText",this.ExplainLabel,"Deleting element: "+t+"  Element not in table"),this.commands}},{key:"findElement",value:function(t){this.commands=[],this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t);var e=this.doHash(t),i=this.nextIndex++,s=!1,h=this.hashTableValues[e];for(this.cmd("CreateLabel",i,"",10,40,0);null!=h&&!s;)this.cmd("SetHighlight",h.graphicID,1),h.data===t?(this.cmd("SetText",i,h.data+"=="+t),s=!0):this.cmd("SetText",i,h.data+"!="+t),this.cmd("Step"),this.cmd("SetHighlight",h.graphicID,0),h=h.next;return s?this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t+"  Found!"):this.cmd("SetText",this.ExplainLabel,"Finding Element: "+t+"  Not Found!"),this.cmd("Delete",i),this.nextIndex--,this.commands}},{key:"setup",value:function(){this.hashTableVisual=new Array(13),this.hashTableIndices=new Array(13),this.hashTableValues=new Array(13),this.indexXPos=new Array(13),this.indexYPos=new Array(13),this.ExplainLabel=this.nextIndex++,this.table_size=13,this.commands=[];for(var t=0;t<13;t++){var e=this.nextIndex++;this.cmd("CreateRectangle",e,"",dt,30,50+t*dt,this.POINTER_ARRAY_ELEM_Y),this.hashTableVisual[t]=e,this.cmd("SetNull",this.hashTableVisual[t],1),e=this.nextIndex++,this.hashTableIndices[t]=e,this.indexXPos[t]=50+t*dt,this.indexYPos[t]=this.POINTER_ARRAY_ELEM_Y+30,this.hashTableValues[t]=null,this.cmd("CreateLabel",e,t,this.indexXPos[t],this.indexYPos[t]),this.cmd("SetForegroundColor",e,"#0000FF")}this.cmd("CreateLabel",this.ExplainLabel,"",10,25,0),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory(),this.resetIndex=this.nextIndex}},{key:"resetAll",value:function(){var t;this.commands=Object(v.a)(Object(r.a)(e.prototype),"resetAll",this).call(this);for(var i=0;i<this.hashTableValues.length;i++)if(null!=(t=this.hashTableValues[i])){for(;null!=t;)this.cmd("Delete",t.graphicID),t=t.next;this.hashTableValues[i]=null,this.cmd("SetNull",this.hashTableVisual[i],1)}return this.commands}},{key:"reset",value:function(){for(var t=0;t<this.table_size;t++)this.hashTableValues[t]=null;this.nextIndex=this.resetIndex,Object(v.a)(Object(r.a)(e.prototype),"reset",this).call(this)}},{key:"resetCallback",value:function(){}},{key:"disableUI",value:function(){Object(v.a)(Object(r.a)(e.prototype),"disableUI",this).call(this)}},{key:"enableUI",value:function(){Object(v.a)(Object(r.a)(e.prototype),"enableUI",this).call(this)}}]),e}(V),ut=function t(e,i,s,h){Object(a.a)(this,t),this.data=e,this.graphicID=i,this.x=s,this.y=h,this.next=null},mt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.enqueueField=m("Text",""),this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),6),this.enqueueButton=m("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),this.dequeueButton=m("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),this.clearButton=m("Button","Clear Queue"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(15),this.arrayLabelID=new Array(15);for(var t=0;t<15;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.headID=this.nextIndex++;var e=this.nextIndex++;this.tailID=this.nextIndex++;var i=this.nextIndex++;this.arrayData=new Array(15),this.head=0,this.tail=0,this.leftoverLabelID=this.nextIndex++;for(var s=0;s<15;s++){var h=s%15*50+100,a=130*Math.floor(s/15)+200;this.cmd("CreateRectangle",this.arrayID[s],"",50,50,h,a),this.cmd("CreateLabel",this.arrayLabelID[s],s,h,a+50),this.cmd("SetForegroundColor",this.arrayLabelID[s],"#0000FF")}this.cmd("CreateLabel",e,"Head",130,100),this.cmd("CreateRectangle",this.headID,0,50,50,180,100),this.cmd("CreateLabel",i,"Tail",230,100),this.cmd("CreateRectangle",this.tailID,0,50,50,280,100),this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.initialIndex=this.nextIndex,this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"enqueueCallback",value:function(){if((this.tail+1)%15!==this.head&&""!==this.enqueueField.value){var t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}}},{key:"dequeueCallback",value:function(){this.tail!==this.head&&this.implementAction(this.dequeue.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"enqueue",value:function(t){this.commands=[];var e=this.nextIndex++,i=this.nextIndex++;this.arrayData[this.tail]=t,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",e,"Enqueuing Value: ",50,30),this.cmd("CreateLabel",i,t,120,30),this.cmd("Step"),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",280,100),this.cmd("Step");var s=this.tail%15*50+100,h=130*Math.floor(this.tail/15)+200;return this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Step"),this.cmd("Move",i,s,h),this.cmd("Step"),this.cmd("Settext",this.arrayID[this.tail],t),this.cmd("Delete",i),this.cmd("Delete",this.highlight1ID),this.cmd("SetHighlight",this.tailID,1),this.cmd("Step"),this.tail=(this.tail+1)%15,this.cmd("SetText",this.tailID,this.tail),this.cmd("Step"),this.cmd("SetHighlight",this.tailID,0),this.cmd("Delete",e),this.commands}},{key:"dequeue",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"Dequeued Value: ",50,30),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("Step");var i=this.head%15*50+100,s=130*Math.floor(this.head/15)+200;this.cmd("Move",this.highlight1ID,i,s+50),this.cmd("Step"),this.cmd("Delete",this.highlight1ID);var h=this.arrayData[this.head];return this.cmd("CreateLabel",e,h,i,s),this.cmd("Settext",this.arrayID[this.head],""),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("SetHighlight",this.headID,1),this.cmd("Step"),this.head=(this.head+1)%15,this.cmd("SetText",this.headID,this.head),this.cmd("Step"),this.cmd("SetHighlight",this.headID,0),this.cmd("SetText",this.leftoverLabelID,"Dequeued Value: "+h),this.cmd("Delete",t),this.cmd("Delete",e),this.commands}},{key:"clearAll",value:function(){this.commands=[],this.cmd("SetText",this.leftoverLabelID,"");for(var t=0;t<15;t++)this.cmd("SetText",this.arrayID[t],"");return this.head=0,this.tail=0,this.cmd("SetText",this.headID,"0"),this.cmd("SetText",this.tailID,"0"),this.commands}}]),e}(p),gt=30,pt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.commands=[],h.tail_pos_y=s-gt,h.tail_label_y=h.tail_pos_y,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.enqueueField=m("Text",""),this.enqueueField.onkeydown=this.returnSubmit(this.enqueueField,this.enqueueCallback.bind(this),6),this.enqueueButton=m("Button","Enqueue"),this.enqueueButton.onclick=this.enqueueCallback.bind(this),this.controls.push(this.enqueueField),this.controls.push(this.enqueueButton),this.dequeueButton=m("Button","Dequeue"),this.dequeueButton.onclick=this.dequeueCallback.bind(this),this.controls.push(this.dequeueButton),this.clearButton=m("Button","Clear Queue"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32);for(var t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.headID=this.nextIndex++,this.headLabelID=this.nextIndex++,this.tailID=this.nextIndex++,this.tailLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.headLabelID,"Head",130,100),this.cmd("CreateRectangle",this.headID,"",30,30,180,100),this.cmd("SetNull",this.headID,1),this.cmd("CreateLabel",this.tailLabelID,"Tail",130,this.tail_label_y),this.cmd("CreateRectangle",this.tailID,"",30,30,180,this.tail_pos_y),this.cmd("SetNull",this.tailID,1),this.cmd("CreateLabel",this.leftoverLabelID,"",5,30,0),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"resetLinkedListPositions",value:function(){for(var t=this.top-1;t>=0;t--){var e=(this.top-1-t)%8*100+100,i=100*Math.floor((this.top-1-t)/8)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"enqueueCallback",value:function(){if(this.top<32&&""!==this.enqueueField.value){var t=this.enqueueField.value;this.enqueueField.value="",this.implementAction(this.enqueue.bind(this),t)}}},{key:"dequeueCallback",value:function(){this.top>0&&this.implementAction(this.dequeue.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"enqueue",value:function(t){this.commands=[],this.arrayData[this.top]=t,this.cmd("SetText",this.leftoverLabelID,"");for(var e=this.top;e>0;e--)this.arrayData[e]=this.arrayData[e-1],this.linkedListElemID[e]=this.linkedListElemID[e-1];this.arrayData[0]=t,this.linkedListElemID[0]=this.nextIndex++;var i=this.nextIndex++,s=this.nextIndex++;return this.cmd("CreateLinkedList",this.linkedListElemID[0],"",70,gt,250,50,.25,0,1,1),this.cmd("SetNull",this.linkedListElemID[0],1),this.cmd("CreateLabel",i,"Enqueuing Value: ",50,30),this.cmd("CreateLabel",s,t,120,30),this.cmd("Step"),this.cmd("Move",s,250,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[0],t),this.cmd("Delete",s),0===this.top?(this.cmd("SetNull",this.headID,0),this.cmd("SetNull",this.tailID,0),this.cmd("connect",this.headID,this.linkedListElemID[this.top]),this.cmd("connect",this.tailID,this.linkedListElemID[this.top])):(this.cmd("SetNull",this.linkedListElemID[1],0),this.cmd("Connect",this.linkedListElemID[1],this.linkedListElemID[0]),this.cmd("Step"),this.cmd("Disconnect",this.tailID,this.linkedListElemID[1])),this.cmd("Connect",this.tailID,this.linkedListElemID[0]),this.cmd("Step"),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd("Delete",i),this.cmd("Step"),this.commands}},{key:"dequeue",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++;return this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"Dequeued Value: ",50,30),this.cmd("CreateLabel",e,this.arrayData[this.top-1],100,200),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("Disconnect",this.headID,this.linkedListElemID[this.top-1]),1===this.top?(this.cmd("SetNull",this.headID,1),this.cmd("SetNull",this.tailID,1),this.cmd("Disconnect",this.tailID,this.linkedListElemID[this.top-1])):this.cmd("Connect",this.headID,this.linkedListElemID[this.top-2]),this.cmd("Step"),this.cmd("Delete",this.linkedListElemID[this.top-1]),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd("Delete",e),this.cmd("Delete",t),this.cmd("SetText",this.leftoverLabelID,"Dequeued Value: "+this.arrayData[this.top]),this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.top=0,this.cmd("SetNull",this.headID,1),this.commands}}]),e}(p),It=!1,Dt=!1,bt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.runCallback.bind(this),60,!1),this.controls.push(this.listField),d("k\u1d57\u02b0 element (1 indexed)"),this.kField=m("Text",""),this.kField.onkeydown=this.returnSubmit(this.kField,this.runCallback.bind(this),2,!0),this.controls.push(this.kField),this.findButton=m("Button","Run"),this.findButton.onclick=this.runCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),this.togglesGroup=g(),this.worstPivotToggle=c("Pick min element as pivot",!1,this.togglesGroup),this.worstPivotToggle.onclick=this.toggleWorstPivot.bind(this),this.controls.push(this.worstPivotToggle),this.firstPivotToggle=c("Pick first element as pivot",!1,this.togglesGroup),this.firstPivotToggle.onclick=this.toggleFirstPivot.bind(this),this.controls.push(this.firstPivotToggle)}},{key:"setup",value:function(){this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0}},{key:"reset",value:function(){this.nextIndex=0}},{key:"runCallback",value:function(){if(""!==this.listField.value&&""!==this.kField.value){var t=this.listField.value,e=t.split(",").map(Number).filter((function(t){return t})).slice(0,18),i=this.kField.value;i>0&&i<=e.length&&(this.implementAction(this.clear.bind(this),""),this.listField.value="",this.kField.value="",this.implementAction(this.run.bind(this),t+"-"+i))}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.commands}},{key:"run",value:function(t){this.commands=[];var e=t.split("-")[0];this.k=Number(t.split("-")[1]),this.arrayID=[],this.arrayData=e.split(",").map(Number).filter((function(t){return t})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var i=new Map,s=new Map,h=0;h<this.arrayData.length;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<this.arrayData.length;n++){this.arrayData[n]=parseInt(this.arrayData[n]),this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,200)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}},{key:"helper",value:function(t,e){if(!(t>e)){for(var i=t;i<=e;i++)this.cmd("SetBackgroundColor",this.arrayID[i],"#99CCFF");if(this.cmd("Step"),t===e)return this.cmd("SetBackgroundColor",this.arrayID[t],"#2ECC71"),void this.cmd("Step");var s;if(It){for(var h=t,a=t+1;a<=e;a++)this.arrayData[a]<this.arrayData[h]&&(h=a);s=h}else s=Dt?t:Math.floor(Math.random()*(e-t))+t+1;var n=50*s+100;this.cmd("CreateHighlightCircle",this.pPointerID,"#FFFF00",n,200),this.cmd("Step"),this.swapPivot(s,t);var l=t+1,r=e,o=50*l+100,d=50*r+100;for(this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",o,200),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",d,200),this.cmd("Step");l<=r;){for(;l<=r&&this.arrayData[t]>=this.arrayData[l];)l++,this.movePointers(l,r);for(l<=r&&(this.cmd("SetForegroundColor",this.iPointerID,"#FF0000"),this.cmd("Step"));l<=r&&this.arrayData[t]<=this.arrayData[r];)r--,this.movePointers(l,r);l<=r&&(this.cmd("SetForegroundColor",this.jPointerID,"#FF0000"),this.cmd("Step")),l<=r&&(this.swap(l,r),l++,r--,this.movePointers(l,r))}this.swapPivot(t,r,!0),this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Delete",this.pPointerID),this.cmd("Step");for(var c=t;c<=e;c++)this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFFFF");this.k-1===r?(this.cmd("SetBackgroundColor",this.arrayID[r],"#2ECC71"),this.cmd("Step")):(this.cmd("SetBackgroundColor",this.arrayID[r],"#4DA6ff"),this.cmd("Step"),this.k-1<r?this.helper(t,r-1):this.helper(r+1,e))}}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swapPivot",value:function(t,e,i){if(t!==e){var s=this.nextIndex++,h=50*e+100;this.cmd("CreateLabel",s,this.displayData[e],h,200);var a=this.nextIndex++,n=50*t+100;this.cmd("CreateLabel",a,this.displayData[t],n,200),this.cmd("Settext",this.arrayID[e],""),this.cmd("Settext",this.arrayID[t],""),this.cmd("Move",a,h,200),this.cmd("Move",this.pPointerID,h,200),this.cmd("Move",s,n,200),i&&this.cmd("Move",this.jPointerID,n,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Delete",a),this.cmd("Delete",s);var l=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=l,l=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=l}}},{key:"swap",value:function(t,e){var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd("SetForegroundColor",this.iPointerID,"#0000FF"),this.cmd("SetForegroundColor",this.jPointerID,"#0000FF"),this.cmd("Step")}},{key:"toggleWorstPivot",value:function(){It=!It,this.firstPivotToggle.disabled=It}},{key:"toggleFirstPivot",value:function(){Dt=!Dt,this.worstPivotToggle.disabled=Dt}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),ft=!1,vt=!1,xt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton),this.togglesGroup=g(),this.worstPivotToggle=c("Pick min element as pivot",!1,this.togglesGroup),this.worstPivotToggle.onclick=this.toggleWorstPivot.bind(this),this.controls.push(this.worstPivotToggle),this.firstPivotToggle=c("Pick first element as pivot",!1,this.togglesGroup),this.firstPivotToggle.onclick=this.toggleFirstPivot.bind(this),this.controls.push(this.firstPivotToggle)}},{key:"setup",value:function(){this.arrayData=[],this.displayData=[],this.arrayID=[],this.iPointerID=0,this.jPointerID=0,this.pPointerID=0}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,18),this.displayData=new Array(this.arrayData.length);for(var e=new Map,i=new Map,s=0;s<this.arrayData.length;s++){var h=e.has(this.arrayData[s])?e.get(this.arrayData[s]):0;h>0&&i.set(this.arrayData[s],"A"),e.set(this.arrayData[s],h+1)}for(var a=0;a<this.arrayData.length;a++){this.arrayData[a]=parseInt(this.arrayData[a]),this.arrayID[a]=this.nextIndex++;var n=50*a+100,l=this.arrayData[a].toString();if(i.has(this.arrayData[a])){var r=i.get(this.arrayData[a]);l+=r,i.set(this.arrayData[a],String.fromCharCode(r.charCodeAt(0)+1))}this.displayData[a]=l,this.cmd("CreateRectangle",this.arrayID[a],l,50,50,n,200)}return this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++,this.pPointerID=this.nextIndex++,this.helper(0,this.arrayData.length-1),this.commands}},{key:"helper",value:function(t,e){if(!(t>e)){for(var i=t;i<=e;i++)this.cmd("SetBackgroundColor",this.arrayID[i],"#99CCFF");if(this.cmd("Step"),t===e)return this.cmd("SetBackgroundColor",this.arrayID[t],"#2ECC71"),void this.cmd("Step");var s;if(ft){for(var h=t,a=t+1;a<=e;a++)this.arrayData[a]<this.arrayData[h]&&(h=a);s=h}else s=vt?t:Math.floor(Math.random()*(e-t))+t+1;var n=50*s+100;this.cmd("CreateHighlightCircle",this.pPointerID,"#FFFF00",n,200),this.cmd("Step"),this.swapPivot(s,t);var l=t+1,r=e,o=50*l+100,d=50*r+100;for(this.cmd("CreateHighlightCircle",this.iPointerID,"#0000FF",o,200),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",d,200),this.cmd("Step");l<=r;){for(;l<=r&&this.arrayData[t]>=this.arrayData[l];)l++,this.movePointers(l,r);for(l<=r&&(this.cmd("SetForegroundColor",this.iPointerID,"#FF0000"),this.cmd("Step"));l<=r&&this.arrayData[t]<=this.arrayData[r];)r--,this.movePointers(l,r);l<=r&&(this.cmd("SetForegroundColor",this.jPointerID,"#FF0000"),this.cmd("Step")),l<=r&&(this.swap(l,r),l++,r--,this.movePointers(l,r))}this.swapPivot(t,r,!0),this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Delete",this.pPointerID),this.cmd("Step");for(var c=t;c<=e;c++)this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFFFF");this.cmd("SetBackgroundColor",this.arrayID[r],"#2ECC71"),this.cmd("Step"),this.helper(t,r-1),this.helper(r+1,e)}}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swapPivot",value:function(t,e,i){if(t!==e){var s=this.nextIndex++,h=50*e+100;this.cmd("CreateLabel",s,this.displayData[e],h,200);var a=this.nextIndex++,n=50*t+100;this.cmd("CreateLabel",a,this.displayData[t],n,200),this.cmd("Settext",this.arrayID[e],""),this.cmd("Settext",this.arrayID[t],""),this.cmd("Move",a,h,200),this.cmd("Move",this.pPointerID,h,200),this.cmd("Move",s,n,200),i&&this.cmd("Move",this.jPointerID,n,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Delete",a),this.cmd("Delete",s);var l=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=l,l=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=l}}},{key:"swap",value:function(t,e){var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n,this.cmd("SetForegroundColor",this.iPointerID,"#0000FF"),this.cmd("SetForegroundColor",this.jPointerID,"#0000FF"),this.cmd("Step")}},{key:"toggleWorstPivot",value:function(){ft=!ft,this.firstPivotToggle.disabled=ft}},{key:"toggleFirstPivot",value:function(){vt=!vt,this.worstPivotToggle.disabled=vt}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),yt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Text"),this.textField=m("Text",""),this.textField.onkeydown=this.returnSubmit(this.textField,this.findCallback.bind(this),22,!1),this.controls.push(this.textField),d("Pattern"),this.patternField=m("Text",""),this.patternField.onkeydown=this.returnSubmit(this.patternField,this.findCallback.bind(this),22,!1),this.controls.push(this.patternField),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.textRowID=[],this.comparisonMatrixID=[],this.baseLabelID=this.nextIndex++,this.characterValuesLabelID=this.nextIndex++,this.textHashLabelID=this.nextIndex++,this.textHashCalculationID=this.nextIndex++,this.patternHashLabelID=this.nextIndex++,this.patternHashCalculationID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"findCallback",value:function(){if(""!==this.textField.value&&""!==this.patternField.value&&this.textField.value.length>=this.patternField.value.length){this.implementAction(this.clear.bind(this),"");var t=this.textField.value,e=this.patternField.value;this.textField.value="",this.patternField.value="",this.implementAction(this.find.bind(this),t+","+e)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"find",value:function(t){this.commands=[];var e,i,s=t.split(",")[0].replace(/[^a-zA-Z]/g,"").toLowerCase(),h=t.split(",")[1].replace(/[^a-zA-Z]/g,"").toLowerCase();s.length<=14?this.cellSize=30:s.length<=17?this.cellSize=25:this.cellSize=20,this.textRowID=new Array(s.length),this.comparisonMatrixID=new Array(s.length);for(var a=0;a<s.length;a++)this.comparisonMatrixID[a]=new Array(s.length);for(var n=0;n<s.length;n++)e=n*this.cellSize+100,i=30,this.textRowID[n]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex,s.charAt(n),this.cellSize,this.cellSize,e,i),this.cmd("SetBackgroundColor",this.nextIndex++,"#D3D3D3");for(var l=0;l<s.length;l++)for(var r=0;r<s.length;r++)e=r*this.cellSize+100,i=(l+1)*this.cellSize+30,this.comparisonMatrixID[l][r]=this.nextIndex,this.cmd("CreateRectangle",this.nextIndex++,"",this.cellSize,this.cellSize,e,i);var o=100+s.length*this.cellSize+10;this.cmd("CreateLabel",this.baseLabelID,"Base constant = 1",o,45,0),this.cmd("CreateLabel",this.characterValuesLabelID,"Character values: a = 0, b = 1, ..., z = 25",o,60,0),this.cmd("CreateLabel",this.textHashLabelID,"Text hash:",o,100,0),this.cmd("CreateLabel",this.patternHashLabelID,"Pattern hash:",o,115,0);for(var d="",c=0,u="",m=0,g=0;g<h.length;g++)c+=s.charCodeAt(g)-97,d+=s.charAt(g)+" + ",m+=h.charCodeAt(g)-97,u+=h.charAt(g)+" + ";d=d.substring(0,d.length-2)+" = "+c,u=u.substring(0,u.length-2)+" = "+m;var p=100+s.length*this.cellSize+80;this.cmd("CreateLabel",this.textHashCalculationID,d,p,100,0),this.cmd("CreateLabel",this.patternHashCalculationID,u,p,115,0);for(var I=this.nextIndex++,D=this.nextIndex++,b=0,f=0;f<=s.length-h.length;f++){for(var v=f;v<f+h.length;v++)this.cmd("SetText",this.comparisonMatrixID[b][v],h.charAt(v-f),e,i);if(this.cmd("Step"),m===c){e=f*this.cellSize+100,this.cmd("CreateHighlightCircle",I,"#0000FF",e,30),i=(b+1)*this.cellSize+30,this.cmd("CreateHighlightCircle",D,"#0000FF",e,i),this.cmd("Step");for(var x=0;x<h.length&&h.charAt(x)===s.charAt(f+x);)this.cmd("SetBackgroundColor",this.comparisonMatrixID[b][f+x],"#2ECC71"),++x!==h.length&&(e=(f+x)*this.cellSize+100,this.cmd("Move",I,e,30),i=(b+1)*this.cellSize+30,this.cmd("Move",D,e,i),this.cmd("Step"));x!==h.length&&this.cmd("SetBackgroundColor",this.comparisonMatrixID[b][f+x],"#E74C3C"),this.cmd("Delete",I),this.cmd("Delete",D),this.cmd("Step")}else{for(var y=f;y<f+h.length;y++)this.cmd("SetBackgroundColor",this.comparisonMatrixID[b][y],"#FFFF4D");this.cmd("Step")}if(f<s.length-h.length){c=c-(s.charCodeAt(f)-97)+(s.charCodeAt(f+h.length)-97),d="";for(var S=0;S<h.length;S++)d+=s.charAt(S+f+1)+" + ";d=d.substring(0,d.length-2)+" = "+c,this.cmd("SetText",this.textHashCalculationID,d)}b++}return this.commands}},{key:"clear",value:function(){this.commands=[],0!==this.textRowID.length&&(this.cmd("Delete",this.baseLabelID),this.cmd("Delete",this.characterValuesLabelID),this.cmd("Delete",this.textHashLabelID),this.cmd("Delete",this.textHashCalculationID),this.cmd("Delete",this.patternHashLabelID),this.cmd("Delete",this.patternHashCalculationID));for(var t=0;t<this.textRowID.length;t++)this.cmd("Delete",this.textRowID[t]);this.textRowID=[];for(var e=0;e<this.comparisonMatrixID.length;e++)for(var i=0;i<this.comparisonMatrixID.length;i++)this.cmd("Delete",this.comparisonMatrixID[e][i]);return this.comparisonMatrixID=[],this.commands}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),St=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d('Comma separated list (e.g. "3,1,2", max 18 elements)'),this.listField=m("Text",""),this.listField.onkeydown=this.returnSubmit(this.listField,this.sortCallback.bind(this),60,!1),this.controls.push(this.listField),this.findButton=m("Button","Sort"),this.findButton.onclick=this.sortCallback.bind(this),this.controls.push(this.findButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"setup",value:function(){this.arrayData=[],this.arrayID=[],this.displayData=[],this.iPointerID=this.nextIndex++,this.jPointerID=this.nextIndex++}},{key:"reset",value:function(){this.nextIndex=0}},{key:"sortCallback",value:function(){if(""!==this.listField.value){this.implementAction(this.clear.bind(this),"");var t=this.listField.value;this.listField.value="",this.implementAction(this.sort.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clear.bind(this),"")}},{key:"clear",value:function(){this.commands=[];for(var t=0;t<this.arrayID.length;t++)this.cmd("Delete",this.arrayID[t]);return this.arrayData=[],this.arrayID=[],this.displayData=[],this.commands}},{key:"sort",value:function(t){this.commands=[],this.arrayID=[],this.arrayData=t.split(",").map(Number).filter((function(t){return t})).slice(0,18);var e=this.arrayData.length;this.displayData=new Array(e);for(var i=new Map,s=new Map,h=0;h<e;h++){var a=i.has(this.arrayData[h])?i.get(this.arrayData[h]):0;a>0&&s.set(this.arrayData[h],"A"),i.set(this.arrayData[h],a+1)}for(var n=0;n<e;n++){this.arrayID[n]=this.nextIndex++;var l=50*n+100,r=this.arrayData[n].toString();if(s.has(this.arrayData[n])){var o=s.get(this.arrayData[n]);r+=o,s.set(this.arrayData[n],String.fromCharCode(o.charCodeAt(0)+1))}this.displayData[n]=r,this.cmd("CreateRectangle",this.arrayID[n],r,50,50,l,200)}this.cmd("CreateHighlightCircle",this.iPointerID,"#FF0000",100,200),this.cmd("SetHighlight",this.iPointerID,1),this.cmd("CreateHighlightCircle",this.jPointerID,"#0000FF",150,200),this.cmd("SetHighlight",this.jPointerID,1),this.cmd("Step");for(var d=0;d<this.arrayData.length-1;d++){var c=d;this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFF00");for(var u=d+1;u<this.arrayData.length;u++)this.movePointers(c,u),this.arrayData[u]<this.arrayData[c]&&(this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFFFF"),this.cmd("Step"),c=u,this.movePointers(c,u),this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFF00"),this.cmd("Step"));this.swap(d,c),this.cmd("SetBackgroundColor",this.arrayID[c],"#FFFFFF"),this.cmd("Step"),this.cmd("SetBackgroundColor",this.arrayID[d],"#2ECC71"),this.cmd("Step")}return this.cmd("Delete",this.iPointerID),this.cmd("Delete",this.jPointerID),this.cmd("Step"),this.cmd("SetBackgroundColor",this.arrayID[this.arrayID.length-1],"#2ECC71"),this.commands}},{key:"movePointers",value:function(t,e){var i=50*t+100;this.cmd("Move",this.iPointerID,i,200);var s=50*e+100;this.cmd("Move",this.jPointerID,s,200),this.cmd("Step")}},{key:"swap",value:function(t,e){var i=this.nextIndex++,s=50*t+100;this.cmd("CreateLabel",i,this.displayData[t],s,200);var h=this.nextIndex++,a=50*e+100;this.cmd("CreateLabel",h,this.displayData[e],a,200),this.cmd("Settext",this.arrayID[t],""),this.cmd("Settext",this.arrayID[e],""),this.cmd("Move",i,a,200),this.cmd("Move",h,s,200),this.cmd("Step"),this.cmd("Settext",this.arrayID[t],this.displayData[e]),this.cmd("Settext",this.arrayID[e],this.displayData[t]),this.cmd("Delete",i),this.cmd("Delete",h);var n=this.arrayData[t];this.arrayData[t]=this.arrayData[e],this.arrayData[e]=n,n=this.displayData[t],this.displayData[t]=this.displayData[e],this.displayData[e]=n}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}}]),e}(p),kt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Value"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addValueField),d("at index"),this.addIndexField=m("Text",""),this.addIndexField.onkeydown=this.returnSubmit(this.addIndexField,this.addIndexCallback.bind(this),4,!0),this.controls.push(this.addIndexField),this.addIndexButton=m("Button","Add at Index"),this.addIndexButton.onclick=this.addIndexCallback.bind(this),this.controls.push(this.addIndexButton),d("or"),this.addFrontButton=m("Button","Add to Front"),this.addFrontButton.onclick=this.addFrontCallback.bind(this),this.controls.push(this.addFrontButton),this.addBackButton=m("Button","Add to Back"),this.addBackButton.onclick=this.addBackCallback.bind(this),this.controls.push(this.addBackButton),this.removeField=m("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeIndexCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeIndexButton=m("Button","Remove from Index"),this.removeIndexButton.onclick=this.removeIndexCallback.bind(this),this.controls.push(this.removeIndexButton),d("or"),this.removeFrontButton=m("Button","Remove from Front"),this.removeFrontButton.onclick=this.removeFrontCallback.bind(this),this.controls.push(this.removeFrontButton),this.removeBackButton=m("Button","Remove from Back"),this.removeBackButton.onclick=this.removeBackCallback.bind(this),this.controls.push(this.removeBackButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(9),this.arrayData=new Array(9),this.size=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.size=0,this.nextIndex=this.initialIndex}},{key:"addIndexCallback",value:function(){if(""!==this.addValueField.value&&""!==this.addIndexField.value&&this.size<9){var t=this.addValueField.value,e=this.addIndexField.value;e>=0&&e<=this.size&&(this.addValueField.value="",this.addIndexField.value="",this.implementAction(this.add.bind(this),t+","+e))}}},{key:"addFrontCallback",value:function(){if(""!==this.addValueField.value&&this.size<9){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+",0")}}},{key:"addBackCallback",value:function(){if(""!==this.addValueField.value&&this.size<9){var t=this.addValueField.value;this.addValueField.value="",this.implementAction(this.add.bind(this),t+","+this.size)}}},{key:"removeIndexCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;t>=0&&t<this.size&&(this.removeField.value="",this.implementAction(this.remove.bind(this),t))}}},{key:"removeFrontCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),0)}},{key:"removeBackCallback",value:function(){this.size>0&&this.implementAction(this.remove.bind(this),this.size-1)}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"add",value:function(t){this.commands=[];for(var e=parseInt(t.split(",")[0]),i=parseInt(t.split(",")[1]),s=this.nextIndex++,h=this.nextIndex++,a=this.size-1;a>=i;a--)this.arrayData[a+1]=this.arrayData[a];if(this.arrayData[i]=e,0===this.size||0!==i&&i!==this.size){for(var n=this.size-1;n>=i;n--)this.linkedListElemID[n+1]=this.linkedListElemID[n];this.linkedListElemID[i]=this.nextIndex++}else{for(var l=this.size-1;l>=1;l--)this.linkedListElemID[l+1]=this.linkedListElemID[l];this.linkedListElemID[1]=this.nextIndex++}if(this.cmd("SetText",this.leftoverLabelID,""),0===this.size||0!==i&&i!==this.size?this.cmd("CreateCircularlyLinkedList",this.linkedListElemID[i],"",70,30,200,50,.25,1):this.cmd("CreateCircularlyLinkedList",this.linkedListElemID[1],"",70,30,200,50,.25,1),this.cmd("CreateLabel",s,"Adding Value: ",50,30),this.cmd("CreateLabel",h,e,120,30),this.cmd("Step"),0===this.size)this.cmd("Move",h,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[0],e),this.cmd("Delete",h),this.cmd("ConnectCurve",this.linkedListElemID[0],this.linkedListElemID[0],-.5),this.cmd("Step"),this.size=this.size+1,this.resetNodePositions();else if(0===i||i===this.size){var r=this.nextIndex++,o=0===i?this.arrayData[1]:this.arrayData[0];if(this.cmd("CreateLabel",r,o,100,200),this.cmd("Move",r,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[1],o),this.cmd("Delete",r),this.cmd("Step"),this.cmd("Move",h,100,200),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[0],e),this.cmd("Delete",h),this.cmd("Step"),1===this.size?(this.cmd("Disconnect",this.linkedListElemID[0],this.linkedListElemID[0]),this.cmd("Connect",this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd("ConnectCurve",this.linkedListElemID[1],this.linkedListElemID[0],-.5)):(this.cmd("Disconnect",this.linkedListElemID[0],this.linkedListElemID[2]),this.cmd("Connect",this.linkedListElemID[0],this.linkedListElemID[1]),this.cmd("Connect",this.linkedListElemID[1],this.linkedListElemID[2])),this.cmd("Step"),this.size=this.size+1,this.resetNodePositions(),this.cmd("Step"),i===this.size-1){var d,c=this.linkedListElemID[0];for(d=0;d<this.size-1;d++)this.linkedListElemID[d]=this.linkedListElemID[d+1];this.linkedListElemID[this.size-1]=c;var u=(this.size-1)%9*100+100,m=100*Math.floor((this.size-1)/9)+200;this.cmd("Move",this.linkedListElemID[d],(100+u)/2,m+90),this.cmd("Step");for(var g=0;g<this.size-1;g++){var p=g%9*100+100,I=100*Math.floor(g/9)+200;this.cmd("Move",this.linkedListElemID[g],p,I)}this.cmd("Disconnect",this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd("Connect",this.linkedListElemID[this.size-2],this.linkedListElemID[this.size-1]),this.cmd("Disconnect",this.linkedListElemID[this.size-1],this.linkedListElemID[0]),this.cmd("ConnectCurve",this.linkedListElemID[this.size-1],this.linkedListElemID[0],-.5),this.cmd("Move",this.linkedListElemID[d],u,m),this.cmd("Step")}}else this.cmd("Move",h,200,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[i],e),this.cmd("Delete",h),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[i-1],this.linkedListElemID[i+1]),this.cmd("Connect",this.linkedListElemID[i-1],this.linkedListElemID[i]),this.cmd("Connect",this.linkedListElemID[i],this.linkedListElemID[i+1]),this.size=this.size+1,this.resetNodePositions();return this.cmd("Delete",s),this.cmd("Step"),this.commands}},{key:"remove",value:function(t){this.commands=[],t=parseInt(t);var e=this.nextIndex++,i=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,"");var s=100+100*t;if(this.cmd("CreateLabel",e,"Removing Value: ",50,30),this.cmd("CreateLabel",i,this.arrayData[t],s,200),this.cmd("Move",i,120,30),this.cmd("Step"),1!==this.size){if(0===t){var h=this.nextIndex++;this.cmd("CreateLabel",h,this.arrayData[1],200,200),this.cmd("Move",h,100,200),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[0],this.arrayData[1]),this.cmd("Delete",h),this.cmd("Step"),this.cmd("Move",this.linkedListElemID[1],200,140),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[0],this.linkedListElemID[1]),2===this.size?this.cmd("ConnectCurve",this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd("Connect",this.linkedListElemID[0],this.linkedListElemID[2])}else if(t===this.size-1)this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),2===this.size?this.cmd("ConnectCurve",this.linkedListElemID[0],this.linkedListElemID[0],-.5):this.cmd("ConnectCurve",this.linkedListElemID[t-1],this.linkedListElemID[0],-.5);else{var a=t%9*100+100;this.cmd("Move",this.linkedListElemID[t],a,140),this.cmd("Step"),this.cmd("Disconnect",this.linkedListElemID[t-1],this.linkedListElemID[t]),this.cmd("Connect",this.linkedListElemID[t-1],this.linkedListElemID[t+1])}this.cmd("Step");var n=0===t?1:t;this.cmd("Delete",this.linkedListElemID[n]);for(var l=n;l<this.size;l++)this.linkedListElemID[l]=this.linkedListElemID[l+1]}else this.cmd("Delete",this.linkedListElemID[0]);for(var r=t;r<this.size;r++)this.arrayData[r]=this.arrayData[r+1];return this.size=this.size-1,this.resetNodePositions(),this.cmd("Delete",i),this.cmd("Delete",e),this.cmd("Step"),this.commands}},{key:"resetNodePositions",value:function(){for(var t=0;t<this.size;t++){var e=t%9*100+100,i=100*Math.floor(t/9)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.size;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.size=0,this.commands}}]),e}(p),Ct=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.setup(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],d("Add"),this.addValueField=m("Text",""),this.addValueField.onkeydown=this.returnSubmit(this.addValueField,this.addRandomlyCallback.bind(this),4,!0),this.controls.push(this.addValueField),d("with"),this.headsField=m("Text",""),this.headsField.onkeydown=this.returnSubmit(this.headsField,this.addWithHeadsCallback.bind(this),4,!0),this.controls.push(this.headsField),d("heads"),this.addWithHeadsButton=m("Button","Add with heads"),this.addWithHeadsButton.onclick=this.addWithHeadsCallback.bind(this),this.controls.push(this.addWithHeadsButton),d("or"),this.addRandomlyButton=m("Button","Add randomly"),this.addRandomlyButton.onclick=this.addRandomlyCallback.bind(this),this.controls.push(this.addRandomlyButton),this.removeField=m("Text",""),this.removeField.onkeydown=this.returnSubmit(this.removeField,this.removeCallback.bind(this),4,!0),this.controls.push(this.removeField),this.removeButton=m("Button","Remove"),this.removeButton.onclick=this.removeCallback.bind(this),this.controls.push(this.removeButton),this.getField=m("Text",""),this.getField.onkeydown=this.returnSubmit(this.getField,this.getCallback.bind(this),4,!0),this.controls.push(this.getField),this.getButton=m("Button","Get"),this.getButton.onclick=this.getCallback.bind(this),this.controls.push(this.getButton),this.clearButton=m("Button","Clear"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.commands=[],this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd("CreateSkipList",this.nodeID[0][0],"\u2212\u221e",40,40,100,400),this.cmd("CreateSkipList",this.nodeID[1][0],"\u221e",40,40,180,400),this.cmd("ConnectSkipList",this.nodeID[0][0],this.nodeID[1][0],3),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.nextIndex=0,this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0}},{key:"addRandomlyCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="",this.headsField.value="",this.implementAction(this.add.bind(this),t)}}},{key:"addWithHeadsCallback",value:function(){if(""!==this.addValueField.value){var t=this.addValueField.value;this.addValueField.value="";var e=this.headsField.value;this.headsField.value="",this.implementAction(this.add.bind(this),t+","+e)}}},{key:"removeCallback",value:function(){if(""!==this.removeField.value){var t=this.removeField.value;this.removeField.value="",this.implementAction(this.remove.bind(this),t)}}},{key:"getCallback",value:function(){if(""!==this.getField.value){var t=this.getField.value;this.getField.value="",this.implementAction(this.get.bind(this),t)}}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"add",value:function(t){this.commands=[];var e,i=parseInt(t.split(",")[0]);e=2===t.split(",").length?t.split(",")[1]:Math.floor(Math.random()*(this.size+1)),e=Math.min(e,4);for(var s=this.nextIndex++,h=this.nextIndex++,a=this.nextIndex++,n=this.nextIndex++,l="",r=0;r<e;r++)l+="H";l+="T",this.cmd("CreateLabel",s,"Value to add:",50,23),this.cmd("CreateLabel",h,i,120,23),this.cmd("CreateLabel",a,"Coin Flipper:",50,37),this.cmd("CreateLabel",n,l,120,37),this.cmd("Step");for(var o=this.nodeID[0].length;o<=e;o++){var d=this.nodeID.length-1;this.data[0][o]=Number.NEGATIVE_INFINITY,this.nodeID[0][o]=this.nextIndex++,this.cmd("CreateSkipList",this.nodeID[0][o],"\u2212\u221e",40,40,100,400-80*o),this.data[d][o]=Number.POSITIVE_INFINITY,this.nodeID[d][o]=this.nextIndex++,this.cmd("CreateSkipList",this.nodeID[d][o],"\u221e",40,40,100+80*d,400-80*o),this.cmd("ConnectSkipList",this.nodeID[0][o],this.nodeID[d][o],3),this.cmd("ConnectSkipList",this.nodeID[0][o-1],this.nodeID[0][o],0),this.cmd("ConnectSkipList",this.nodeID[d][o-1],this.nodeID[d][o],0),this.cmd("Step")}for(var c=1;i>this.data[c][0];)c++;for(var u=this.nodeID.length-1;u>=c;u--)this.nodeID[u+1]=this.nodeID[u],this.data[u+1]=this.data[u];this.nodeID[c]=[],this.data[c]=[];var m=0,g=this.nodeID[0].length-1,p=this.nextIndex++;this.cmd("CreateHighlightCircle",p,"#FF0000",100,400-80*g),this.cmd("SetHighlight",p,1),this.cmd("Step");for(var I=!1;g>=0;){var D=this.getNextCol(m,g);if(i===this.data[D][g]){I=!0;break}for(;i>this.data[D][g];)this.cmd("Move",p,100+80*D,400-80*g),this.cmd("Step"),m=D,D=this.getNextCol(m,g);--g>=0&&(this.cmd("Move",p,100+80*m,400-80*g),this.cmd("Step"))}if(!I)for(this.shiftColumns(c),g++,this.cmd("CreateCircle",this.nextIndex++,"",-100,-100,0);g<=e;){this.data[c][g]=i,this.nodeID[c][g]=this.nextIndex++,this.cmd("CreateSkipList",this.nodeID[c][g],i,40,40,100+80*c,400-80*g);var b=this.getPrevCol(c,g),f=this.getNextCol(c,g);this.cmd("Disconnect",this.nodeID[b][g],this.nodeID[f][g]),this.cmd("ConnectSkipList",this.nodeID[b][g],this.nodeID[c][g],3),this.cmd("ConnectSkipList",this.nodeID[c][g],this.nodeID[f][g],3),0!==g&&this.cmd("ConnectSkipList",this.nodeID[c][g-1],this.nodeID[c][g],0),this.cmd("Step"),this.cmd("Move",p,100+80*c,400-80*g),this.cmd("Step"),g++}return this.cmd("Delete",s),this.cmd("Delete",h),this.cmd("Delete",a),this.cmd("Delete",n),this.cmd("Delete",p),this.size++,this.commands}},{key:"remove",value:function(t){this.commands=[];var e=parseInt(t),i=this.nextIndex++,s=this.nextIndex++;this.cmd("CreateLabel",i,"Value to remove:",50,23),this.cmd("CreateLabel",s,e,120,23),this.cmd("Step");var h=0,a=this.nodeID[0].length-1,n=-1,l=this.nextIndex++;for(this.cmd("CreateHighlightCircle",l,"#FF0000",100,400-80*a),this.cmd("Step");a>=0;){for(var r=this.getNextCol(h,a);e>this.data[r][a];)this.cmd("Move",l,100+80*r,400-80*a),this.cmd("Step"),h=r,r=this.getNextCol(h,a);if(e===this.data[r][a])for(n=r,h=r,this.cmd("Move",l,100+80*h,400-80*a),this.cmd("Step");a>=0;){r=this.getNextCol(h,a);var o=this.getPrevCol(h,a);this.cmd("Disconnect",this.nodeID[o][a],this.nodeID[h][a]),this.cmd("Disconnect",this.nodeID[h][a],this.nodeID[r][a]),null!=this.nodeID[h][a+1]&&this.cmd("Disconnect",this.nodeID[h][a+1],this.nodeID[h][a]),this.cmd("ConnectSkipList",this.nodeID[o][a],this.nodeID[r][a],3),this.cmd("Delete",this.nodeID[h][a]),this.cmd("Step"),-1!==--a&&(this.cmd("Move",l,100+80*h,400-80*a),this.cmd("Step"))}else-1!==--a&&(this.cmd("Move",l,100+80*h,400-80*a),this.cmd("Step"))}if(this.cmd("Delete",i),this.cmd("Delete",s),this.cmd("Delete",l),-1!==n){for(var d=n;d<this.nodeID.length-1;d++)this.nodeID[d]=this.nodeID[d+1],this.data[d]=this.data[d+1];this.nodeID.pop(),this.data.pop(),this.shiftColumns(n)}for(var c=1,u=1;u<this.nodeID.length-1;u++)c=Math.max(c,this.nodeID[u].length);for(var m=this.nodeID[0].length-1;m>=c;m--){this.data[0].pop();var g=this.nodeID[0].pop();this.cmd("Delete",g);var p=this.nodeID.length-1;this.data[p].pop();var I=this.nodeID[p].pop();this.cmd("Delete",I)}return this.cmd("Step"),this.size--,this.commands}},{key:"get",value:function(t){this.commands=[];var e=parseInt(t),i=0,s=this.nodeID[0].length-1,h=this.nextIndex++;for(this.cmd("CreateHighlightCircle",h,"#FF0000",100,400-80*s),this.cmd("SetHighlight",h,1),this.cmd("Step");s>=0&&e!==this.data[i][s];){for(var a=this.getNextCol(i,s);e>=this.data[a][s];)this.cmd("Move",h,100+80*a,400-80*s),this.cmd("Step"),i=a,a=this.getNextCol(i,s);e!==this.data[i][s]&&(s--,this.cmd("Move",h,100+80*i,400-80*s),this.cmd("Step"))}return this.cmd("Delete",h),this.commands}},{key:"shiftColumns",value:function(t){for(;t<this.nodeID.length;t++)for(var e=0;e<this.nodeID[t].length;e++)null!=this.nodeID[t][e]&&this.cmd("Move",this.nodeID[t][e],100+80*t,400-80*e);this.cmd("Step")}},{key:"getNextCol",value:function(t,e){for(t++;null==this.data[t][e];)t++;return t}},{key:"getPrevCol",value:function(t,e){for(t--;null==this.data[t][e];)t--;return t}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.nodeID.length;t++)for(var e=0;e<this.nodeID[t].length;e++)this.cmd("Delete",this.nodeID[t][e]);return this.nodeID=[[this.nextIndex++],[this.nextIndex++]],this.data=[[Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY]],this.size=0,this.cmd("CreateSkipList",this.nodeID[0][0],"\u2212\u221e",40,40,100,400),this.cmd("CreateSkipList",this.nodeID[1][0],"\u221e",40,40,180,400),this.cmd("ConnectSkipList",this.nodeID[0][0],this.nodeID[1][0],3),this.cmd("Step"),this.commands}}]),e}(p),Lt=20,Tt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).startingX=i/2,h.first_print_pos_y=s-2*Lt,h.print_max=i-10,h.addControls(),h.nextIndex=0,h.commands=[],h.cmd("CreateLabel",0,"",20,10,0),h.nextIndex=1,h.animationManager.StartNewAnimation(h.commands),h.animationManager.skipForward(),h.animationManager.clearHistory(),h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.insertField=m("Text",""),this.insertField.onkeydown=this.returnSubmit(this.insertField,this.insertCallback.bind(this),4),this.insertButton=m("Button","Insert"),this.insertButton.onclick=this.insertCallback.bind(this),this.deleteField=m("Text",""),this.deleteField.onkeydown=this.returnSubmit(this.deleteField,this.deleteCallback.bind(this),4),this.deleteButton=m("Button","Delete"),this.deleteButton.onclick=this.deleteCallback.bind(this),this.findField=m("Text",""),this.findField.onkeydown=this.returnSubmit(this.findField,this.findCallback.bind(this),4),this.findButton=m("Button","Find"),this.findButton.onclick=this.findCallback.bind(this),this.printButton=m("Button","Print"),this.printButton.onclick=this.printCallback.bind(this)}},{key:"reset",value:function(){this.nextIndex=1,this.treeRoot=null}},{key:"insertCallback",value:function(){var t=this.insertField.value;""!==(t=this.normalizeNumber(t,4))&&(this.insertField.value="",this.implementAction(this.insertElement.bind(this),t))}},{key:"deleteCallback",value:function(){var t=this.deleteField.value;""!==t&&(t=this.normalizeNumber(t,4),this.deleteField.value="",this.implementAction(this.deleteElement.bind(this),t))}},{key:"splay",value:function(t){return null!=this.treeRoot&&(this.treeRoot.data===t||(t<this.treeRoot.data?null!=this.treeRoot.left&&(this.treeRoot.left.data===t?(this.singleRotateRight(this.treeRoot),!0):t<this.treeRoot.left.data?null==this.treeRoot.left.left?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.zigZigRight(this.treeRoot),this.splay(t)):null==this.treeRoot.left.right?(this.singleRotateRight(this.treeRoot),this.splay(t)):(this.doubleRotateRight(this.treeRoot),this.splay(t))):null!=this.treeRoot.right&&(this.treeRoot.right.data===t?(this.singleRotateLeft(this.treeRoot),!0):t>this.treeRoot.right.data?null==this.treeRoot.right.right?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.zigZigLeft(this.treeRoot),this.splay(t)):null==this.treeRoot.right.left?(this.singleRotateLeft(this.treeRoot),this.splay(t)):(this.doubleRotateLeft(this.treeRot),this.splay(t)))))}},{key:"printCallback",value:function(){this.implementAction(this.printTree.bind(this),"")}},{key:"printTree",value:function(){if(this.commands=[],null!=this.treeRoot){this.highlightID=this.nextIndex++;var t=this.nextIndex;this.cmd("CreateHighlightCircle",this.highlightID,"#007700",this.treeRoot.x,this.treeRoot.y),this.xPosOfNextLabel=50,this.yPosOfNextLabel=this.first_print_pos_y,this.printTreeRec(this.treeRoot),this.cmd("Delete",this.highlightID),this.cmd("Step");for(var e=t;e<this.nextIndex;e++)this.cmd("Delete",e);this.nextIndex=this.highlightID}return this.commands}},{key:"printTreeRec",value:function(t){this.cmd("Step"),null!=t.left&&(this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.printTreeRec(t.left),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"));var e=this.nextIndex++;this.cmd("CreateLabel",e,t.data,t.x,t.y),this.cmd("SetForegroundColor",e,"#007700"),this.cmd("Move",e,this.xPosOfNextLabel,this.yPosOfNextLabel),this.cmd("Step"),this.xPosOfNextLabel+=50,this.xPosOfNextLabel>this.print_max&&(this.xPosOfNextLabel=50,this.yPosOfNextLabel+=Lt),null!=t.right&&(this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.printTreeRec(t.right),this.cmd("Move",this.highlightID,t.x,t.y),this.cmd("Step"))}},{key:"findCallback",value:function(){var t=this.normalizeNumber(this.findField.value,4);this.findField.value="",this.implementAction(this.findElement.bind(this),t)}},{key:"findElement",value:function(t){return this.commands=[],this.highlightID=this.nextIndex++,this.doFind(this.treeRoot,t)?this.cmd("SetText",0,"Element "+t+" found."):this.cmd("SetText",0,"Element "+t+" not found."),this.commands}},{key:"doFind",value:function(t,e){return this.cmd("SetText",0,"Searching for "+e),null!=t?(this.cmd("SetHighlight",t.graphicID,1),t.data===e?(this.cmd("SetText",0,"Searching for "+e+" : "+e+" = "+e+" (Element found!)"),this.cmd("Step"),this.cmd("SetText",0,"Splaying found node to root of tree"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),this.splayUp(t),!0):t.data>e?(this.cmd("SetText",0,"Searching for "+e+" : "+e+" < "+t.data+" (look to left subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.left?(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.left.x,t.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.doFind(t.left,e)):(this.splayUp(t),!1)):(this.cmd("SetText",0,"Searching for "+e+" : "+e+" > "+t.data+" (look to right subtree)"),this.cmd("Step"),this.cmd("SetHighlight",t.graphicID,0),null!=t.right?(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.doFind(t.right,e)):(this.splayUp(t),!1))):(this.cmd("SetText",0,"Searching for "+e+" : < Empty Tree > (Element not found)"),this.cmd("Step"),this.cmd("SetText",0,"Searching for "+e+" :  (Element not found)"),!1)}},{key:"insertElement",value:function(t){if(this.commands=[],this.cmd("SetText",0,"Inserting "+t),this.highlightID=this.nextIndex++,null==this.treeRoot)this.cmd("CreateCircle",this.nextIndex,t,this.startingX,50),this.cmd("SetForegroundColor",this.nextIndex,"#007700"),this.cmd("SetBackgroundColor",this.nextIndex,"#EEFFEE"),this.cmd("Step"),this.treeRoot=new _t(t,this.nextIndex,this.startingX,50),this.nextIndex+=1;else{this.cmd("CreateCircle",this.nextIndex,t,100,100),this.cmd("SetForegroundColor",this.nextIndex,"#007700"),this.cmd("SetBackgroundColor",this.nextIndex,"#EEFFEE"),this.cmd("Step");var e=new _t(t,this.nextIndex,100,100);this.nextIndex+=1,this.cmd("SetHighlight",e.graphicID,1),this.insert(e,this.treeRoot),this.resizeTree(),this.cmd("SetText",0,"Splay inserted element to root of tree"),this.cmd("Step"),this.splayUp(e)}return this.cmd("SetText",0,""),this.commands}},{key:"insert",value:function(t,e){var i=!1;this.cmd("SetHighlight",e.graphicID,1),this.cmd("SetHighlight",t.graphicID,1),t.data<e.data?this.cmd("SetText",0,t.data+" < "+e.data+".  Looking at left subtree"):t.data>e.data?this.cmd("SetText",0,t.data+" >= "+e.data+".  Looking at right subtree"):(this.cmd("SetText",0,t.data+" = "+e.data+". Ignoring duplicate"),i=!0),this.cmd("Step"),this.cmd("SetHighlight",e.graphicID,0),this.cmd("SetHighlight",t.graphicID,0),i?this.cmd("Delete",t.graphicID,0):t.data<e.data?null==e.left?(this.cmd("SetText",0,"Found null tree, inserting element"),this.cmd("SetHighlight",t.graphicID,0),e.left=t,t.parent=e,this.cmd("Connect",e.graphicID,t.graphicID,"#007700")):(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",e.x,e.y),this.cmd("Move",this.highlightID,e.left.x,e.left.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.insert(t,e.left)):null==e.right?(this.cmd("SetText",0,"Found null tree, inserting element"),this.cmd("SetHighlight",t.graphicID,0),e.right=t,t.parent=e,this.cmd("Connect",e.graphicID,t.graphicID,"#007700"),t.x=e.x+25,t.y=e.y+50,this.cmd("Move",t.graphicID,t.x,t.y)):(this.cmd("CreateHighlightCircle",this.highlightID,"#007700",e.x,e.y),this.cmd("Move",this.highlightID,e.right.x,e.right.y),this.cmd("Step"),this.cmd("Delete",this.highlightID),this.insert(t,e.right))}},{key:"deleteElement",value:function(t){return this.commands=[],this.cmd("SetText",0,"Deleting "+t),this.cmd("Step"),this.cmd("SetText",0,""),this.highlightID=this.nextIndex++,this.treeDelete(this.treeRoot,t),this.cmd("SetText",0,""),this.commands}},{key:"treeDelete",value:function(t,e){this.cmd("SetText",0,"Finding "+e+" and splaying to rooot"),this.cmd("Step");var i=this.doFind(this.treeRoot,e);if(this.cmd("SetText",0,"Removing root, leaving left and right trees"),this.cmd("Step"),i)if(null==this.treeRoot.right)this.cmd("Delete",this.treeRoot.graphicID),this.cmd("SetText",0,"No right tree, make left tree the root."),this.cmd("Step"),this.treeRoot=this.treeRoot.left,this.treeRoot.parent=null,this.resizeTree();else if(null==this.treeRoot.left)this.cmd("Delete",this.treeRoot.graphicID),this.cmd("SetText",0,"No left tree, make right tree the root."),this.cmd("Step"),this.treeRoot=this.treeRoot.right,this.treeRoot.parent=null,this.resizeTree();else{var s=this.treeRoot.right,h=this.treeRoot.left,a=this.treeRoot.graphicID;this.cmd("Disconnect",this.treeRoot.graphicID,h.graphicID),this.cmd("Disconnect",this.treeRoot.graphicID,s.graphicID),this.cmd("SetAlpha",this.treeRoot.graphicID,0),this.cmd("SetText",0,"Splay largest element in left tree to root"),this.cmd("Step"),h.parent=null;var n=this.findMax(h);this.splayUp(n),this.cmd("SetText",0,"Left tree now has no right subtree, connect left and right trees"),this.cmd("Step"),this.cmd("Connect",n.graphicID,s.graphicID,"#007700"),n.parent=null,n.right=s,s.parent=n,this.treeRoot=n,this.cmd("Delete",a),this.resizeTree()}}},{key:"singleRotateRight",value:function(t){var e=t,i=t.left,s=i.right;this.cmd("SetText",0,"Zig Right"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,1),this.cmd("Step"),null!=s&&(this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",e.graphicID,s.graphicID,"#007700"),s.parent=e),this.cmd("Disconnect",e.graphicID,i.graphicID),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd("Disconnect",e.parent.graphicID,e.graphicID,"#007700"),this.cmd("Connect",e.parent.graphicID,i.graphicID,"#007700"),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.right=e,e.parent=i,e.left=s,this.resizeTree()}},{key:"zigZigRight",value:function(t){var e=t,i=t.left,s=t.left.left,h=s.right,a=i.right;this.cmd("SetText",0,"Zig-Zig Right"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,1),this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,0),this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd("Disconnect",e.parent.graphicID,e.graphicID),this.cmd("Connect",e.parent.graphicID,s.graphicID,"#007700"),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd("Disconnect",s.graphicID,h.graphicID),this.cmd("Connect",i.graphicID,h.graphicID,"#007700"),h.parent=i),null!=a&&(this.cmd("Disconnect",i.graphicID,a.graphicID),this.cmd("Connect",e.graphicID,a.graphicID,"#007700"),a.parent=e),this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",s.graphicID,i.graphicID,"#007700"),this.cmd("Disconnect",e.graphicID,i.graphicID),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),s.right=i,s.parent=e.parent,i.parent=s,i.left=h,i.right=e,e.parent=i,e.left=a,this.resizeTree()}},{key:"zigZigLeft",value:function(t){var e=t,i=t.right,s=t.right.right,h=i.left,a=s.left;this.cmd("SetText",0,"Zig-Zig Left"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,1),this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,1),this.cmd("Step"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,0),this.cmd("SetEdgeHighlight",i.graphicID,s.graphicID,0),null!=e.parent?(this.cmd("Disconnect",e.parent.graphicID,e.graphicID),this.cmd("Connect",e.parent.graphicID,s.graphicID,"#007700"),e.isLeftChild()?e.parent.left=s:e.parent.right=s):this.treeRoot=s,null!=h&&(this.cmd("Disconnect",i.graphicID,h.graphicID),this.cmd("Connect",e.graphicID,h.graphicID,"#007700"),h.parent=e),null!=a&&(this.cmd("Disconnect",s.graphicID,a.graphicID),this.cmd("Connect",i.graphicID,a.graphicID,"#007700"),a.parent=i),this.cmd("Disconnect",e.graphicID,i.graphicID),this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",s.graphicID,i.graphicID,"#007700"),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),s.parent=e.parent,e.right=h,i.left=e,e.parent=i,i.right=a,s.left=i,i.parent=s,this.resizeTree()}},{key:"singleRotateLeft",value:function(t){var e=t,i=t.right,s=i.left;this.cmd("SetText",0,"Zig Left"),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,1),this.cmd("Step"),null!=s&&(this.cmd("Disconnect",i.graphicID,s.graphicID),this.cmd("Connect",e.graphicID,s.graphicID,"#007700"),s.parent=e),this.cmd("Disconnect",e.graphicID,i.graphicID),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),i.parent=e.parent,null==e.parent?this.treeRoot=i:(this.cmd("Disconnect",e.parent.graphicID,e.graphicID,"#007700"),this.cmd("Connect",e.parent.graphicID,i.graphicID,"#007700"),e.isLeftChild()?e.parent.left=i:e.parent.right=i),i.left=e,e.parent=i,e.right=s,this.resizeTree()}},{key:"splayUp",value:function(t){null!=t.parent&&(null==t.parent.parent?t.isLeftChild()?this.singleRotateRight(t.parent):this.singleRotateLeft(t.parent):t.isLeftChild()&&!t.parent.isLeftChild()?(this.doubleRotateLeft(t.parent.parent),this.splayUp(t)):!t.isLeftChild()&&t.parent.isLeftChild()?(this.doubleRotateRight(t.parent.parent),this.splayUp(t)):t.isLeftChild()?(this.zigZigRight(t.parent.parent),this.splayUp(t)):(this.zigZigLeft(t.parent.parent),this.splayUp(t)))}},{key:"findMax",value:function(t){if(null!=t.right){for(this.highlightID=this.nextIndex++,this.cmd("CreateHighlightCircle",this.highlightID,"#007700",t.x,t.y),this.cmd("Step");null!=t.right;)this.cmd("Move",this.highlightID,t.right.x,t.right.y),this.cmd("Step"),t=t.right;return this.cmd("Delete",this.highlightID),t}return t}},{key:"doubleRotateRight",value:function(t){this.cmd("SetText",0,"Zig-Zag Right");var e=t.left,i=t.left.right,s=t,h=i.left,a=i.right;this.cmd("SetEdgeHighlight",s.graphicID,e.graphicID,1),this.cmd("SetEdgeHighlight",e.graphicID,i.graphicID,1),this.cmd("Step"),null!=h&&(this.cmd("Disconnect",i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd("Connect",e.graphicID,h.graphicID,"#007700")),null!=a&&(this.cmd("Disconnect",i.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd("Connect",s.graphicID,a.graphicID,"#007700")),null==s.parent?(i.parent=null,this.treeRoot=i):(this.cmd("Disconnect",s.parent.graphicID,s.graphicID),this.cmd("Connect",s.parent.graphicID,i.graphicID,"#007700"),s.isLeftChild()?s.parent.left=i:s.parent.right=i,i.parent=s.parent,s.parent=i),this.cmd("Disconnect",s.graphicID,e.graphicID),this.cmd("Disconnect",e.graphicID,i.graphicID),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),this.cmd("Connect",i.graphicID,s.graphicID,"#007700"),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=a,this.resizeTree()}},{key:"doubleRotateLeft",value:function(t){this.cmd("SetText",0,"Zig-Zag Left");var e=t,i=t.right.left,s=t.right,h=i.left,a=i.right;this.cmd("SetEdgeHighlight",e.graphicID,s.graphicID,1),this.cmd("SetEdgeHighlight",s.graphicID,i.graphicID,1),this.cmd("Step"),null!=h&&(this.cmd("Disconnect",i.graphicID,h.graphicID),h.parent=e,e.right=h,this.cmd("Connect",e.graphicID,h.graphicID,"#007700")),null!=a&&(this.cmd("Disconnect",i.graphicID,a.graphicID),a.parent=s,s.left=h,this.cmd("Connect",s.graphicID,a.graphicID,"#007700")),null==e.parent?(i.parent=null,this.treeRoot=i):(this.cmd("Disconnect",e.parent.graphicID,e.graphicID),this.cmd("Connect",e.parent.graphicID,i.graphicID,"#007700"),e.isLeftChild()?e.parent.left=i:e.parent.right=i,i.parent=e.parent,e.parent=i),this.cmd("Disconnect",e.graphicID,s.graphicID),this.cmd("Disconnect",s.graphicID,i.graphicID),this.cmd("Connect",i.graphicID,e.graphicID,"#007700"),this.cmd("Connect",i.graphicID,s.graphicID,"#007700"),i.left=e,e.parent=i,i.right=s,s.parent=i,e.right=h,s.left=a,this.resizeTree()}},{key:"resizeTree",value:function(){var t=this.startingX;this.resizeWidths(this.treeRoot),null!=this.treeRoot&&(this.treeRoot.leftWidth>t?t=this.treeRoot.leftWidth:this.treeRoot.rightWidth>t&&(t=Math.max(this.treeRoot.leftWidth,2*t-this.treeRoot.rightWidth)),this.setNewPositions(this.treeRoot,t,50,0),this.animateNewPositions(this.treeRoot),this.cmd("Step"))}},{key:"setNewPositions",value:function(t,e,i,s){null!=t&&(t.y=i,-1===s?e-=t.rightWidth:1===s&&(e+=t.leftWidth),t.x=e,this.setNewPositions(t.left,e,i+50,-1),this.setNewPositions(t.right,e,i+50,1))}},{key:"animateNewPositions",value:function(t){null!=t&&(this.cmd("Move",t.graphicID,t.x,t.y),this.animateNewPositions(t.left),this.animateNewPositions(t.right))}},{key:"resizeWidths",value:function(t){return null==t?0:(t.leftWidth=Math.max(this.resizeWidths(t.left),25),t.rightWidth=Math.max(this.resizeWidths(t.right),25),t.leftWidth+t.rightWidth)}},{key:"disableUI",value:function(){this.insertField.disabled=!0,this.insertButton.disabled=!0,this.deleteField.disabled=!0,this.deleteButton.disabled=!0,this.findField.disabled=!0,this.findButton.disabled=!0,this.printButton.disabled=!0}},{key:"enableUI",value:function(){this.insertField.disabled=!1,this.insertButton.disabled=!1,this.deleteField.disabled=!1,this.deleteButton.disabled=!1,this.findField.disabled=!1,this.findButton.disabled=!1,this.printButton.disabled=!1}}]),e}(p),_t=function(){function t(e,i,s,h){Object(a.a)(this,t),this.data=e,this.x=s,this.y=h,this.graphicID=i,this.left=null,this.right=null,this.parent=null}return Object(n.a)(t,[{key:"isLeftChild",value:function(){return null==this.parent||this.parent.left===this}}]),t}(),Et={ArrayList:["ArrayList",f],LinkedList:["Singly LinkedList",rt],DoublyLinkedList:["Doubly LinkedList",et],SinglyCircularlyLinkedList:["Circularly LinkedList",kt],StackArray:["Stack (Array)",function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.pushField=m("Text",""),this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),6),this.pushButton=m("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),this.popButton=m("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),this.clearButton=m("Button","Clear Stack"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.nextIndex=0,this.arrayID=new Array(30),this.arrayLabelID=new Array(30);for(var t=0;t<30;t++)this.arrayID[t]=this.nextIndex++,this.arrayLabelID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(30),this.top=0,this.leftoverLabelID=this.nextIndex++,this.commands=[];for(var e=0;e<30;e++){var i=e%15*50+100,s=130*Math.floor(e/15)+200;this.cmd("CreateRectangle",this.arrayID[e],"",50,50,i,s),this.cmd("CreateLabel",this.arrayLabelID[e],e,i,s+50),this.cmd("SetForegroundColor",this.arrayLabelID[e],"#0000FF")}this.cmd("CreateLabel",this.topLabelID,"top",130,100),this.cmd("CreateRectangle",this.topID,0,50,50,180,100),this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.highlight1ID=this.nextIndex++,this.highlight2ID=this.nextIndex++,this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"pushCallback",value:function(){if(this.top<30&&""!==this.pushField.value){var t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}}},{key:"popCallback",value:function(){this.top>0&&this.implementAction(this.pop.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clearData.bind(this),"")}},{key:"clearData",value:function(){return this.commands=[],this.clearAll(),this.commands}},{key:"push",value:function(t){this.commands=[];var e=this.nextIndex++,i=this.nextIndex++;this.arrayData[this.top]=t,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",e,"Pushing Value: ",50,30),this.cmd("CreateLabel",i,t,120,30),this.cmd("Step"),this.cmd("Step"),this.cmd("Step"),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("Step");var s=this.top%15*50+100,h=130*Math.floor(this.top/15)+200;return this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Move",this.highlight1ID,s,h+50),this.cmd("Step"),this.cmd("Move",i,s,h),this.cmd("Step"),this.cmd("Settext",this.arrayID[this.top],t),this.cmd("Delete",i),this.cmd("Delete",this.highlight1ID),this.cmd("SetHighlight",this.topID,1),this.cmd("Step"),this.top=this.top+1,this.cmd("SetText",this.topID,this.top),this.cmd("Delete",e),this.cmd("Step"),this.cmd("SetHighlight",this.topID,0),this.commands}},{key:"pop",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++;this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"Popped Value: ",50,30),this.cmd("SetHighlight",this.topID,1),this.cmd("Step"),this.top=this.top-1,this.cmd("SetText",this.topID,this.top),this.cmd("Step"),this.cmd("SetHighlight",this.topID,0),this.cmd("CreateHighlightCircle",this.highlight1ID,"#0000FF",180,100),this.cmd("Step");var i=this.top%15*50+100,s=130*Math.floor(this.top/15)+200;return this.cmd("Move",this.highlight1ID,i,s+50),this.cmd("Move",this.highlight1ID,i,s+50),this.cmd("Move",this.highlight1ID,i,s+50),this.cmd("Step"),this.cmd("CreateLabel",e,this.arrayData[this.top],i,s),this.cmd("Settext",this.arrayID[this.top],""),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("Delete",e),this.cmd("Delete",t),this.cmd("Delete",this.highlight1ID),this.cmd("SetText",this.leftoverLabelID,"Popped Value: "+this.arrayData[this.top]),this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd("SetText",this.arrayID[t],"");return this.top=0,this.cmd("SetText",this.topID,"0"),this.commands}}]),e}(p)],StackLL:["Stack (LinkedList)",function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this,t,i,s))).addControls(),h.nextIndex=0,h.commands=[],h.setup(),h.initialIndex=h.nextIndex,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addControls",value:function(){this.controls=[],this.pushField=m("Text",""),this.pushField.onkeydown=this.returnSubmit(this.pushField,this.pushCallback.bind(this),6),this.pushButton=m("Button","Push"),this.pushButton.onclick=this.pushCallback.bind(this),this.controls.push(this.pushField),this.controls.push(this.pushButton),this.popButton=m("Button","Pop"),this.popButton.onclick=this.popCallback.bind(this),this.controls.push(this.popButton),this.clearButton=m("Button","Clear Stack"),this.clearButton.onclick=this.clearCallback.bind(this),this.controls.push(this.clearButton)}},{key:"enableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!1}},{key:"disableUI",value:function(){for(var t=0;t<this.controls.length;t++)this.controls[t].disabled=!0}},{key:"setup",value:function(){this.linkedListElemID=new Array(32);for(var t=0;t<32;t++)this.linkedListElemID[t]=this.nextIndex++;this.topID=this.nextIndex++,this.topLabelID=this.nextIndex++,this.arrayData=new Array(32),this.top=0,this.leftoverLabelID=this.nextIndex++,this.cmd("CreateLabel",this.topLabelID,"Top",130,100),this.cmd("CreateRectangle",this.topID,"",30,30,180,100),this.cmd("SetNull",this.topID,1),this.cmd("CreateLabel",this.leftoverLabelID,"",50,30),this.animationManager.StartNewAnimation(this.commands),this.animationManager.skipForward(),this.animationManager.clearHistory()}},{key:"resetLinkedListPositions",value:function(){for(var t=this.top-1;t>=0;t--){var e=(this.top-1-t)%8*100+100,i=100*Math.floor((this.top-1-t)/8)+200;this.cmd("Move",this.linkedListElemID[t],e,i)}}},{key:"reset",value:function(){this.top=0,this.nextIndex=this.initialIndex}},{key:"pushCallback",value:function(){if(this.top<32&&""!==this.pushField.value){var t=this.pushField.value;this.pushField.value="",this.implementAction(this.push.bind(this),t)}}},{key:"popCallback",value:function(){this.top>0&&this.implementAction(this.pop.bind(this),"")}},{key:"clearCallback",value:function(){this.implementAction(this.clearAll.bind(this),"")}},{key:"push",value:function(t){this.commands=[];var e=this.nextIndex++,i=this.nextIndex++;return this.arrayData[this.top]=t,this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLinkedList",this.linkedListElemID[this.top],"",70,30,250,50,.25,0,1,1),this.cmd("CreateLabel",e,"Pushing Value: ",50,30),this.cmd("CreateLabel",i,t,120,30),this.cmd("Step"),this.cmd("Move",i,250,50),this.cmd("Step"),this.cmd("SetText",this.linkedListElemID[this.top],t),this.cmd("Delete",i),0===this.top?(this.cmd("SetNull",this.topID,0),this.cmd("SetNull",this.linkedListElemID[this.top],1)):(this.cmd("Connect",this.linkedListElemID[this.top],this.linkedListElemID[this.top-1]),this.cmd("Step"),this.cmd("Disconnect",this.topID,this.linkedListElemID[this.top-1])),this.cmd("Connect",this.topID,this.linkedListElemID[this.top]),this.cmd("Step"),this.top=this.top+1,this.resetLinkedListPositions(),this.cmd("Delete",e),this.cmd("Step"),this.commands}},{key:"pop",value:function(){this.commands=[];var t=this.nextIndex++,e=this.nextIndex++;return this.cmd("SetText",this.leftoverLabelID,""),this.cmd("CreateLabel",t,"Popped Value: ",50,30),this.cmd("CreateLabel",e,this.arrayData[this.top-1],100,200),this.cmd("Move",e,120,30),this.cmd("Step"),this.cmd("Disconnect",this.topID,this.linkedListElemID[this.top-1]),1===this.top?this.cmd("SetNull",this.topID,1):this.cmd("Connect",this.topID,this.linkedListElemID[this.top-2]),this.cmd("Step"),this.cmd("Delete",this.linkedListElemID[this.top-1]),this.top=this.top-1,this.resetLinkedListPositions(),this.cmd("Delete",e),this.cmd("Delete",t),this.cmd("SetText",this.leftoverLabelID,"Popped Value: "+this.arrayData[this.top]),this.commands}},{key:"clearAll",value:function(){this.commands=[];for(var t=0;t<this.top;t++)this.cmd("Delete",this.linkedListElemID[t]);return this.top=0,this.cmd("SetNull",this.topID,1),this.commands}}]),e}(p)],QueueArray:["Queue (Array)",mt],QueueLL:["Queue (LinkedList)",pt],DequeArray:["Deque (Array)",J],DequeLL:["Deque (LinkedList)",Q],BST:["Binary Search Tree",O],Heap:["Heaps / PQs",st],SkipList:["SkipList",Ct],ClosedHash:["HashMap (Probing)",X],OpenHash:["HashMap (Chaining)",ct],SplayTree:["SplayTree",Tt],AVL:["AVL",D],BTree:["2-4 Tree",w],BubbleSort:["Bubble Sort",G],CocktailSort:["Cocktail Shaker Sort",W],InsertionSort:["Insertion Sort",ht],SelectionSort:["Selection Sort",St],QuickSort:["QuickSort",xt],QuickSelect:["QuickSelect",bt],MergeSort:["MergeSort",ot],LSDRadix:["LSD Radix Sort",lt],BruteForce:["Brute Force",M],BoyerMoore:["Boyer-Moore",N],KMP:["KMP",at],RabinKarp:["Rabin-Karp",yt],BFS:["Breadth-First Search",F],DFS:["Depth-First Search",K],Dijkstra:["Dijkstra's",$],Prim:["Prim's",tt],Kruskal:["Kruskal's",nt],DPLCS:["LCS",q,"Dynamic Programming (Longest Common Subsequence)"],Floyd:["Floyd-Warshall",it]},Ft=function(t){return Object.keys(Et).includes(t)},At=i(0),Ot=i.n(At),jt={AVL:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"To cause a left rotation, add 1, 2 and 3, in that order"),Ot.a.createElement("li",null,"To cause a right rotation, add 3, 2 and 1, in that order"),Ot.a.createElement("li",null,"To cause a left-right rotation, add 3, 1 and 2, in that order"),Ot.a.createElement("li",null,"To cause a right-left rotation, add 1, 3 and 2, in that order")),BoyerMoore:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different first letter (for example, "aaaaaaaaa" for text and "baaaa" for pattern), since we will only mismatch on the last comparison')),BruteForce:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,'The worst case is when we have a text with only one letter and a pattern with that same letter, but a different last letter (for example, "aaaaaaaaa" for text and "aaaab" for pattern), since we will only mismatch on the last comparison')),BST:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"To get a degenerate BST, you can add ascending data, such as 1, 2, 3, ..."),Ot.a.createElement("li",null,"To get a full BST, you can add 2, 1, 4, 3, 5, in that order"),Ot.a.createElement("li",null,"To get a complete BST, you can add 3, 2, 4, 1, in that order"),Ot.a.createElement("li",null,"To get a full and complete BST, you can add 4, 2, 5, 1, 3, in that order")),BTree:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"To cause overflow and trigger a promotion, add more than 3 data (for example 1, 2, 3 and 4)"),Ot.a.createElement("li",null,"To remove from a leaf node, add 1, 2, 3 and 4, in that order, then remove 3 or 4"),Ot.a.createElement("li",null,"To remove from an inner node and use the predecessor, add 1, 3, 4, 5 and 2, in that order, then remove 3"),Ot.a.createElement("li",null,"To cause underflow and trigger a rotation/transfer, add 1, 2, 3 and 4, in that order, then remove 1"),Ot.a.createElement("li",null,"To cause underflow and trigger a fusion, follow the steps above then remove 2")),BubbleSort:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),Ot.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",Ot.a.createElement("p",{className:"equation",style:{marginTop:"-5px"}},"n + (n - 1) + (n - 2) + ... = n",Ot.a.createElement("sup",null,"2")),"comparisons)")),CocktailSort:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),Ot.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",Ot.a.createElement("p",{className:"equation",style:{marginTop:"-5px"}},"n + (n - 1) + (n - 2) + ... = n",Ot.a.createElement("sup",null,"2")),"comparisons)"),Ot.a.createElement("li",null,"Even though Cocktail Shaker Sort has the same big-O as Bubble Sort, it is still faster; one case where it significantly outperforms Bubble Sort is when we have a sorted array, except for the last element which is the smallest, for example [2, 3, 4, 5, 6, 7, 8, 9, 1]")),InsertionSort:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"The best case is when we have a sorted array (terminates if no swaps are made)"),Ot.a.createElement("li",null,"The worst case is when we have a reverse sorted array (we perform",Ot.a.createElement("p",{className:"equation",style:{marginTop:"-5px"}},"n + (n - 1) + (n - 2) + ... = n",Ot.a.createElement("sup",null,"2")),"comparisons)")),QuickSelect:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"The worst case occurs when we pick a bad pivot everytime (for example, the smallest or largest element), since we can no longer subvide the array")),QuickSort:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"The worst case occurs when we pick a bad pivot everytime (for example, the smallest or largest element), since we can no longer subvide the array and the algorithms becomes similar to Selection Sort")),SkipList:Ot.a.createElement("ul",null,Ot.a.createElement("li",null,"You can get a degenerate SkipList by always adding with a constant amount of heads (for example 0 or 4)"))},Bt=i(10),Ht=function t(e,i,s,h,n){Object(a.a)(this,t),this.objectID=e,this.fromX=i,this.fromY=s,this.toX=h,this.toY=n},Rt=function(){function t(){Object(a.a)(this,t)}return Object(n.a)(t,[{key:"addUndoAnimation",value:function(t){return!1}},{key:"undoInitialStep",value:function(t){}}]),t}(),wt=function(t){function e(t,i,s,h,n){var o;return Object(a.a)(this,e),(o=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,o.fromX=i,o.fromY=s,o.toX=h,o.toY=n,o}return Object(o.a)(e,t),Object(n.a)(e,[{key:"addUndoAnimation",value:function(t){var e=new Ht(this.objectID,this.fromX,this.fromY,this.toX,this.toY);return t.push(e),!0}}]),e}(Rt),Pt=function(t){function e(t){var i;return Object(a.a)(this,e),(i=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,i}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.removeObject(this.objectID)}}]),e}(Rt),Nt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.highlightValue=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setHighlight(this.objectID,this.highlightValue)}}]),e}(Rt),Mt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.height=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setHeight(this.objectID,this.height)}}]),e}(Rt),zt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.width=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setWidth(this.objectID,this.width)}}]),e}(Rt),Gt=function(t){function e(t,i){var s;if(Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t.objectID,s.sizeBeforeChange=t.getNumElements(),s.sizeAfterChange=i,s.sizeBeforeChange>s.sizeAfterChange){s.labels=new Array(s.sizeBeforeChange-s.sizeAfterChange),s.colors=new Array(s.sizeBeforeChange-s.sizeAfterChange);for(var h=0;h<s.sizeBeforeChange-s.sizeAfterChange;h++)s.labels[h]=t.getText(h+s.sizeAfterChange),s.colors[h]=t.getTextColor(h+s.sizeAfterChange)}return s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){if(t.setNumElements(this.objectID,this.sizeBeforeChange),this.sizeBeforeChange>this.sizeAfterChange)for(var e=0;e<this.sizeBeforeChange-this.sizeAfterChange;e++)t.setText(this.objectID,this.labels[e],e+this.sizeAfterChange),t.setTextColor(this.objectID,this.colors[e],e+this.sizeAfterChange)}}]),e}(Rt),Vt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.alphaVal=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setAlpha(this.objectID,this.alphaVal)}}]),e}(Rt),Yt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.nullVal=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setNull(this.objectID,this.nullVal)}}]),e}(Rt),Xt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.nullVal=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.SetPrevNull(this.objectID,this.nullVal)}}]),e}(Rt),Ut=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.nullVal=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.SetNextNull(this.objectID,this.nullVal)}}]),e}(Rt),Wt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.color=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setForegroundColor(this.objectID,this.color)}}]),e}(Rt),Kt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.color=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setBackgroundColor(this.objectID,this.color)}}]),e}(Rt),qt=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.index=i,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setHighlightIndex(this.objectID,this.index)}}]),e}(Rt),Jt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,h.newText=i,h.labelIndex=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setText(this.objectID,this.newText,this.labelIndex)}}]),e}(Rt),Qt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,h.color=i,h.index=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setTextColor(this.objectID,this.color,this.index)}}]),e}(Rt),Zt=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).fromID=t,h.toID=i,h.highlightValue=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setEdgeHighlight(this.fromID,this.toID,this.highlightValue)}}]),e}(Rt),$t=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).fromID=t,h.toID=i,h.color=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setEdgeColor(this.fromID,this.toID,this.color)}}]),e}(Rt),te=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).fromID=t,h.toID=i,h.alpha=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setEdgeAlpha(this.fromID,this.toID,this.alpha)}}]),e}(Rt),ee=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,h.x=i,h.y=s,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.setNodePosition(this.objectID,this.x,this.y)}}]),e}(Rt),ie=function(){function t(){Object(a.a)(this,t),this.events=[]}return Object(n.a)(t,[{key:"removeListener",value:function(t,e,i){if(null!=this.events[t]){var s,h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}if(null!=h)for(s=0;s<h.functions.length;s++)if(h.functions[s]===i)return void h.functions.splice(s,1)}}},{key:"addListener",value:function(t,e,i){var s;void 0===this.events[t]&&(this.events[t]=[]);var h=null;for(s=0;s<this.events[t].length;s++)if(this.events[t][s].scope===e){h=this.events[t][s];break}for(null===h&&(this.events[t].push({scope:e,functions:[]}),h=this.events[t][this.events[t].length-1]),s=0;s<h.functions.length;s++)if(h.functions[s]===i)return;h.functions.push(i)}},{key:"fireEvent",value:function(t,e){if(void 0!==this.events[t])for(var i=0;i<this.events[t].length;i++)for(var s=this.events[t][i],h=s.functions,a=s.scope,n=0;n<h.length;n++){h[n].call(a,e)}}}]),t}(),se=function(){function t(){Object(a.a)(this,t),this.backgroundColor="#FFFFFF",this.foregroundColor="#000000",this.highlighted=!1,this.objectID=-1,this.layer=0,this.addedToScene=!0,this.label="",this.labelColor="#000000",this.alpha=1,this.x=0,this.y=0,this.minHeightDiff=3,this.range=5,this.highlightIndex=-1,this.highlightIndexDirty=!0,this.alwaysOnTop=!1}return Object(n.a)(t,[{key:"setBackgroundColor",value:function(t){this.backgroundColor=t}},{key:"setNull",value:function(){}},{key:"getNull",value:function(){return!1}},{key:"setAlpha",value:function(t){this.alpha=t}},{key:"getAlpha",value:function(){return this.alpha}},{key:"setForegroundColor",value:function(t){this.foregroundColor=t,this.labelColor=t}},{key:"getHighlight",value:function(){return this.highlighted}},{key:"getWidth",value:function(){return 0}},{key:"getHeight",value:function(){return 0}},{key:"setHighlight",value:function(t,e){this.highlighted=t,this.highlightColor=null==e?"#ff0000":e}},{key:"centerX",value:function(){return this.x}},{key:"setWidth",value:function(){throw new Error("setWidth() should be implemented in a base class")}},{key:"centerY",value:function(){return this.y}},{key:"getAlignLeftPos",value:function(t){return[t.right()+this.getWidth()/2,t.centerY()]}},{key:"getAlignRightPos",value:function(t){return[t.left()-this.getWidth()/2,t.centerY()]}},{key:"getAlignTopPos",value:function(t){return[t.centerX(),t.top()-this.getHeight()/2]}},{key:"getAlignBottomPos",value:function(t){return[t.centerX(),t.bottom()+this.getHeight()/2]}},{key:"alignLeft",value:function(t){this.y=t.centerY(),this.x=t.right()+this.getWidth()/2}},{key:"alignRight",value:function(t){this.y=t.centerY(),this.x=t.left()-this.getWidth()/2}},{key:"alignTop",value:function(t){this.x=t.centerX(),this.y=t.top()-this.getHeight()/2}},{key:"alignBottom",value:function(t){this.x=t.centerX(),this.y=t.bottom()+this.getHeight()/2}},{key:"getClosestCardinalPoint",value:function(t,e){var i,s,h,a;return t<this.left()?(i=this.left()-t,h=this.left()):t>this.right()?(i=t-this.right(),h=this.right()):(i=0,h=this.centerX()),e<this.top()?(s=this.top()-e,a=this.top()):e>this.bottom()?(s=e-this.bottom(),a=this.bottom()):(s=0,a=this.centerY()),s>i?h=this.centerX():a=this.centerY(),[h,a]}},{key:"centered",value:function(){return!1}},{key:"pulseHighlight",value:function(t){if(this.highlighted){var e=t/7,i=Math.abs(e%(2*this.range-2)-this.range+1);this.highlightDiff=i+this.minHeightDiff}}},{key:"getTailPointerAttachPos",value:function(t,e,i){return[this.x,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,e){return[this.x,this.y]}},{key:"identifier",value:function(){return this.objectID}},{key:"getText",value:function(t){return this.label}},{key:"getTextColor",value:function(t){return this.labelColor}},{key:"setTextColor",value:function(t,e){this.labelColor=t}},{key:"setText",value:function(t,e){this.label=t}},{key:"setHighlightIndex",value:function(t){this.highlightIndex=t,this.highlightIndexDirty=!0}},{key:"getHighlightIndex",value:function(){return this.highlightIndex}}]),t}(),he=function(t){function e(t,i,s,h,n,o){var d;Object(a.a)(this,e),n=null==n?"#FFFFFF":n,o=null==o?"#000000":o,(d=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,d.backgroundColor=n,d.foregroundColor=o,d.widthPerElement=i,d.nodeHeight=s,d.numLabels=h,d.labels=new Array(d.numLabels),d.labelColors=new Array(d.numLabels);for(var c=0;c<d.numLabels;c++)d.labelColors[c]=d.foregroundColor;return d.MIN_WIDTH=10,d.EDGE_POINTER_DISPLACEMENT=5,d}return Object(o.a)(e,t),Object(n.a)(e,[{key:"getNumElements",value:function(){return this.numLabels}},{key:"getWidth",value:function(){return this.numLabels>0?this.widthPerElement*this.numLabels:this.MIN_WIDTH}},{key:"setNumElements",value:function(t){var e;if(this.numLabels<t){for(e=this.numLabels;e<t;e++)this.labels[e]="",this.labelColors[e]=this.foregroundColor;this.numLabels=t}else if(this.numLabels>t){for(e=t;e<this.numLabels;e++)this.labels[e]=null;this.numLabels=t}}},{key:"left",value:function(){return this.x-this.getWidth()/2}},{key:"right",value:function(){return this.x+this.getWidth()/2}},{key:"top",value:function(){return this.y-this.nodeHeight/2}},{key:"bottom",value:function(){return this.y+this.nodeHeight/2}},{key:"draw",value:function(t){var e;e=this.left(),isNaN(e)&&(e=0);var i=this.top();this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.getWidth()+this.highlightDiff,i+this.nodeHeight+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.nodeHeight+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.getWidth(),i),t.lineTo(e+this.getWidth(),i+this.nodeHeight),t.lineTo(e,i+this.nodeHeight),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.textBaseline="middle";for(var s=0;s<this.numLabels;s++){var h=this.x-this.widthPerElement*this.numLabels/2+this.widthPerElement/2+s*this.widthPerElement,a=this.y;t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],h,a)}}},{key:"getHeight",value:function(){return this.nodeHeight}},{key:"setForegroundColor",value:function(t){this.foregroundColor=t;for(var e=0;e<this.numLabels;e++)this.labelColor[e]=t}},{key:"getTailPointerAttachPos",value:function(t,i,s){return 0===s?[this.left()+e.EDGE_POINTER_DISPLACEMENT,this.y]:s===this.numLabels?[this.right()-e.EDGE_POINTER_DISPLACEMENT,this.y]:[this.left()+s*this.widthPerElement,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,e){return e<this.y-this.nodeHeight/2?[this.x,this.y-this.nodeHeight/2]:this.fromY>this.y+this.nodeHeight/2?[this.x,this.y+this.nodeHeight/2]:t<this.x-this.getWidth()/2?[this.x-this.getWidth()/2,this.y]:[this.x+this.getWidth()/2,this.y]}},{key:"createUndoDelete",value:function(){return new ae(this.objectID,this.numLabels,this.labels,this.x,this.y,this.widthPerElement,this.nodeHeight,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.highlighted)}},{key:"getTextColor",value:function(t){return t=null==t?0:t,this.labelColors[t]}},{key:"getText",value:function(t){return t=null==t?0:t,this.labels[t]}},{key:"setTextColor",value:function(t,e){e=null==e?0:e,this.labelColors[e]=t}},{key:"setText",value:function(t,e){e=null==e?0:e,this.labels[e]=t}}]),e}(se),ae=function(t){function e(t,i,s,h,n,o,d,c,u,m,g,p){var I;return Object(a.a)(this,e),(I=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,I.posX=h,I.posY=n,I.widthPerElem=o,I.nodeHeight=d,I.backgroundColor=u,I.foregroundColor=m,I.numElems=i,I.labels=s,I.labelColors=c,I.layer=g,I.highlighted=p,I}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addBTreeNode(this.objectID,this.widthPerElem,this.nodeHeight,this.numElems,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.posX,this.posY);for(var e=0;e<this.numElems;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e);t.setHighlight(this.objectID,this.highlighted),t.setLayer(this.objectID,this.layer)}}]),e}(Rt),ne=function(t){function e(t,i){var s;return Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,s.label=i,s.radius=20,s.thickness=3,s.x=0,s.y=0,s.alpha=1,s.addedToScene=!0,s.highlightIndex=-1,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"getTailPointerAttachPos",value:function(t,e){return this.getHeadPointerAttachPos(t,e)}},{key:"getWidth",value:function(){return 2*this.radius}},{key:"setWidth",value:function(t){this.radius=t/2}},{key:"getHeadPointerAttachPos",value:function(t,e){var i=t-this.x,s=e-this.y,h=Math.sqrt(i*i+s*s);return 0===h?[this.x,this.y]:[this.x+i/h*this.radius,this.y+s/h*this.radius]}},{key:"setHighlightIndex",value:function(t){this.highlightIndex=t,this.highlightIndexDirty=!0}},{key:"draw",value:function(t){t.globalAlpha=this.alpha,this.highlighted&&(t.fillStyle=this.highlightColor,t.beginPath(),t.arc(this.x,this.y,this.radius+this.highlightDiff,0,2*Math.PI,!0),t.closePath(),t.fill()),t.fillStyle=this.backgroundColor,t.strokeStyle=this.foregroundColor,t.lineWidth=1,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke(),t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,t.fillStyle=this.foregroundColor;var e=this.label.split("\n");if(1===e.length)if(this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.textWidth=t.measureText(this.label).width,this.highlightIndexDirty=!1),-1!==this.highlightIndex&&this.highlightIndex<this.label.length){var i=this.x-this.textWidth/2;t.textAlign="left";var s=this.label.substring(0,this.highlightIndex),h=this.label.substring(this.highlightIndex,this.highlightIndex+1),a=this.label.substring(this.highlightIndex+1);t.fillText(s,i,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(h,i+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(a,i+this.leftWidth+this.centerWidth,this.y)}else t.fillText(this.label,this.x,this.y);else if(e.length%2===0)for(var n=e.length/2,l=0;l<e.length/2;l++)t.fillText(e[n-l-1],this.x,this.y-12*(l+.5)),t.fillText(e[n+l],this.x,this.y+12*(l+.5));else{var r=(e.length-1)/2;t.fillText(e[r],this.x,this.y);for(var o=0;o<r;o++)t.fillText(e[r-(o+1)],this.x,this.y-12*(o+1)),t.fillText(e[r+(o+1)],this.x,this.y+12*(o+1))}}},{key:"createUndoDelete",value:function(){return new le(this.objectID,this.label,this.x,this.y,this.foregroundColor,this.backgroundColor,this.layer,this.radius)}}]),e}(se),le=function(t){function e(t,i,s,h,n,o,d,c){var u;return Object(a.a)(this,e),(u=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,u.posX=s,u.posY=h,u.nodeLabel=i,u.fgColor=n,u.bgColor=o,u.layer=d,u.radius=c,u}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addCircleObject(this.objectID,this.nodeLabel),t.setWidth(this.objectID,2*this.radius),t.setNodePosition(this.objectID,this.posX,this.posY),t.setForegroundColor(this.objectID,this.fgColor),t.setBackgroundColor(this.objectID,this.bgColor),t.setLayer(this.objectID,this.layer)}}]),e}(Rt),re=function(t){function e(t,i,s,h,n,o,d,c){var u;Object(a.a)(this,e),(u=Object(l.a)(this,Object(r.a)(e).call(this))).w=s,u.h=h,u.backgroundColor=d,u.foregroundColor=c,u.linkPercent=n,u.numLabels=o,u.labels=[],u.labelPosX=[],u.labelPosY=[],u.labelColors=[],u.nullPointer=!1,u.currentHeightDif=6,u.maxHeightDiff=5,u.minHeightDiff=3;for(var m=0;m<u.numLabels;m++)u.labels[m]="",u.labelPosX[m]=0,u.labelPosY[m]=0,u.labelColors[m]=u.foregroundColor;return u.labels[0]=i,u.highlighted=!1,u.objectID=t,u}return Object(o.a)(e,t),Object(n.a)(e,[{key:"setNull",value:function(t){this.nullPointer!==t&&(this.nullPointer=t)}},{key:"getNull",value:function(){return this.nullPointer}},{key:"left",value:function(){return this.x-this.w*(1-this.linkPercent)/2}},{key:"right",value:function(){return this.x+this.w*(this.linkPercent+1)/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosY[0]=this.y,this.labelPosX[0]=this.x+this.w*(1-this.linkPercent)/2*(1/this.numLabels-1);for(var t=1;t<this.numLabels;t++)this.labelPosY[t]=this.y,this.labelPosX[t]=this.labelPosX[t-1]+this.w*(1-this.linkPercent)/this.numLabels}},{key:"getTailPointerAttachPos",value:function(){return[this.x+this.w/2,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,e){return t<this.x?this.getClosestCardinalPoint(t,e):[this.x,this.bottom()]}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var e,i,s;for(e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),i=this.top(),s=1;s<this.numLabels;s++)e=this.x+this.w*(1-this.linkPercent)*(s/this.numLabels-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+this.h),t.closePath(),t.stroke();for(e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke(),t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,this.resetTextPosition(),s=0;s<this.numLabels;s++)t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],this.labelPosX[s],this.labelPosY[s])}},{key:"setTextColor",value:function(t,e){this.labelColors[e]=t}},{key:"getTextColor",value:function(t){return this.labelColors[t]}},{key:"getText",value:function(t){return this.labels[t]}},{key:"setText",value:function(t,e){this.labels[e]=t,this.resetTextPosition()}},{key:"createUndoDelete",value:function(){return new oe(this.objectID,this.numLabels,this.labels,this.x,this.y,this.w,this.h,this.linkPercent,this.linkPositionEnd,this.vertical,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.nullPointer)}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}}]),e}(se),oe=function(t){function e(t,i,s,h,n,o,d,c,u,m,g,p,I){var D;return Object(a.a)(this,e),(D=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,D.posX=h,D.posY=n,D.width=o,D.height=d,D.backgroundColor=m,D.foregroundColor=g,D.labels=s,D.linkPercent=c,D.labelColors=u,D.layer=p,D.numLabels=i,D.nullPointer=I,D}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addLinkedListObject(this.objectID,this.labels[0],this.width,this.height,this.linkPercent,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.posX,this.posY),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer);for(var e=0;e<this.numLabels;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e)}}]),e}(Rt),de=function(t){function e(t,i,s,h,n,o,d,c){var u;Object(a.a)(this,e),(u=Object(l.a)(this,Object(r.a)(e).call(this))).w=s,u.h=h,u.backgroundColor=d,u.foregroundColor=c,u.linkPercent=n,u.numLabels=o,u.labels=[],u.labelPosX=[],u.labelPosY=[],u.labelColors=[],u.prevNullPointer=!1,u.nextNullPointer=!1,u.currentHeightDif=6,u.maxHeightDiff=5,u.minHeightDiff=3;for(var m=0;m<u.numLabels;m++)u.labels[m]="",u.labelPosX[m]=0,u.labelPosY[m]=0,u.labelColors[m]=u.foregroundColor;return u.labels[0]=i,u.highlighted=!1,u.objectID=t,u}return Object(o.a)(e,t),Object(n.a)(e,[{key:"setPrevNull",value:function(t){this.prevNullPointer!==t&&(this.prevNullPointer=t)}},{key:"setNextNull",value:function(t){this.nextNullPointer!==t&&(this.nextNullPointer=t)}},{key:"getLeftNull",value:function(){return this.prevNullPointer}},{key:"getRightNull",value:function(){return this.nextNullPointer}},{key:"left",value:function(){return this.x-this.w*(1-this.linkPercent)/2}},{key:"right",value:function(){return this.x+this.w*(this.linkPercent+1)/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosY[0]=this.y,this.labelPosX[0]=this.left()+this.w*(2*this.linkPercent);for(var t=1;t<this.numLabels;t++)this.labelPosY[t]=this.y,this.labelPosX[t]=this.labelPosX[t-1]+this.w*(1-this.linkPercent)/this.numLabels}},{key:"getTailPointerAttachPos",value:function(t,e,i){return 0===i?[this.x+this.w/2,this.y-.2*this.h]:[this.left()+this.w*this.linkPercent/2,this.y+.2*this.h]}},{key:"getHeadPointerAttachPos",value:function(t,e){var i=this.getClosestCardinalPoint(t,e);return i[1]===this.y?i[0]===this.left()?[i[0],this.y-.2*this.h]:[i[0],this.y+.2*this.h]:[i[0],i[1]]}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var e,i,s;for(e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),i=this.top(),s=1;s<this.numLabels;s++)e=this.x+this.w*(1-this.linkPercent)*(s/this.numLabels-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+this.h),t.closePath(),t.stroke();for(e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.prevNullPointer&&(t.moveTo(this.left(),i),t.lineTo(this.left()+this.w*this.linkPercent,i+this.h)),t.closePath(),t.stroke(),e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nextNullPointer&&(t.moveTo(this.right()-this.w*this.linkPercent,i),t.lineTo(this.right(),i+this.h)),t.closePath(),t.stroke(),t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,this.resetTextPosition(),s=0;s<this.numLabels;s++)t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],this.labelPosX[s],this.labelPosY[s])}},{key:"setTextColor",value:function(t,e){this.labelColors[e]=t}},{key:"getTextColor",value:function(t){return this.labelColors[t]}},{key:"getText",value:function(t){return this.labels[t]}},{key:"setText",value:function(t,e){this.labels[e]=t,this.resetTextPosition()}},{key:"createUndoDelete",value:function(){return new ce(this.objectID,this.numLabels,this.labels,this.x,this.y,this.w,this.h,this.linkPercent,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.prevNullPointer,this.nextNullPointer)}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}}]),e}(se),ce=function(t){function e(t,i,s,h,n,o,d,c,u,m,g,p,I,D){var b;return Object(a.a)(this,e),(b=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,b.posX=h,b.posY=n,b.width=o,b.height=d,b.backgroundColor=m,b.foregroundColor=g,b.labels=s,b.linkPercent=c,b.labelColors=u,b.layer=p,b.numLabels=i,b.prevNullPointer=I,b.nextNullPointer=D,b}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addDoublyLinkedListObject(this.objectID,this.labels[0],this.width,this.height,this.linkPercent,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.posX,this.posY),t.setLayer(this.objectID,this.layer),t.setPrevNull(this.objectID,this.prevNullPointer),t.setNextNull(this.objectID,this.nextNullPointer);for(var e=0;e<this.numLabels;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e)}}]),e}(Rt),ue=function(t){function e(t,i,s,h){var n;return Object(a.a)(this,e),(n=Object(l.a)(this,Object(r.a)(e).call(this))).centering=s,n.label=i,n.highlighted=!1,n.objectID=t,n.alpha=1,n.addedToScene=!0,n.labelColor="#000000",n.textWidth=0,null!=h&&(n.textWidth=h),n.leftWidth=-1,n.centerWidth=-1,n.highlightIndex=-1,n.alwaysOnTop=!0,n}return Object(o.a)(e,t),Object(n.a)(e,[{key:"centered",value:function(){return this.centering}},{key:"draw",value:function(t){if(this.addedToScene){t.globalAlpha=this.alpha,t.font="10px sans-serif";var e=this.x;this.highlightIndex>=this.label.length&&(this.highlightIndex=-1),this.highlightIndexDirty&&-1!==this.highlightIndex&&(this.leftWidth=t.measureText(this.label.substring(0,this.highlightIndex)).width,this.centerWidth=t.measureText(this.label.substring(this.highlightIndex,this.highlightIndex+1)).width,this.highlightIndexDirty=!1),this.centering?-1!==this.highlightIndex?(e=this.x-this.width/2,t.textAlign="left",t.textBaseline="middle"):(t.textAlign="center",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="top"),this.highlighted&&(t.strokeStyle="#ffaaaa",t.fillStyle="#ff0000",t.lineWidth=this.highlightDiff,t.strokeText(this.label,this.x,this.y)),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.lineWidth=1;var i=this.label.split("\n");if(1===i.length)if(-1===this.highlightIndex)t.fillText(this.label,this.x,this.y);else{var s=this.label.substring(0,this.highlightIndex),h=this.label.substring(this.highlightIndex,this.highlightIndex+1),a=this.label.substring(this.highlightIndex+1);t.fillText(s,e,this.y),t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.fillText(h,e+this.leftWidth,this.y),t.strokeStyle=this.labelColor,t.fillStyle=this.labelColor,t.fillText(a,e+this.leftWidth+this.centerWidth,this.y)}else for(var n=this.centering?(1-i.length)/2:0,l=0;l<i.length;l++)t.fillText(i[l],this.x,this.y+n+12*l);t.closePath()}}},{key:"getAlignLeftPos",value:function(t){return this.centering?[t.left()-this.textWidth/2,this.y=t.centerY()]:[t.left()-this.textWidth,t.centerY()-5]}},{key:"alignLeft",value:function(t){this.centering?(this.y=t.centerY(),this.x=t.left()-this.textWidth/2):(this.y=t.centerY()-5,this.x=t.left()-this.textWidth)}},{key:"alignRight",value:function(t){this.centering?(this.y=t.centerY(),this.x=t.right()+this.textWidth/2):(this.y=t.centerY()-5,this.x=t.right())}},{key:"getAlignRightPos",value:function(t){return this.centering?[t.right()+this.textWidth/2,t.centerY()]:[t.right(),t.centerY()-5]}},{key:"alignTop",value:function(t){this.centering?(this.y=t.top()-5,this.x=t.centerX()):(this.y=t.top()-10,this.x=t.centerX()-this.textWidth/2)}},{key:"getAlignTopPos",value:function(t){return this.centering?[t.centerX(),t.top()-5]:[t.centerX()-this.textWidth/2,t.top()-10]}},{key:"alignBottom",value:function(t){this.centering?(this.y=t.bottom()+5,this.x=t.centerX()):(this.y=t.bottom(),this.x=t.centerX()-this.textWidth/2)}},{key:"getAlignBottomPos",value:function(t){return this.centering?[t.centerX(),t.bottom()+5]:[t.centerX()-this.textWidth/2,t.bottom()]}},{key:"getWidth",value:function(){return this.textWidth}},{key:"getHeight",value:function(){return 10}},{key:"setHighlight",value:function(t){this.highlighted=t}},{key:"createUndoDelete",value:function(){return new me(this.objectID,this.label,this.x,this.y,this.centering,this.labelColor,this.layer,this.highlightIndex)}},{key:"centerX",value:function(){return this.centering?this.x:this.x+this.textWidth}},{key:"centerY",value:function(){return this.centering?this.y:this.y+5}},{key:"top",value:function(){return this.centering?this.y-5:this.y}},{key:"bottom",value:function(){return this.centering?this.y+5:this.y+10}},{key:"right",value:function(){return this.centering?this.x+this.textWidth/2:this.x+this.textWidth}},{key:"left",value:function(){return this.centering?this.x-this.textWidth/2:this.x}},{key:"setHighlightIndex",value:function(t){-1===this.label.indexOf("\n")&&this.label.length>t?(this.highlightIndex=t,this.highlightIndexDirty=!0):this.highlightIndex=-1}},{key:"getTailPointerAttachPos",value:function(t,e){return this.getClosestCardinalPoint(t,e)}},{key:"getHeadPointerAttachPos",value:function(t,e){return this.getClosestCardinalPoint(t,e)}},{key:"setText",value:function(t,e,i){this.label=t,null!=i&&(this.textWidth=i)}}]),e}(se),me=function(t){function e(t,i,s,h,n,o,d,c){var u;return Object(a.a)(this,e),(u=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,u.posX=s,u.posY=h,u.nodeLabel=i,u.labCentered=n,u.labelColor=o,u.layer=d,u.highlightIndex=c,u.dirty=!0,u}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addLabelObject(this.objectID,this.nodeLabel,this.labCentered),t.setNodePosition(this.objectID,this.posX,this.posY),t.setForegroundColor(this.objectID,this.labelColor),t.setLayer(this.objectID,this.layer)}}]),e}(Rt),ge=function(t){function e(t,i,s,h,n,o,d,c,u,m){var g;Object(a.a)(this,e),(g=Object(l.a)(this,Object(r.a)(e).call(this))).w=s,g.h=h,g.backgroundColor=u,g.foregroundColor=m,g.vertical=o,g.linkPositionEnd=d,g.linkPercent=n,g.numLabels=c,g.labels=[],g.labelPosX=[],g.labelPosY=[],g.labelColors=[],g.nullPointer=!1,g.currentHeightDif=6,g.maxHeightDiff=5,g.minHeightDiff=3;for(var p=0;p<g.numLabels;p++)g.labels[p]="",g.labelPosX[p]=0,g.labelPosY[p]=0,g.labelColors[p]=g.foregroundColor;return g.labels[0]=i,g.highlighted=!1,g.objectID=t,g}return Object(o.a)(e,t),Object(n.a)(e,[{key:"left",value:function(){return this.vertical?this.x-this.w/2:this.linkPositionEnd?this.x-this.w*(1-this.linkPercent)/2:this.x-this.w*(this.linkPercent+1)/2}},{key:"setNull",value:function(t){this.nullPointer!==t&&(this.nullPointer=t)}},{key:"getNull",value:function(){return this.nullPointer}},{key:"right",value:function(){return this.vertical?this.x+this.w/2:this.linkPositionEnd?this.x+this.w*(this.linkPercent+1)/2:this.x+this.w*(1-this.linkPercent)/2}},{key:"top",value:function(){return this.vertical?this.linkPositionEnd?this.y-this.h*(1-this.linkPercent)/2:this.y-this.h*(1+this.linkPercent)/2:this.y-this.h/2}},{key:"bottom",value:function(){return this.vertical?this.linkPositionEnd?this.y+this.h*(1+this.linkPercent)/2:this.y+this.h*(1-this.linkPercent)/2:this.y+this.h/2}},{key:"resetTextPosition",value:function(){if(this.vertical){this.labelPosX[0]=this.x,this.labelPosY[0]=this.y+this.h*(1-this.linkPercent)/2*(1/this.numLabels-1);for(var t=1;t<this.numLabels;t++)this.labelPosY[t]=this.labelPosY[t-1]+this.h*(1-this.linkPercent)/this.numLabels,this.labelPosX[t]=this.x}else{this.labelPosY[0]=this.y,this.labelPosX[0]=this.x+this.w*(1-this.linkPercent)/2*(1/this.numLabels-1);for(var e=1;e<this.numLabels;e++)this.labelPosY[e]=this.y,this.labelPosX[e]=this.labelPosX[e-1]+this.w*(1-this.linkPercent)/this.numLabels}}},{key:"getTailPointerAttachPos",value:function(t,e,i){return this.vertical&&this.linkPositionEnd?[this.x,this.y+this.h/2]:this.vertical&&!this.linkPositionEnd?[this.x,this.y-this.h/2]:!this.vertical&&this.linkPositionEnd?[this.x+this.w/2,this.y]:[this.x-this.w/2,this.y]}},{key:"getHeadPointerAttachPos",value:function(t,e){return this.getClosestCardinalPoint(t,e)}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var e,i,s;if(e=this.left(),i=this.top(),this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.vertical)for(e=this.left(),s=1;s<this.numLabels;s++)i=this.y+this.h*(1-this.linkPercent)*(s/this.numLabels-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.closePath(),t.stroke();else for(i=this.top(),s=1;s<this.numLabels;s++)e=this.x+this.w*(1-this.linkPercent)*(s/this.numLabels-.5),t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+this.h),t.closePath(),t.stroke();for(this.vertical&&this.linkPositionEnd?(e=this.left(),i=this.bottom()-this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.startX+this.w,this.bottom()),t.closePath(),t.stroke()):this.vertical&&!this.linkPositionEnd?(e=this.left(),i=this.top()+this.h*this.linkPercent,t.beginPath(),t.moveTo(e+this.w,i),t.lineTo(e,i),this.nullPointer&&t.lineTo(e+this.w,this.top()),t.closePath(),t.stroke()):!this.vertical&&this.linkPositionEnd?(e=this.right()-this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.right(),i+this.h),t.closePath(),t.stroke()):(e=this.left()+this.w*this.linkPercent,i=this.top(),t.beginPath(),t.moveTo(e,i+this.h),t.lineTo(e,i),this.nullPointer&&t.lineTo(this.left(),i),t.closePath(),t.stroke()),t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,this.resetTextPosition(),s=0;s<this.numLabels;s++)t.fillStyle=this.labelColors[s],t.fillText(this.labels[s],this.labelPosX[s],this.labelPosY[s])}},{key:"setTextColor",value:function(t,e){this.labelColors[e]=t}},{key:"getTextColor",value:function(t){return this.labelColors[t]}},{key:"getText",value:function(t){return this.labels[t]}},{key:"setText",value:function(t,e){this.labels[e]=t,this.resetTextPosition()}},{key:"createUndoDelete",value:function(){return new pe(this.objectID,this.numLabels,this.labels,this.x,this.y,this.w,this.h,this.linkPercent,this.linkPositionEnd,this.vertical,this.labelColors,this.backgroundColor,this.foregroundColor,this.layer,this.nullPointer)}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}}]),e}(se),pe=function(t){function e(t,i,s,h,n,o,d,c,u,m,g,p,I,D,b){var f;return Object(a.a)(this,e),(f=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,f.posX=h,f.posY=n,f.width=o,f.height=d,f.backgroundColor=p,f.foregroundColor=I,f.labels=s,f.linkPercent=c,f.verticalOrentation=m,f.linkAtEnd=u,f.labelColors=g,f.layer=D,f.numLabels=i,f.nullPointer=b,f}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addLinkedListObject(this.objectID,this.labels[0],this.width,this.height,this.linkPercent,this.verticalOrentation,this.linkAtEnd,this.numLabels,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.posX,this.posY),t.setLayer(this.objectID,this.layer),t.setNull(this.objectID,this.nullPointer);for(var e=0;e<this.numLabels;e++)t.setText(this.objectID,this.labels[e],e),t.setTextColor(this.objectID,this.labelColors[e],e)}}]),e}(Rt),Ie=function(t){function e(t,i,s,h,n,o,d,c){var u;return Object(a.a)(this,e),(u=Object(l.a)(this,Object(r.a)(e).call(this))).w=s,u.h=h,u.xJustify=n,u.yJustify=o,u.label=i,u.labelColor=c,u.backgroundColor=d,u.foregroundColor=c,u.labelColor=u.foregroundColor,u.highlighted=!1,u.objectID=t,u.nullPointer=!1,u.alpha=1,u.addedToScene=!0,u}return Object(o.a)(e,t),Object(n.a)(e,[{key:"setNull",value:function(t){this.nullPointer=t}},{key:"getNull",value:function(){return this.nullPointer}},{key:"left",value:function(){return"left"===this.xJustify?this.x:"center"===this.xJustify?this.x-this.w/2:this.x-this.w}},{key:"centerX",value:function(){return"center"===this.xJustify?this.x:"left"===this.xJustify?this.x+this.w/2:this.x-this.w/2}},{key:"centerY",value:function(){return"center"===this.yJustify?this.y:"top"===this.yJustify?this.y+this.h/2:this.y-this.w/2}},{key:"top",value:function(){return"top"===this.yJustify?this.y:"center"===this.yJustify?this.y-this.h/2:this.y-this.h}},{key:"bottom",value:function(){return"top"===this.yJustify?this.y+this.h:"center"===this.yJustify?this.y+this.h/2:this.y}},{key:"right",value:function(){return"left"===this.xJustify?this.x+this.w:"center"===this.xJustify?this.x+this.w/2:this.x}},{key:"getHeadPointerAttachPos",value:function(t,e){return this.getClosestCardinalPoint(t,e)}},{key:"getTailPointerAttachPos",value:function(t,e,i){switch(i){case 0:return this.getClosestCardinalPoint(t,e);case 1:return[this.x,this.top()];case 2:return[this.x,this.bottom()];case 3:return[this.left(),this.y];case 4:return[this.right(),this.y];default:return null}}},{key:"setWidth",value:function(t){this.w=t}},{key:"setHeight",value:function(t){this.h=t}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var e,i;this.addedToScene&&(t.globalAlpha=this.alpha,"left"===this.xJustify?(e=this.x,this.x,this.w):"center"===this.xJustify?(e=this.x-this.w/2,this.x):"right"===this.xJustify&&(e=this.x-this.w,this.x,this.w),"top"===this.yJustify?(i=this.y,this.y,this.h):"center"===this.yJustify?(i=this.y-this.h/2,this.y):"bottom"===this.yJustify&&(i=this.y-this.h,this.y,this.h),t.lineWidth=1,this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.foregroundColor,t.fillStyle=this.backgroundColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),this.nullPointer&&(t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i+this.h),t.closePath(),t.stroke()),t.fillStyle=this.labelColor,t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,t.fillText(this.label,this.x,this.y))}},{key:"setText",value:function(t,e){this.label=t}},{key:"createUndoDelete",value:function(){return new De(this.objectID,this.label,this.x,this.y,this.w,this.h,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor,this.highlighted,this.layer)}},{key:"setHighlight",value:function(t){this.highlighted=t}}]),e}(se),De=function(t){function e(t,i,s,h,n,o,d,c,u,m,g,p){var I;return Object(a.a)(this,e),(I=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,I.posX=s,I.posY=h,I.width=n,I.height=o,I.xJustify=d,I.yJustify=c,I.backgroundColor=u,I.foregroundColor=m,I.nodeLabel=i,I.layer=p,I.highlighted=g,I}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addRectangleObject(this.objectID,this.nodeLabel,this.width,this.height,this.xJustify,this.yJustify,this.backgroundColor,this.foregroundColor),t.setNodePosition(this.objectID,this.posX,this.posY),t.setLayer(this.objectID,this.layer),t.setHighlight(this.objectID,this.highlighted)}}]),e}(Rt),be=function(t){function e(t,i,s,h,n,o,d){var c;return Object(a.a)(this,e),(c=Object(l.a)(this,Object(r.a)(e).call(this))).w=s,c.h=h,c.fillColor=o,c.edgeColor=d,c.label=i,c.labelPosX=0,c.labelPosY=0,c.labelColor=n,c.highlighted=!1,c.objectID=t,c}return Object(o.a)(e,t),Object(n.a)(e,[{key:"left",value:function(){return this.x-this.w/2}},{key:"right",value:function(){return this.x+this.w/2}},{key:"top",value:function(){return this.y-this.h/2}},{key:"bottom",value:function(){return this.y+this.h/2}},{key:"resetTextPosition",value:function(){this.labelPosY=this.y,this.labelPosX=this.x}},{key:"getTailPointerAttachPos",value:function(t,e,i){switch(i){case 0:return[this.x,this.top()];case 1:return[this.x,this.bottom()];case 2:return[this.left(),this.y];case 3:return[this.right(),this.y];default:return}}},{key:"getHeadPointerAttachPos",value:function(t,e){return this.getClosestCardinalPoint(t,e)}},{key:"setWidth",value:function(t){this.w=t,this.resetTextPosition()}},{key:"setHeight",value:function(t){this.h=t,this.resetTextPosition()}},{key:"getWidth",value:function(){return this.w}},{key:"getHeight",value:function(){return this.h}},{key:"draw",value:function(t){var e=this.left(),i=this.top();this.highlighted&&(t.strokeStyle="#ff0000",t.fillStyle="#ff0000",t.beginPath(),t.moveTo(e-this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i-this.highlightDiff),t.lineTo(e+this.w+this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i+this.h+this.highlightDiff),t.lineTo(e-this.highlightDiff,i-this.highlightDiff),t.closePath(),t.stroke(),t.fill()),t.strokeStyle=this.edgeColor,t.fillStyle=this.fillColor,t.beginPath(),t.moveTo(e,i),t.lineTo(e+this.w,i),t.lineTo(e+this.w,i+this.h),t.lineTo(e,i+this.h),t.lineTo(e,i),t.closePath(),t.stroke(),t.fill(),t.textAlign="center",t.font="10px sans-serif",t.textBaseline="middle",t.lineWidth=1,this.resetTextPosition(),t.fillStyle=this.labelColor,"\u2212\u221e"!==this.label&&"\u221e"!==this.label||(t.font="18px Arial"),t.fillText(this.label,this.labelPosX,this.labelPosY)}},{key:"setTextColor",value:function(t){this.labelColor=t}},{key:"getTextColor",value:function(){return this.labelColor}},{key:"getText",value:function(){return this.label}},{key:"setText",value:function(t){this.label=t,this.resetTextPosition()}},{key:"createUndoDelete",value:function(){return new fe(this.objectID,this.label,this.w,this.h,this.x,this.y,this.labelColor,this.fillColor,this.edgeColor,this.layer)}},{key:"setHighlight",value:function(t){t!==this.highlighted&&(this.highlighted=t)}}]),e}(se),fe=function(t){function e(t,i,s,h,n,o,d,c,u,m){var g;return Object(a.a)(this,e),(g=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,g.label=i,g.w=s,g.h=h,g.x=n,g.y=o,g.labelColor=d,g.fillColor=c,g.edgeColor=u,g.layer=m,g}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addSkipListObject(this.objectID,this.label,this.w,this.h,this.labelColor,this.fillColor,this.edgeColor),t.setNodePosition(this.objectID,this.x,this.y),t.setLayer(this.objectID,this.layer)}}]),e}(Rt),ve=function(t){function e(t,i,s){var h;return Object(a.a)(this,e),(h=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,h.radius=s,h.thickness=4,h.foregroundColor=i,h.x=0,h.y=0,h.alpha=1,h}return Object(o.a)(e,t),Object(n.a)(e,[{key:"draw",value:function(t){t.globalAlpha=this.alpha,t.strokeStyle=this.foregroundColor,t.lineWidth=this.thickness,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.closePath(),t.stroke()}},{key:"createUndoDelete",value:function(){return new xe(this.objectID,this.x,this.y,this.foregroundColor,this.radius,this.layer,this.alpha)}}]),e}(se),xe=function(t){function e(t,i,s,h,n,o,d){var c;return Object(a.a)(this,e),(c=Object(l.a)(this,Object(r.a)(e).call(this))).objectID=t,c.x=i,c.y=s,c.color=h,c.r=n,c.layer=o,c.alpha=d,c}return Object(o.a)(e,t),Object(n.a)(e,[{key:"undoInitialStep",value:function(t){t.addHighlightCircleObject(this.objectID,this.color,this.r),t.setLayer(this.objectID,this.layer),t.setNodePosition(this.objectID,this.x,this.y),t.setAlpha(this.objectID,this.alpha)}}]),e}(Rt),ye=function(){function t(e,i,s,h,n,l,r){Object(a.a)(this,t),this.arrowHeight=8,this.arrowWidth=4,this.Node1=e,this.Node2=i,this.Dirty=!1,this.directed=n,this.edgeColor=s,this.edgeLabel=l,this.highlighted=!1,this.addedToScene=!0,this.anchorPoint=r,this.highlightDiff=0,this.curve=h,this.alpha=1}return Object(n.a)(t,[{key:"color",value:function(){return this.edgeColor}},{key:"setColor",value:function(t){this.edgeColor=t,this.Dirty=!0}},{key:"setHighlight",value:function(t){this.highlighted=t}},{key:"pulseHighlight",value:function(t){if(this.highlighted){var e=t/14,i=Math.abs(e%4-3+1);this.highlightDiff=i+3,this.Dirty=!0}}},{key:"hasNode",value:function(t){return this.Node1===t||this.Node2===t}},{key:"createUndoDisconnect",value:function(){return new Se(this.Node1.objectID,this.Node2.objectID,!0,this.edgeColor,this.directed,this.curve,this.edgeLabel,this.anchorPoint)}},{key:"sign",value:function(t){return t>0?1:-1}},{key:"drawArrow",value:function(t,e,i){i.strokeStyle=e,i.fillStyle=e,i.lineWidth=t;var s=this.Node1.getTailPointerAttachPos(this.Node2.x,this.Node2.y,this.anchorPoint),h=this.Node2.getHeadPointerAttachPos(this.Node1.x,this.Node1.y),a=h[0]-s[0],n=h[1]-s[1],l=a/2+s[0],r=n/2+s[1],o=l-n*this.curve,d=r+a*this.curve;i.beginPath(),i.moveTo(s[0],s[1]),i.quadraticCurveTo(o,d,h[0],h[1]),i.stroke();var c=.25*s[0]+.5*o+.25*h[0],u=.25*s[1]+.5*d+.25*h[1],m=Math.sqrt(n*n+a*a);if(0!==m&&(c+=-n*this.sign(this.curve)/m*10,u+=a*this.sign(this.curve)/m*10),i.textAlign="center",i.font="10px sans-serif",i.textBaseline="middle",i.fillText(this.edgeLabel,c,u),this.directed){var g=o-h[0],p=d-h[1],I=Math.sqrt(g*g+p*p);I>0&&(g/=I,p/=I,i.beginPath(),i.moveTo(h[0],h[1]),i.lineTo(h[0]+g*this.arrowHeight-p*this.arrowWidth,h[1]+p*this.arrowHeight+g*this.arrowWidth),i.lineTo(h[0]+g*this.arrowHeight+p*this.arrowWidth,h[1]+p*this.arrowHeight-g*this.arrowWidth),i.lineTo(h[0],h[1]),i.closePath(),i.stroke(),i.fill())}}},{key:"draw",value:function(t){this.addedToScene&&(t.globalAlpha=this.alpha,this.highlighted&&this.drawArrow(this.highlightDiff,"#FF0000",t),this.drawArrow(1,this.edgeColor,t))}}]),t}(),Se=function(){function t(e,i,s,h,n,l,r,o){Object(a.a)(this,t),this.fromID=e,this.toID=i,this.connect=s,this.color=h,this.directed=n,this.curve=l,this.edgeLabel=r,this.anchorPoint=o}return Object(n.a)(t,[{key:"undoInitialStep",value:function(t){this.connect?t.connectEdge(this.fromID,this.toID,this.color,this.curve,this.directed,this.edgeLabel,this.anchorPoint):t.disconnect(this.fromID,this.toID)}},{key:"addUndoAnimation",value:function(){return!1}}]),t}(),ke=function(){function t(e){Object(a.a)(this,t),this.Nodes=[],this.Edges=[],this.BackEdges=[],this.activeLayers=[],this.activeLayers[0]=!0,this.ctx=e.current.getContext("2d"),this.framenum=0,this.width=0,this.height=0,this.statusReport=new ue(-1,"XXX",!1,30),this.statusReport.x=30}return Object(n.a)(t,[{key:"draw",value:function(){var t,e;for(this.framenum++,this.framenum>1e3&&(this.framenum=0),this.ctx.clearRect(0,0,this.width,this.height),this.statusReport.y=this.height-15,t=0;t<this.Nodes.length;t++)null==this.Nodes[t]||this.Nodes[t].highlighted||!this.Nodes[t].addedToScene||this.Nodes[t].alwaysOnTop||this.Nodes[t].draw(this.ctx);for(t=0;t<this.Nodes.length;t++)null!=this.Nodes[t]&&this.Nodes[t].highlighted&&!this.Nodes[t].alwaysOnTop&&this.Nodes[t].addedToScene&&(this.Nodes[t].pulseHighlight(this.framenum),this.Nodes[t].draw(this.ctx));for(t=0;t<this.Nodes.length;t++)null!=this.Nodes[t]&&this.Nodes[t].alwaysOnTop&&this.Nodes[t].addedToScene&&(this.Nodes[t].pulseHighlight(this.framenum),this.Nodes[t].draw(this.ctx));for(t=0;t<this.Edges.length;t++)if(null!=this.Edges[t])for(e=0;e<this.Edges[t].length;e++)this.Edges[t][e].addedToScene&&(this.Edges[t][e].pulseHighlight(this.framenum),this.Edges[t][e].draw(this.ctx));this.statusReport.draw(this.ctx)}},{key:"update",value:function(){}},{key:"setLayers",value:function(t,e){for(var i=0;i<e.length;i++)this.activeLayers[e[i]]=t;this.resetLayers()}},{key:"addHighlightCircleObject",value:function(t,e,i){if(null!=this.Nodes[t]&&void 0!==this.Nodes[t])throw new Error("addHighlightCircleObject:Object with same ID ("+String(t)+") already Exists!");var s=new ve(t,e,i);this.Nodes[t]=s}},{key:"setEdgeAlpha",value:function(t,e,i){var s=1;if(null!=this.Edges[t]&&void 0!==this.Edges[t])for(var h=this.Edges[t].length-1;h>=0;h--)null!=this.Edges[t][h]&&void 0!==this.Edges[t][h]&&this.Edges[t][h].Node2===this.Nodes[e]&&(s=this.Edges[t][h].alpha,this.Edges[t][h].alpha=i);return s}},{key:"setAlpha",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setAlpha(e)}},{key:"getAlpha",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]?this.Nodes[t].getAlpha():-1}},{key:"getTextColor",value:function(t,e){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]?this.Nodes[t].getTextColor(e):"#000000"}},{key:"setTextColor",value:function(t,e,i){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setTextColor(e,i)}},{key:"setHighlightIndex",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setHighlightIndex(e)}},{key:"setAllLayers",value:function(t){this.activeLayers=[];for(var e=0;e<t.length;e++)this.activeLayers[t[e]]=!0;this.resetLayers()}},{key:"resetLayers",value:function(){var t;for(t=0;t<this.Nodes.length;t++)null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&(this.Nodes[t].addedToScene=!0===this.activeLayers[this.Nodes[t].layer]);for(t=this.Edges.length-1;t>=0;t--)if(null!=this.Edges[t]&&void 0!==this.Edges[t])for(var e=0;e<this.Edges[t].length;e++)null!=this.Edges[t][e]&&void 0!==this.Edges[t][e]&&(this.Edges[t][e].addedToScene=!0===this.activeLayers[this.Edges[t][e].Node1.layer]&&!0===this.activeLayers[this.Edges[t][e].Node2.layer])}},{key:"setLayer",value:function(t,e){if(null!=this.Nodes[t]&&void 0!==this.Nodes[t]){if(this.Nodes[t].layer=e,this.activeLayers[e]?this.Nodes[t].addedToScene=!0:this.Nodes[t].addedToScene=!1,null!=this.Edges[t]&&void 0!==this.Edges[t])for(var i=0;i<this.Edges[t].length;i++){var s=this.Edges[t][i];null!=s&&void 0!==s&&(s.addedToScene=s.Node1.addedToScene&&s.Node2.addedToScene)}if(null!=this.BackEdges[t]&&void 0!==this.BackEdges[t])for(var h=0;h<this.BackEdges[t].length;h++){var a=this.BackEdges[t][h];null!=a&&void 0!==a&&(a.addedToScene=a.Node1.addedToScene&&a.Node2.addedToScene)}}}},{key:"clearAllObjects",value:function(){this.Nodes=[],this.Edges=[],this.BackEdges=[]}},{key:"setForegroundColor",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setForegroundColor(e)}},{key:"setBackgroundColor",value:function(t,e){null!=this.Nodes[t]&&this.Nodes[t].setBackgroundColor(e)}},{key:"setHighlight",value:function(t,e,i){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setHighlight(e,i)}},{key:"getHighlight",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].getHighlight()}},{key:"getHighlightIndex",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].getHighlightIndex()}},{key:"setWidth",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setWidth(e)}},{key:"setHeight",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setHeight(e)}},{key:"getHeight",value:function(t){return null==this.Nodes[t]||void 0===this.Nodes[t]?-1:this.Nodes[t].getHeight()}},{key:"getWidth",value:function(t){return null==this.Nodes[t]||void 0===this.Nodes[t]?-1:this.Nodes[t].getWidth()}},{key:"backgroundColor",value:function(t){return null!=this.Nodes[t]?this.Nodes[t].backgroundColor:"#000000"}},{key:"foregroundColor",value:function(t){return null!=this.Nodes[t]?this.Nodes[t].foregroundColor:"#000000"}},{key:"disconnect",value:function(t,e){var i,s=null;if(null!=this.Edges[t])for(var h=(i=this.Edges[t].length)-1;h>=0;h--)null!=this.Edges[t][h]&&this.Edges[t][h].Node2===this.Nodes[e]&&(s=this.Edges[t][h].createUndoDisconnect(),this.Edges[t][h]=this.Edges[t][i-1],i-=1,this.Edges[t].pop());if(null!=this.BackEdges[e])for(var a=(i=this.BackEdges[e].length)-1;a>=0;a--)null!=this.BackEdges[e][a]&&this.BackEdges[e][a].Node1===this.Nodes[t]&&(this.BackEdges[e][a],this.BackEdges[e][a]=this.BackEdges[e][i-1],i-=1,this.BackEdges[e].pop());return s}},{key:"deleteIncident",value:function(t){var e,i=[];if(null!=this.Edges[t]){for(var s=this.Edges[t].length-1;s>=0;s--){var h=(e=this.Edges[t][s]).Node2.identifier();i.push(e.createUndoDisconnect());for(var a=this.BackEdges[h].length,n=a-1;n>=0;n--)this.BackEdges[h][n]===e&&(this.BackEdges[h][n]=this.BackEdges[h][a-1],a-=1,this.BackEdges[h].pop())}this.Edges[t]=null}if(null!=this.BackEdges[t]){for(var l=this.BackEdges[t].length-1;l>=0;l--){var r=(e=this.BackEdges[t][l]).Node1.identifier();i.push(e.createUndoDisconnect());for(var o=this.Edges[r].length,d=o-1;d>=0;d--)this.Edges[r][d]===e&&(this.Edges[r][d]=this.Edges[r][o-1],o-=1,this.Edges[r].pop())}this.BackEdges[t]=null}return i}},{key:"removeObject",value:function(t){var e=this.Nodes[t];return t===this.Nodes.length-1?this.Nodes.pop():this.Nodes[t]=null,e}},{key:"getObject",value:function(t){if(null==this.Nodes[t]||void 0===this.Nodes[t])throw new Error("getObject:Object with ID ("+String(t)+") does not exist");return this.Nodes[t]}},{key:"addCircleObject",value:function(t,e){if(null!=this.Nodes[t]&&void 0!==this.Nodes[t])throw new Error("addCircleObject:Object with same ID ("+String(t)+") already Exists!");var i=new ne(t,e);this.Nodes[t]=i}},{key:"getNodeX",value:function(t){if(null==this.Nodes[t]||void 0===this.Nodes[t])throw new Error("getting x position of an object that does not exit");return this.Nodes[t].x}},{key:"getTextWidth",value:function(t){this.ctx.font="10px sans-serif";var e=t.split("\n"),i=0;if(1===e.length)i=this.ctx.measureText(t).width;else for(var s=0;s<e.length;s++)i=Math.max(i,this.ctx.measureText(e[s]).width);return i}},{key:"setText",value:function(t,e,i){if(null==this.Nodes[t]||void 0===this.Nodes[t])throw new Error("setting text of an object that does not exist");this.Nodes[t].setText(e,i,this.getTextWidth(e))}},{key:"getText",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t])throw new Error("getting text of an object that does not exit");return this.Nodes[t].getText(e)}},{key:"getNodeY",value:function(t){if(null==this.Nodes[t]||void 0===this.Nodes[t])throw new Error("getting y position of an object that does not exit");return this.Nodes[t].y}},{key:"connectEdge",value:function(t,e,i,s,h,a,n){var l=this.Nodes[t],r=this.Nodes[e];if(null==l||null==r)throw new Error("Tried to connect two nodes, one didn't exist!");var o=new ye(l,r,i,s,h,a,n);null==this.Edges[t]&&(this.Edges[t]=[]),null==this.BackEdges[e]&&(this.BackEdges[e]=[]),o.addedToScene=l.addedToScene&&r.addedToScene,this.Edges[t].push(o),this.BackEdges[e].push(o)}},{key:"setNull",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setNull(e)}},{key:"setPrevNull",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setPrevNull(e)}},{key:"setNextNull",value:function(t,e){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].setNextNull(e)}},{key:"getNull",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].getNull()}},{key:"getLeftNull",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].getLeftNull()}},{key:"getRightNull",value:function(t){return null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&this.Nodes[t].getRightNull()}},{key:"setEdgeColor",value:function(t,e,i){var s="#000000";if(null!=this.Edges[t]&&void 0!==this.Edges[t])for(var h=this.Edges[t].length-1;h>=0;h--)null!=this.Edges[t][h]&&void 0!==this.Edges[t][h]&&this.Edges[t][h].Node2===this.Nodes[e]&&(s=this.Edges[t][h].color(),this.Edges[t][h].setColor(i));return s}},{key:"alignTop",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.Nodes[t].alignTop(this.Nodes[e])}},{key:"alignLeft",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.Nodes[t].alignLeft(this.Nodes[e])}},{key:"alignRight",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.Nodes[t].alignRight(this.Nodes[e])}},{key:"getAlignRightPos",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.Nodes[t].getAlignRightPos(this.Nodes[e])}},{key:"getAlignLeftPos",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));return this.Nodes[t].getAlignLeftPos(this.Nodes[e])}},{key:"alignBottom",value:function(t,e){if(null==this.Nodes[t]||void 0===this.Nodes[t]||null==this.Nodes[e]||void 0===this.Nodes[e])throw new Error("Tring to align two nodes, one doesn't exist: "+String(t)+","+String(e));this.Nodes[t].alignBottom(this.Nodes[e])}},{key:"setEdgeHighlight",value:function(t,e,i){var s=!1;if(null!=this.Edges[t]&&void 0!==this.Edges[t])for(var h=this.Edges[t].length-1;h>=0;h--)null!=this.Edges[t][h]&&void 0!==this.Edges[t][h]&&this.Edges[t][h].Node2===this.Nodes[e]&&(s=this.Edges[t][h].highlighted,this.Edges[t][h].setHighlight(i));return s}},{key:"addLabelObject",value:function(t,e,i){if(null!=this.Nodes[t]&&void 0!==this.Nodes[t])throw new Error("addLabelObject: Object Already Exists!");var s=new ue(t,e,i,this.getTextWidth(e));this.Nodes[t]=s}},{key:"addLinkedListObject",value:function(t,e,i,s,h,a,n,l,r,o){if(null!=this.Nodes[t])throw new Error("addLinkedListObject:Object with same ID already Exists!");var d=new ge(t,e,i,s,h,a,n,l,r,o);this.Nodes[t]=d}},{key:"addDoublyLinkedListObject",value:function(t,e,i,s,h,a,n,l){if(null!=this.Nodes[t])throw new Error("addDoublyLinkedListObject:Object with same ID already Exists!");var r=new de(t,e,i,s,h,a,n,l);this.Nodes[t]=r}},{key:"addCircularlyLinkedListObject",value:function(t,e,i,s,h,a,n,l){if(null!=this.Nodes[t])throw new Error("addCircularlyLinkedListObject:Object with same ID already Exists!");var r=new re(t,e,i,s,h,a,n,l);this.Nodes[t]=r}},{key:"addSkipListObject",value:function(t,e,i,s,h,a,n){if(null!=this.Nodes[t])throw new Error("addSkipListObject:Object with same ID already Exists!");var l=new be(t,e,i,s,h,a,n);this.Nodes[t]=l}},{key:"getNumElements",value:function(t){return this.Nodes[t].getNumElements()}},{key:"setNumElements",value:function(t,e){this.Nodes[t].setNumElements(e)}},{key:"addBTreeNode",value:function(t,e,i,s,h,a){if(h=void 0===h?"#FFFFFF":h,a=void 0===a?"#FFFFFF":a,null!=this.Nodes[t]&&void 0!==this.Nodes[t])throw new Error("addBTreeNode:Object with same ID already Exists!");var n=new he(t,e,i,s,h,a);this.Nodes[t]=n}},{key:"addRectangleObject",value:function(t,e,i,s,h,a,n,l){if(null!=this.Nodes[t]||void 0!==this.Nodes[t])throw new Error("addRectangleObject:Object with same ID already Exists!");var r=new Ie(t,e,i,s,h,a,n,l);this.Nodes[t]=r}},{key:"setNodePosition",value:function(t,e,i){null!=this.Nodes[t]&&void 0!==this.Nodes[t]&&void 0!==e&&void 0!==i&&(this.Nodes[t].x=e,this.Nodes[t].y=i)}}]),t}(),Ce=i(18),Le=i.n(Ce),Te=i(53),_e=!1;function Ee(t,e){t.parentNode.replaceChild(t,e),t.parentNode.insertBefore(e,t)}function Fe(){(_e=!_e)?(Ee(document.getElementById("canvas"),document.getElementById("generalAnimationControlSection")),Oe("VisualizationControlSwapped","true",30)):(Ee(document.getElementById("generalAnimationControlSection"),document.getElementById("canvas")),Oe("VisualizationControlSwapped","false",30))}function Ae(t){var e,i,s,h=document.cookie.split(";");for(e=0;e<h.length;e++)if(i=h[e].substr(0,h[e].indexOf("=")),s=h[e].substr(h[e].indexOf("=")+1),(i=i.replace(/^\s+|\s+$/g,""))===t)return unescape(s)}function Oe(t,e,i){var s=new Date;s.setDate(s.getDate()+i),document.cookie=t+"="+e}var je=75;function Be(t,e,i,s){return void 0!==i&&(t.size=i),function(h){var a=0;return window.event?a=h.keyCode:h.which&&(a=h.which),13===a?(e(),!1):59!==a&&45!==a&&46!==a&&190!==a&&173!==a&&!((void 0!==i&&t.value.length>=i||s&&(a<48||a>57))&&!function(t){return 8===t||9===t||37===t||38===t||39===t||40===t||46===t}(a))}}function He(t,e,i,s){var h=document.createElement("input");h.setAttribute("type",e),h.setAttribute("value",i),"Button"===e?h.onclick=s:"Text"===e&&(h.onkeydown=s);var a=document.createElement("td");return a.appendChild(h),t.current.appendChild(a),h}var Re=function(t){function e(t,i){var s;Object(a.a)(this,e),(s=Object(l.a)(this,Object(r.a)(e).call(this))).objectManager=new ke(t),s.animatedObjects=s.objectManager,s.animationPaused=!1,s.awaitingStep=!1,s.currentlyAnimating=!1,s.AnimationSteps=[],s.currentAnimation=0,s.previousAnimationSteps=[],s.currFrame=0,s.animationBlockLength=0,s.currentBlock=null,s.undoStack=[],s.doingUndo=!1,s.undoAnimationStepIndices=[],s.undoAnimationStepIndicesStack=[],s.animationBlockLength=10,s.paused=!1,s.canvas=t,s.skipBackButton=He(i,"Button","Skip Back",(function(){return s.skipBack()})),s.stepBackButton=He(i,"Button","Step Back",(function(){return s.stepBack()})),s.playPauseBackButton=He(i,"Button","Pause",(function(){return s.doPlayPause()})),s.stepForwardButton=He(i,"Button","Step Forward",(function(){return s.step()})),s.skipForwardButton=He(i,"Button","Skip Forward",(function(){return s.skipForward()}));var h=document.createElement("div");h.setAttribute("display","inline-block"),h.setAttribute("float","left");var n=Ae("VisualizationSpeed");n=null==n||""===n?je:parseInt(n);var o=Ot.a.createElement(Te.a,{defaultValue:n,onChange:function(t,e){s.setSpeed(e),Oe("VisualizationSpeed",String(e),30)}}),d=document.createElement("td"),c=document.getElementById("GeneralAnimationControls"),u=document.createElement("table"),m=document.createElement("tr"),g=document.createElement("td");m.appendChild(g),Le.a.render(o,g),u.appendChild(m),m=document.createElement("tr"),(g=document.createElement("td")).align="center";var p=document.createTextNode("Animation Speed");m.appendChild(g),g.appendChild(p),u.appendChild(m),d.appendChild(u),c.appendChild(d),s.setSpeed(n),h.setAttribute("style","width:200px");var I=Ae("VisualizationWidth");I=null==I||""===I?1e3:parseInt(I);var D=Ae("VisualizationHeight");D=null==D||""===D?500:parseInt(D);var b=Ae("VisualizationControlSwapped");return(_e="true"===b)&&Ee(document.getElementById("canvas"),document.getElementById("generalAnimationControlSection")),canvas.width=I,canvas.height=D,d=document.createElement("td"),p=document.createTextNode(" w:"),d.appendChild(p),c.appendChild(d),s.widthEntry=He(i,"Text",canvas.width,(function(){return Be(s.widthEntry,s.changeSize.bind(Object(Bt.a)(s)),4,!0)})),s.widthEntry.size=4,d=document.createElement("td"),p=document.createTextNode("       h:"),d.appendChild(p),c.appendChild(d),s.heightEntry=He(i,"Text",canvas.height,(function(){return Be(s.heightEntry,s.changeSize.bind(Object(Bt.a)(s)),4,!0)})),s.heightEntry.size=4,s.sizeButton=He(i,"Button","Change Canvas Size",(function(){return s.changeSize()})),s.swapButton=He(i,"Button","Move Controls",Fe),s.addListener("AnimationStarted",Object(Bt.a)(s),s.animStarted),s.addListener("AnimationEnded",Object(Bt.a)(s),s.animEnded),s.addListener("AnimationWaiting",Object(Bt.a)(s),s.animWaiting),s.addListener("AnimationUndoUnavailable",Object(Bt.a)(s),s.anumUndoUnavailable),s.objectManager.width=canvas.width,s.objectManager.height=canvas.height,s}return Object(o.a)(e,t),Object(n.a)(e,[{key:"lerp",value:function(t,e,i){return(e-t)*i+t}},{key:"setPaused",value:function(t){this.animationPaused=t,this.animationPaused||this.step()}},{key:"setSpeed",value:function(t){this.animationBlockLength=Math.floor((100-t)/2)}},{key:"parseBool",value:function(t){var e=t.toUpperCase();return!("False"===e||"f"===e||" 0"===e||"0"===e||""===e)}},{key:"parseColor",value:function(t){return"#"===t.charAt(0)?t:"0x"===t.substring(0,2)?"#"+t.substring(2):void 0}},{key:"changeSize",value:function(){var t=parseInt(this.widthEntry.value),e=parseInt(this.heightEntry.value);t>100&&(canvas.width=t,this.animatedObjects.width=t,Oe("VisualizationWidth",String(t),30)),e>100&&(canvas.height=e,this.animatedObjects.height=e,Oe("VisualizationHeight",String(e),30)),this.widthEntry.value=canvas.width,this.heightEntry.value=canvas.height,this.animatedObjects.draw(),this.fireEvent("CanvasSizeChanged",{width:canvas.width,height:canvas.height})}},{key:"startNextBlock",value:function(){this.awaitingStep=!1,this.currentBlock=[];var t=[];if(this.currentAnimation===this.AnimationSteps.length)return this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),void this.animatedObjects.draw();this.undoAnimationStepIndices.push(this.currentAnimation);for(var e=!1,i=!1;this.currentAnimation<this.AnimationSteps.length&&!e;){var s=this.AnimationSteps[this.currentAnimation].split("<;>");if("CREATECIRCLE"===s[0].toUpperCase())this.animatedObjects.addCircleObject(parseInt(s[1]),s[2]),s.length>4&&this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[3]),parseInt(s[4])),t.push(new Pt(parseInt(s[1])));else if("CONNECT"===s[0].toUpperCase())s.length>7?this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),this.parseColor(s[3]),parseFloat(s[4]),this.parseBool(s[5]),s[6],parseInt(s[7])):s.length>6?this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),this.parseColor(s[3]),parseFloat(s[4]),this.parseBool(s[5]),s[6],0):s.length>5?this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),this.parseColor(s[3]),parseFloat(s[4]),this.parseBool(s[5]),"",0):s.length>4?this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),this.parseColor(s[3]),parseFloat(s[4]),!0,"",0):s.length>3?this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),this.parseColor(s[3]),0,!0,"",0):this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),"#000000",0,!0,"",0),t.push(new Se(parseInt(s[1]),parseInt(s[2]),!1));else if("CONNECTNEXT"===s[0].toUpperCase())this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),"#000000",0,!0,"",0),t.push(new Se(parseInt(s[1]),parseInt(s[2]),!1));else if("CONNECTPREV"===s[0].toUpperCase())this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),"#000000",0,!0,"",1),t.push(new Se(parseInt(s[1]),parseInt(s[2]),!1));else if("CONNECTCURVE"===s[0].toUpperCase())this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),"#000000",parseFloat(s[3]),!0,"",1),t.push(new Se(parseInt(s[1]),parseInt(s[2]),!1));else if("CONNECTSKIPLIST"===s[0].toUpperCase())this.animatedObjects.connectEdge(parseInt(s[1]),parseInt(s[2]),"#000000",0,!1,"",parseInt(s[3])),t.push(new Se(parseInt(s[1]),parseInt(s[2]),!1));else if("CREATERECTANGLE"===s[0].toUpperCase())9===s.length?this.animatedObjects.addRectangleObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),s[7],s[8],"#ffffff","#000000"):this.animatedObjects.addRectangleObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),"center","center","#ffffff","#000000"),s.length>6&&this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1])));else if("MOVE"===s[0].toUpperCase()){var h=parseInt(s[1]),a=new Ht(h,this.animatedObjects.getNodeX(h),this.animatedObjects.getNodeY(h),parseInt(s[2]),parseInt(s[3]));this.currentBlock.push(a),t.push(new wt(a.objectID,a.toX,a.toY,a.fromX,a.fromY)),i=!0}else if("MOVETOALIGNRIGHT"===s[0].toUpperCase()){var n=parseInt(s[1]),l=parseInt(s[2]),r=this.animatedObjects.getAlignRightPos(n,l),o=new Ht(n,this.animatedObjects.getNodeX(n),this.animatedObjects.getNodeY(n),r[0],r[1]);this.currentBlock.push(o),t.push(new wt(o.objectID,o.toX,o.toY,o.fromX,o.fromY)),i=!0}else if("STEP"===s[0].toUpperCase())e=!0;else if("SETFOREGROUNDCOLOR"===s[0].toUpperCase()){var d=parseInt(s[1]),c=this.animatedObjects.foregroundColor(d);this.animatedObjects.setForegroundColor(d,this.parseColor(s[2])),t.push(new Wt(d,c))}else if("SETBACKGROUNDCOLOR"===s[0].toUpperCase()){var u=parseInt(s[1]),m=this.animatedObjects.backgroundColor(u);this.animatedObjects.setBackgroundColor(u,this.parseColor(s[2])),t.push(new Kt(u,m))}else if("SETHIGHLIGHT"===s[0].toUpperCase()){var g=this.parseBool(s[2]);this.animatedObjects.setHighlight(parseInt(s[1]),g,s[3]),t.push(new Nt(parseInt(s[1]),!g))}else if("DISCONNECT"===s[0].toUpperCase()){var p=this.animatedObjects.disconnect(parseInt(s[1]),parseInt(s[2]));null!==p&&t.push(p)}else if("SETALPHA"===s[0].toUpperCase()){var I=this.animatedObjects.getAlpha(parseInt(s[1]));this.animatedObjects.setAlpha(parseInt(s[1]),parseFloat(s[2])),t.push(new Vt(parseInt(s[1]),I))}else if("SETTEXT"===s[0].toUpperCase())if(s.length>3){var D=this.animatedObjects.getText(parseInt(s[1]),parseInt(s[3]));this.animatedObjects.setText(parseInt(s[1]),s[2],parseInt(s[3])),void 0!==D&&t.push(new Jt(parseInt(s[1]),D,parseInt(s[3])))}else{var b=this.animatedObjects.getText(parseInt(s[1]),0);this.animatedObjects.setText(parseInt(s[1]),s[2],0),void 0!==b&&t.push(new Jt(parseInt(s[1]),b,0))}else if("DELETE"===s[0].toUpperCase()){var f=parseInt(s[1]),v=this.animatedObjects.deleteIncident(f);v.length>0&&(t=t.concat(v));var x=this.animatedObjects.getObject(f);null!==x&&(t.push(x.createUndoDelete()),this.animatedObjects.removeObject(f))}else if("CREATEHIGHLIGHTCIRCLE"===s[0].toUpperCase())s.length>5?this.animatedObjects.addHighlightCircleObject(parseInt(s[1]),this.parseColor(s[2]),parseFloat(s[5])):this.animatedObjects.addHighlightCircleObject(parseInt(s[1]),this.parseColor(s[2]),20),s.length>4&&this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[3]),parseInt(s[4])),t.push(new Pt(parseInt(s[1])));else if("CREATELABEL"===s[0].toUpperCase())6===s.length?this.animatedObjects.addLabelObject(parseInt(s[1]),s[2],this.parseBool(s[5])):this.animatedObjects.addLabelObject(parseInt(s[1]),s[2],!0),s.length>=5&&this.animatedObjects.setNodePosition(parseInt(s[1]),parseFloat(s[3]),parseFloat(s[4])),t.push(new Pt(parseInt(s[1])));else if("SETEDGECOLOR"===s[0].toUpperCase()){var y=parseInt(s[1]),S=parseInt(s[2]),k=this.parseColor(s[3]),C=this.animatedObjects.setEdgeColor(y,S,k);t.push(new $t(y,S,C))}else if("SETEDGEALPHA"===s[0].toUpperCase()){var L=parseInt(s[1]),T=parseInt(s[2]),_=parseFloat(s[3]),E=this.animatedObjects.setEdgeAlpha(L,T,_);t.push(new te(L,T,E))}else if("SETEDGEHIGHLIGHT"===s[0].toUpperCase()){var F=this.parseBool(s[3]),A=parseInt(s[1]),O=parseInt(s[2]),j=this.animatedObjects.setEdgeHighlight(A,O,F);t.push(new Zt(A,O,j))}else if("SETHEIGHT"===s[0].toUpperCase()){var B=parseInt(s[1]),H=this.animatedObjects.getHeight(B);this.animatedObjects.setHeight(B,parseInt(s[2])),t.push(new Mt(B,H))}else if("SETLAYER"===s[0].toUpperCase())this.animatedObjects.setLayer(parseInt(s[1]),parseInt(s[2]));else if("CREATELINKEDLIST"===s[0].toUpperCase())11===s.length?this.animatedObjects.addLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),parseFloat(s[7]),this.parseBool(s[8]),this.parseBool(s[9]),parseInt(s[10]),"#FFFFFF","#000000"):this.animatedObjects.addLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),.25,!0,!1,1,"#FFFFFF","#000000"),s.length>6&&(this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1]))));else if("CREATEDOUBLYLINKEDLIST"===s[0].toUpperCase())9===s.length?this.animatedObjects.addDoublyLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),parseFloat(s[7]),parseInt(s[8]),"#FFFFFF","#000000"):this.animatedObjects.addDoublyLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),.25,1,"#FFFFFF","#000000"),s.length>6&&(this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1]))));else if("CREATECIRCULARLYLINKEDLIST"===s[0].toUpperCase())9===s.length?this.animatedObjects.addCircularlyLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),parseFloat(s[7]),parseInt(s[8]),"#FFFFFF","#000000"):this.animatedObjects.addCircularlyLinkedListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),.25,1,"#FFFFFF","#000000"),s.length>6&&(this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1]))));else if("CREATESKIPLIST"===s[0].toUpperCase())7===s.length&&(this.animatedObjects.addSkipListObject(parseInt(s[1]),s[2],parseInt(s[3]),parseInt(s[4]),"#000000","#FFFFFF","#000000"),this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1]))));else if("SETNULL"===s[0].toUpperCase()){var R=this.animatedObjects.getNull(parseInt(s[1]));this.animatedObjects.setNull(parseInt(s[1]),this.parseBool(s[2])),t.push(new Yt(parseInt(s[1]),R))}else if("SETPREVNULL"===s[0].toUpperCase()){var w=this.animatedObjects.getLeftNull(parseInt(s[1]));this.animatedObjects.setPrevNull(parseInt(s[1]),this.parseBool(s[2])),t.push(new Xt(parseInt(s[1]),w))}else if("SETNEXTNULL"===s[0].toUpperCase()){var P=this.animatedObjects.getRightNull(parseInt(s[1]));this.animatedObjects.setNextNull(parseInt(s[1]),this.parseBool(s[2])),t.push(new Ut(parseInt(s[1]),P))}else if("SETTEXTCOLOR"===s[0].toUpperCase())if(s.length>3){var N=this.animatedObjects.getTextColor(parseInt(s[1]),parseInt(s[3]));this.animatedObjects.setTextColor(parseInt(s[1]),this.parseColor(s[2]),parseInt(s[3])),t.push(new Qt(parseInt(s[1]),N,parseInt(s[3])))}else{var M=this.animatedObjects.getTextColor(parseInt(s[1]),0);this.animatedObjects.setTextColor(parseInt(s[1]),this.parseColor(s[2]),0),t.push(new Qt(parseInt(s[1]),M,0))}else if("CREATEBTREENODE"===s[0].toUpperCase())this.animatedObjects.addBTreeNode(parseInt(s[1]),parseFloat(s[2]),parseFloat(s[3]),parseInt(s[4]),this.parseColor(s[7]),this.parseColor(s[8])),this.animatedObjects.setNodePosition(parseInt(s[1]),parseInt(s[5]),parseInt(s[6])),t.push(new Pt(parseInt(s[1])));else if("SETWIDTH"===s[0].toUpperCase()){var z=parseInt(s[1]);this.animatedObjects.setWidth(z,parseInt(s[2]));var G=this.animatedObjects.getWidth(z);t.push(new zt(z,G))}else if("SETNUMELEMENTS"===s[0].toUpperCase()){var V=this.animatedObjects.getObject(parseInt(s[1]));t.push(new Gt(V,parseInt(s[2]))),this.animatedObjects.setNumElements(parseInt(s[1]),parseInt(s[2]))}else if("SETPOSITION"===s[0].toUpperCase()){var Y=parseInt(s[1]),X=this.animatedObjects.getNodeX(Y),U=this.animatedObjects.getNodeY(Y);t.push(new ee(Y,X,U)),this.animatedObjects.setNodePosition(Y,parseInt(s[2]),parseInt(s[3]))}else if("ALIGNRIGHT"===s[0].toUpperCase()){var W=parseInt(s[1]),K=this.animatedObjects.getNodeX(W);t.push(new ee(W,K.oldY)),this.animatedObjects.alignRight(W,parseInt(s[2]))}else if("ALIGNLEFT"===s[0].toUpperCase()){var q=parseInt(s[1]),J=this.animatedObjects.getNodeX(q);t.push(new ee(q,J.oldY)),this.animatedObjects.alignLeft(q,parseInt(s[2]))}else if("ALIGNTOP"===s[0].toUpperCase()){var Q=parseInt(s[1]),Z=this.animatedObjects.getNodeX(Q);t.push(new ee(Q,Z.oldY)),this.animatedObjects.alignTop(Q,parseInt(s[2]))}else if("ALIGNBOTTOM"===s[0].toUpperCase()){var $=parseInt(s[1]),tt=this.animatedObjects.getNodeX($);t.push(new ee($,tt.oldY)),this.animatedObjects.alignBottom($,parseInt(s[2]))}else if("SETHIGHLIGHTINDEX"===s[0].toUpperCase()){var et=parseInt(s[1]),it=parseInt(s[2]),st=this.animatedObjects.getHighlightIndex(et);t.push(new qt(et,st)),this.animatedObjects.setHighlightIndex(et,it)}this.currentAnimation=this.currentAnimation+1}this.currFrame=0,(!i&&this.animationPaused||!i&&this.currentAnimation===this.AnimationSteps.length)&&(this.currFrame=this.animationBlockLength),this.undoStack.push(t)}},{key:"StartNewAnimation",value:function(t){this.stopTimer(),null!==this.AnimationSteps&&(this.previousAnimationSteps.push(this.AnimationSteps),this.undoAnimationStepIndicesStack.push(this.undoAnimationStepIndices)),void 0===t||0===t.length?this.AnimationSteps=["Step"]:this.AnimationSteps=t,this.undoAnimationStepIndices=[],this.currentAnimation=0,this.startNextBlock(),this.currentlyAnimating=!0,this.fireEvent("AnimationStarted","NoData"),this.startTimer()}},{key:"stepBack",value:function(){this.awaitingStep&&null!==this.undoStack&&0!==this.undoStack.length?(this.fireEvent("AnimationStarted","NoData"),this.stopTimer(),this.awaitingStep=!1,this.undoLastBlock(),this.stopTimer(),this.startTimer()):!this.currentlyAnimating&&this.animationPaused&&null!==this.undoAnimationStepIndices&&(this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.undoLastBlock(),this.stopTimer(),this.startTimer())}},{key:"step",value:function(){this.awaitingStep&&(this.startNextBlock(),this.fireEvent("AnimationStarted","NoData"),this.currentlyAnimating=!0,this.stopTimer(),this.startTimer())}},{key:"clearHistory",value:function(){this.undoStack=[],this.undoAnimationStepIndices=null,this.previousAnimationSteps=[],this.undoAnimationStepIndicesStack=[],this.AnimationSteps=null,this.fireEvent("AnimationUndoUnavailable","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}},{key:"skipBack",value:function(){var t=null!==this.undoAnimationStepIndices&&0!==this.undoAnimationStepIndices.length;if(t){var e;for(e=0;null!==this.currentBlock&&e<this.currentBlock.length;e++){var i=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(i,this.currentBlock[e].toX,this.currentBlock[e].toY)}for(this.doingUndo&&this.finishUndoBlock(this.undoStack.pop());t;){for(this.undoLastBlock(),e=0;e<this.currentBlock.length;e++){var s=this.currentBlock[e].objectID;this.animatedObjects.setNodePosition(s,this.currentBlock[e].toX,this.currentBlock[e].toY)}t=this.finishUndoBlock(this.undoStack.pop())}this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),null!=this.undoStack&&0!==this.undoStack.length||this.fireEvent("AnimationUndoUnavailable","NoData")}}},{key:"resetAll",value:function(){this.clearHistory(),this.animatedObjects.clearAllObjects(),this.animatedObjects.draw(),this.stopTimer()}},{key:"skipForward",value:function(){if(this.currentlyAnimating){for(this.animatedObjects.runFast=!0;null!==this.AnimationSteps&&this.currentAnimation<this.AnimationSteps.length;){for(var t=0;null!==this.currentBlock&&t<this.currentBlock.length;t++){var e=this.currentBlock[t].objectID;this.animatedObjects.setNodePosition(e,this.currentBlock[t].toX,this.currentBlock[t].toY)}this.doingUndo&&this.finishUndoBlock(this.undoStack.pop()),this.startNextBlock();for(var i=0;i<this.currentBlock.length;i++){var s=this.currentBlock[i].objectID;this.animatedObjects.setNodePosition(s,this.currentBlock[i].toX,this.currentBlock[i].toY)}}this.animatedObjects.update(),this.currentlyAnimating=!1,this.awaitingStep=!1,this.doingUndo=!1,this.animatedObjects.runFast=!1,this.fireEvent("AnimationEnded","NoData"),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw()}}},{key:"finishUndoBlock",value:function(t){for(var e=t.length-1;e>=0;e--)t[e].undoInitialStep(this.animatedObjects);return this.doingUndo=!1,0!==this.undoAnimationStepIndices.length||(this.awaitingStep=!1,this.currentlyAnimating=!1,this.undoAnimationStepIndices=this.undoAnimationStepIndicesStack.pop(),this.AnimationSteps=this.previousAnimationSteps.pop(),this.fireEvent("AnimationEnded","NoData"),this.fireEvent("AnimationUndo","NoData"),this.currentBlock=[],null!=this.undoStack&&0!==this.undoStack.length||(this.currentlyAnimating=!1,this.awaitingStep=!1,this.fireEvent("AnimationUndoUnavailable","NoData")),this.stopTimer(),this.animatedObjects.update(),this.animatedObjects.draw(),!1)}},{key:"undoLastBlock",value:function(){if(0!==this.undoAnimationStepIndices.length&&this.undoAnimationStepIndices.length>0){this.doingUndo=!0;var t=!1;this.currentAnimation=this.undoAnimationStepIndices.pop(),this.currentBlock=[];var e,i=this.undoStack[this.undoStack.length-1];for(e=i.length-1;e>=0;e--){var s=i[e].addUndoAnimation(this.currentBlock);t=t||s}this.currFrame=0,!t&&this.animationPaused&&(this.currFrame=this.animationBlockLength),this.currentlyAnimating=!0}}},{key:"setLayer",value:function(t,e){this.animatedObjects.setLayer(t,e),this.animatedObjects.draw()}},{key:"setAllLayers",value:function(t){this.animatedObjects.setAllLayers(t),this.animatedObjects.draw()}},{key:"update",value:function(){if(this.currentlyAnimating){var t;for(this.currFrame=this.currFrame+1,t=0;t<this.currentBlock.length;t++)if(this.currFrame===this.animationBlockLength||1===this.currFrame&&0===this.animationBlockLength)this.animatedObjects.setNodePosition(this.currentBlock[t].objectID,this.currentBlock[t].toX,this.currentBlock[t].toY);else if(this.currFrame<this.animationBlockLength){var e=this.currentBlock[t].objectID,i=1/(this.animationBlockLength-this.currFrame),s=this.lerp(this.animatedObjects.getNodeX(e),this.currentBlock[t].toX,i),h=this.lerp(this.animatedObjects.getNodeY(e),this.currentBlock[t].toY,i);this.animatedObjects.setNodePosition(e,s,h)}this.currFrame>=this.animationBlockLength&&(this.doingUndo?this.finishUndoBlock(this.undoStack.pop())&&(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData")):this.animationPaused&&this.currentAnimation<this.AnimationSteps.length?(this.awaitingStep=!0,this.fireEvent("AnimationWaiting","NoData"),this.currentBlock=[]):this.startNextBlock()),this.animatedObjects.update()}}},{key:"animWaiting",value:function(){this.stepForwardButton.disabled=!1,!1===this.skipBackButton.disabled&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Paused"),this.objectManager.statusReport.setForegroundColor("#FF0000")}},{key:"animStarted",value:function(){this.skipForwardButton.disabled=!1,this.skipBackButton.disabled=!1,this.stepForwardButton.disabled=!0,this.stepBackButton.disabled=!0,this.objectManager.statusReport.setText("Animation Running"),this.objectManager.statusReport.setForegroundColor("#009900")}},{key:"animEnded",value:function(){this.skipForwardButton.disabled=!0,this.stepForwardButton.disabled=!0,!1===this.skipBackButton.disabled&&this.paused&&(this.stepBackButton.disabled=!1),this.objectManager.statusReport.setText("Animation Completed"),this.objectManager.statusReport.setForegroundColor("#000000")}},{key:"anumUndoUnavailable",value:function(){this.skipBackButton.disabled=!0,this.stepBackButton.disabled=!0}},{key:"timeout",value:function(){var t=this;this.timer=setTimeout((function(){return t.timeout()}),30),this.update(),this.objectManager.draw()}},{key:"doPlayPause",value:function(){this.paused=!this.paused,this.paused?(this.playPauseBackButton.setAttribute("value","Play"),!1===this.skipBackButton.disabled&&(this.stepBackButton.disabled=!1)):this.playPauseBackButton.setAttribute("value","Pause"),this.setPaused(this.paused)}},{key:"startTimer",value:function(){var t=this;this.timer=setTimeout((function(){return t.timeout()}),30)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}}]),e}(ie),we=function(t){function e(t){var i;Object(a.a)(this,e),i=Object(l.a)(this,Object(r.a)(e).call(this,t));var s=t.location;i.canvasRef=Ot.a.createRef(),i.animBarRef=Ot.a.createRef();var h=s.pathname.slice(1);return i.state={algoName:h,examplesEnabled:!1},i}return Object(o.a)(e,t),Object(n.a)(e,[{key:"toggleExamples",value:function(){this.setState({examplesEnabled:!this.state.examplesEnabled})}},{key:"componentDidMount",value:function(){Ft(this.state.algoName)&&(this.animManag=new Re(this.canvasRef,this.animBarRef),this.currentAlg=new Et[this.state.algoName][1](this.animManag,this.canvasRef.current.width,this.canvasRef.current.height))}},{key:"render",value:function(){var t=this,e=this.state.algoName;if(!Ft(e))return Ot.a.createElement("h1",null,"404!");var i,h=Et[e][2]?Et[e][2]:Et[e][0];return Ot.a.createElement("div",{className:"VisualizationMainPage"},Ot.a.createElement("div",{id:"container"},Ot.a.createElement("div",{id:"header"},Ot.a.createElement("h1",null,h)),Ot.a.createElement("div",{id:"mainContent"},Ot.a.createElement("div",{id:"algoControlSection"},Ot.a.createElement("table",{id:"AlgorithmSpecificControls"}),(i=e,Object.keys(jt).includes(i)?Ot.a.createElement("button",{className:this.state.examplesEnabled?"selected":"",id:"examplesButton",onClick:function(){return t.toggleExamples()}}):null)),Ot.a.createElement("canvas",{id:"canvas",width:"1000",height:"503",ref:this.canvasRef}),Ot.a.createElement("div",{id:"generalAnimationControlSection"},Ot.a.createElement("table",{id:"GeneralAnimationControls",ref:this.animBarRef}))),Ot.a.createElement("div",{id:"examplesModal",className:"modal".concat(this.state.examplesEnabled?" show":"")},Ot.a.createElement("div",{className:"modal-content"},jt[e])),Ot.a.createElement("div",{id:"footer"},Ot.a.createElement("p",null,Ot.a.createElement(s.b,{to:"/"},"Return to Home Page")))))}}]),e}(Ot.a.Component),Pe=i(30),Ne=function(){return Ot.a.createElement("p",null,"This is a tool to help you visualize and understand the data structures and algorithms covered in the GT CS1332 course. It is based on the"," ",Ot.a.createElement("a",{href:"https://www.cs.usfca.edu/~galles/visualization/about.html"},"Data Structures Visualizations website")," ","by David Gales. The CS1332 Visualization Tool was adapted and expanded by Rodrigo Pontes in 2019, under the supervision of Mary Hudachek-Buswell, to include data structures and algorithms covered in the course. Icons from"," ",Ot.a.createElement("a",{href:"https://material.io/resources/icons/?style=baseline"},"Google's Material Icons")," ","are also used.")},Me=function(){var t=Object.entries(Et).map((function(t,e){var i=Object(Pe.a)(t,2),h=i[0],a=i[1];return Ot.a.createElement(s.b,{to:"/".concat(h),key:e},Ot.a.createElement("input",{className:"button",type:"button",value:a[0]}))}));return Ot.a.createElement("div",{className:"container"},Ot.a.createElement("div",{className:"header"},Ot.a.createElement("h1",null,"CS1332 Data Structures Visualizations")),Ot.a.createElement("div",{className:"menu"},Ot.a.createElement("ul",null,Ot.a.createElement("li",null,Ot.a.createElement(s.b,{to:"/"},"Home")),Ot.a.createElement("li",null,Ot.a.createElement(s.b,{to:"/about"},"About")))),Ot.a.createElement("div",{className:"content"},Ot.a.createElement(h.c,null,Ot.a.createElement(h.a,{exact:!0,path:"/"},t),Ot.a.createElement(h.a,{path:"/about"},Ot.a.createElement(Ne,null)))),Ot.a.createElement("div",{className:"footer"},"Copyright 2011 ",Ot.a.createElement("a",{href:"http://www.cs.usfca.edu/galles"},"David Galles")))},ze=function(){return Ot.a.createElement(s.a,{basename:"/visualization-tool/"},Ot.a.createElement(h.c,null,Ot.a.createElement(h.a,{exact:!0,path:"/",component:Me}),Ot.a.createElement(h.a,{path:"/about",component:Me}),Ot.a.createElement(h.a,{component:we})))};Le.a.render(Ot.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.d9497a27.chunk.js.map